function AuthSvc(t,e,n,r){function i(){return l.$waitForAuth()}function o(){return t(function(t,e){l.$authAnonymously().then(function(t){return r.createUser(t)},function(t){e(t)}).then(function(e){t(e)})})}function a(){l.$unauth()}function s(){return c}function u(t){c=t}var c,l=e(n.ref),f={checkAuth:i,signupAnon:o,logout:a,getAuthStatus:s,setAuthStatus:u};return f}function DataSvc(t,e,n,r){function i(i){return t(function(t,o){var a=e(r.ref.child("users").child(i).child("quotes"));a.$loaded().then(function(){if(0===a.length)t(0);else{var e=p(0,a.length-1),i=a[e],o=n(r.ref.child("quotes").child(i.packageID).child(i.quoteID));a.$remove(e),t(o)}},function(t){o(t)})})}function o(e){return t(function(t,n){var i=r.ref.child("users").child(e).child("packages").child("subscribed"),o=r.ref.child("users").child(e).child("quotes");o.remove(function(e){return e?void n(e):void i.once("value",function(e){var i=e.numChildren(),a=0;e.forEach(function(e){r.ref.child("quotes").child(e.key()).once("value",function(r){var s=r.numChildren(),u=0;r.forEach(function(r){o.push({packageID:e.key(),quoteID:r.key()},function(e){return e?void n(e):void(u===s-1&&a===i-1?t():u===s-1?(a++,u++):u++)})})})})})})})}function a(){return e(r.ref.child("packages"))}function s(t){return e(r.ref.child("packages").orderByChild("creator").equalTo(t))}function u(t){return e(new Firebase.util.NormalizedCollection(r.ref.child("users").child(t).child("packages/subscribed"),r.ref.child("packages")).select("packages.name","packages.creator").ref())}function c(e,n){return t(function(t,i){r.ref.child("users").child(e).child("packages").child("subscribed").child(n).set(!0,function(e){e?i(e):t()})})}function l(e,n){return t(function(t,i){r.ref.child("users").child(e).child("packages").child("subscribed").child(n).remove(function(e){e?i(e):t()})})}function f(e,n,i){return t(function(t,o){var a=r.ref.child("packages").push({name:n,creator:e},function(e){if(e)return void o(e);for(var n=0,s=0;s<i.length;s++)r.ref.child("quotes").child(a.key()).push({body:i[s].body,author:i[s].author,link:i[s].link},function(e){return e?void o(e):(n===i.length-1&&t(a),void n++)})})})}function h(t){return n(r.ref.child("users").child(t).child("color"))}function d(e,n){return t(function(t,i){r.ref.child("users").child(e).child("color").set({name:n.name,val:n.val,valDark:n.valDark},function(e){e?i(e):t()})})}function p(t,e){return Math.floor(Math.random()*(e-t+1))+t}var g={getQuote:i,generateQuoteList:o,getPackagesAll:a,getPackagesOwn:s,getPackagesSubscribed:u,subscribePackage:c,unsubscribePackage:l,createPackage:f,getColor:h,setColor:d};return g}function packagesAllFltr(){function t(t,e,n){var r=[];if(!t||!e||!n)return[];for(var i=0;i<e.length;i++)r.push(e[i].$id);for(var o=0;o<n.length;o++)r.push(n[o].$id);return _.filter(t,function(t){return-1===r.indexOf(t.$id)})}return t}function FormCtrl(t,e){function n(){i.quotesAdded.push({body:i.quoteCurrent.body,author:i.quoteCurrent.author,link:i.quoteCurrent.link}),i.quoteCurrent={body:"",author:"",link:""}}function r(){t.createPackage(e.getAuthStatus().uid,i.packageName,i.quotesAdded).then(function(){i.packageName="",i.quotesAdded=[]},function(t){})}var i=this;i.quotesAdded=[],i.quoteCurrent={body:"",author:"",link:""},i.addQuote=n,i.createPackage=r,i.packageName=""}function HomeCtrl(t,e,n,r){function i(){a().then(function(t){r.setAuthStatus(t),o(),u.currentColor=n.getColor(r.getAuthStatus().uid)},function(t){})}function o(){n.getQuote(r.getAuthStatus().uid).then(function(t){0===t?u.quote.body="out of quotes":u.quote=t},function(t){})}function a(){return t(function(t,n){e?t(e):r.signupAnon().then(function(e){t(e)},function(t){n(t)})})}function s(){n.generateQuoteList(r.getAuthStatus().uid).then(function(){},function(t){})}var u=this;u.show={settings:!0,form:!1},u.generateQuoteList=s,u.quote={},u.currentColor="rgba(255, 255, 255, 1.0)",i()}function SettingsCtrl(){function t(t){for(var n in e.show)e.show.hasOwnProperty(n)&&(e.show[n]=!1);e.show[t]=!0}var e=this;e.toggleTab=t,e.show={packages:!0,colors:!1,account:!1}}function UserSvc(t,e){function n(n){return t(function(t,r){e.ref.child("users").child(n.uid).set({color:"blue"},function(e){e?r(e):t(n)})})}var r={createUser:n};return r}function ColorsCtrl(t,e){function n(n){t.setColor(e.getAuthStatus().uid,n).then(function(){},function(t){})}function r(t){var e={"background-color":t.val,"border-color":t.name===o.name?t.valDark:"rgba(255, 255, 255, 1.0)"};return"white"===t.name&&t.name!==o.name&&(e.outline="1px solid "+t.valDark,e["outline-offset"]="-5px"),e}var i=this,o=t.getColor(e.getAuthStatus().uid);i.selectColor=n,i.getColorStyle=r,i.colors=[{name:"redPastel",val:"rgba(255, 105, 97, 1.0)",valDark:"rgba(191, 79, 73, 1.0)"},{name:"greenPastel",val:"rgba(119, 190, 119, 1.0)",valDark:"rgba(89, 143, 89, 1.0)"},{name:"bluePastelDark",val:"rgba(119, 158, 203, 1.0)",valDark:"rgba(89, 119, 152, 1.0)"},{name:"grayPastel",val:"rgba(207, 207, 196, 1.0)",valDark:"rgba(155, 155, 147, 1.0)"},{name:"white",val:"rgba(255, 255, 255, 1.0)",valDark:"rgba(191, 191, 191, 1.0)"}]}function PackagesCtrl(t,e){function n(){r.packagesAll=e.getPackagesAll(),r.packagesOwn=e.getPackagesOwn(t.getAuthStatus().uid),r.packagesSubscribed=e.getPackagesSubscribed(t.getAuthStatus().uid)}var r=this;r.packagesAll,r.packagesOwn,r.packagesSubscribed,n()}function packageDctv(t,e){function n(n){function r(n){t.subscribePackage(e.getAuthStatus().uid,n).then(function(){},function(t){})}function i(n){t.unsubscribePackage(e.getAuthStatus().uid,n).then(function(){},function(t){})}n.addPackage=r,n.removePackage=i,n.show={options:!1},n["package"],n.type}return{restrict:"E",scope:{"package":"=",type:"@"},templateUrl:"components/settings/packages/package/package.html",link:n}}!function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",u=o[1];for(s+=u.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+i;return n<o.length?bt(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.4.5/"+(t?t+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(bt(o[r]));return new e(s)}}function i(t){if(null==t||_(t))return!1;var e="length"in Object(t)&&t.length;return t.nodeType===Hr&&e?!0:x(t)||Nr(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r,a;if(t)if(S(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(Nr(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;a>r;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(k(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)br.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function u(){return++Mr}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;o>i;++i){var a=e[i];if(w(a)||S(a))for(var s=Object.keys(a),u=0,f=s.length;f>u;u++){var h=s[u],d=a[h];n&&w(d)?A(d)?t[h]=new Date(d.valueOf()):E(d)?t[h]=new RegExp(d):(w(t[h])||(t[h]=Nr(d)?[]:{}),l(t[h],[d],!0)):t[h]=d}}return c(t,r),t}function f(t){return l(t,Er.call(arguments,1),!1)}function h(t){return l(t,Er.call(arguments,1),!0)}function d(t){return parseInt(t,10)}function p(t,e){return f(Object.create(t),e)}function g(){}function v(t){return t}function m(t){return function(){return t}}function y(t){return S(t.toString)&&t.toString!==Object.prototype.toString}function b(t){return"undefined"==typeof t}function $(t){return"undefined"!=typeof t}function w(t){return null!==t&&"object"==typeof t}function k(t){return null!==t&&"object"==typeof t&&!jr(t)}function x(t){return"string"==typeof t}function C(t){return"number"==typeof t}function A(t){return"[object Date]"===Pr.call(t)}function S(t){return"function"==typeof t}function E(t){return"[object RegExp]"===Pr.call(t)}function _(t){return t&&t.window===t}function O(t){return t&&t.$evalAsync&&t.$watch}function P(t){return"[object File]"===Pr.call(t)}function j(t){return"[object FormData]"===Pr.call(t)}function F(t){return"[object Blob]"===Pr.call(t)}function T(t){return"boolean"==typeof t}function M(t){return t&&S(t.then)}function R(t){return Dr.test(Pr.call(t))}function N(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function D(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function q(t){return yr(t.nodeName||t[0]&&t[0].nodeName)}function U(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function I(t,e,n,r){if(_(t)||O(t))throw Fr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(R(e))throw Fr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e){if(t===e)throw Fr("cpi","Can't copy! Source and destination are identical.");n=n||[],r=r||[],w(t)&&(n.push(t),r.push(e));var i;if(Nr(t)){e.length=0;for(var a=0;a<t.length;a++)e.push(I(t[a],null,n,r))}else{var s=e.$$hashKey;if(Nr(e)?e.length=0:o(e,function(t,n){delete e[n]}),k(t))for(i in t)e[i]=I(t[i],null,n,r);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=I(t[i],null,n,r));else for(i in t)br.call(t,i)&&(e[i]=I(t[i],null,n,r));c(e,s)}}else if(e=t,w(t)){var u;if(n&&-1!==(u=n.indexOf(t)))return r[u];if(Nr(t))return I(t,[],n,r);if(R(t))e=new t.constructor(t);else if(A(t))e=new Date(t.getTime());else{if(!E(t)){var l=Object.create(jr(t));return I(t,l,n,r)}e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex}r&&(n.push(t),r.push(e))}return e}function L(t,e){if(Nr(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(w(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function V(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,o,a=typeof t,s=typeof e;if(a==s&&"object"==a){if(!Nr(t)){if(A(t))return A(e)?V(t.getTime(),e.getTime()):!1;if(E(t))return E(e)?t.toString()==e.toString():!1;if(O(t)||O(e)||_(t)||_(e)||Nr(e)||A(e)||E(e))return!1;o=vt();for(i in t)if("$"!==i.charAt(0)&&!S(t[i])){if(!V(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!(i in o||"$"===i.charAt(0)||e[i]===n||S(e[i])))return!1;return!0}if(!Nr(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!V(t[i],e[i]))return!1;return!0}}return!1}function B(t,e,n){return t.concat(Er.call(e,n))}function W(t,e){return Er.call(t,e||0)}function H(t,e){var n=arguments.length>2?W(arguments,2):[];return!S(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,B(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function K(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:_(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":O(r)&&(i="$SCOPE"),i}function z(t,e){return"undefined"==typeof t?n:(C(e)||(e=e?2:null),JSON.stringify(t,K,e))}function Q(t){return x(t)?JSON.parse(t):t}function G(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Y(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function J(t,e,n){n=n?-1:1;var r=G(e,t.getTimezoneOffset());return Y(t,n*(r-t.getTimezoneOffset()))}function X(t){t=Cr(t).clone();try{t.empty()}catch(e){}var n=Cr("<div>").append(t).html();try{return t[0].nodeType===zr?yr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+yr(e)})}catch(e){return yr(n)}}function Z(t){try{return decodeURIComponent(t)}catch(e){}}function tt(t){var e={};return o((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(r=t.substring(0,n),i=t.substring(n+1)),r=Z(r),$(r)&&(i=$(i)?Z(i):!0,br.call(e,r)?Nr(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function et(t){var e=[];return o(t,function(t,n){Nr(t)?o(t,function(t){e.push(rt(n,!0)+(t===!0?"":"="+rt(t,!0)))}):e.push(rt(n,!0)+(t===!0?"":"="+rt(t,!0)))}),e.length?e.join("&"):""}function nt(t){return rt(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function rt(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function it(t,e){var n,r,i=Vr.length;for(r=0;i>r;++r)if(n=Vr[r]+e,x(n=t.getAttribute(n)))return n;return null}function ot(t,e){var n,r,i={};o(Vr,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(Vr,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==it(n,"strict-di"),e(n,r?[r]:[],i))}function at(n,r,i){w(i)||(i={});var a={strictDi:!1};i=f(a,i);var s=function(){if(n=Cr(n),n.injector()){var t=n[0]===e?"document":X(n);throw Fr("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Xt(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return t&&u.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(u,"")),t&&!c.test(t.name)?s():(t.name=t.name.replace(c,""),Tr.resumeBootstrap=function(t){return o(t,function(t){r.push(t)}),s()},void(S(Tr.resumeDeferredBootstrap)&&Tr.resumeDeferredBootstrap()))}function st(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ut(t){var e=Tr.element(t).injector();if(!e)throw Fr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ct(t,e){return e=e||"_",t.replace(Br,function(t,n){return(n?e:"")+t.toLowerCase()})}function lt(){var e;if(!Wr){var r=Lr();Ar=t.jQuery,$(r)&&(Ar=null===r?n:t[r]),Ar&&Ar.fn.on?(Cr=Ar,f(Ar.fn,{scope:fi.scope,isolateScope:fi.isolateScope,controller:fi.controller,injector:fi.injector,inheritedData:fi.inheritedData}),e=Ar.cleanData,Ar.cleanData=function(t){var n;if(Rr)Rr=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=Ar._data(r,"events"),n&&n.$destroy&&Ar(r).triggerHandler("$destroy");e(t)}):Cr=_t,Tr.element=Cr,Wr=!0}}function ft(t,e,n){if(!t)throw Fr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ht(t,e,n){return n&&Nr(t)&&(t=t[t.length-1]),ft(S(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function dt(t,e){if("hasOwnProperty"===t)throw Fr("badname","hasOwnProperty is not a valid {0} name",e)}function pt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;a>s;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&S(t)?H(o,t):t}function gt(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return Cr(r)}function vt(){return Object.create(null)}function mt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,e,n,r){return r||(r=i),function(){return r[n||"push"]([t,e,arguments]),l}}function e(t,e){return function(n,o){return o&&S(o)&&(o.$$moduleName=r),i.push([t,e,arguments]),l}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],s=[],u=[],c=t("$injector","invoke","push",s),l={_invokeQueue:i,_configBlocks:s,_runBlocks:u,requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:c,run:function(t){return u.push(t),this}};return a&&c(a),l})}})}function yt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=K(t,n),w(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function bt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?yt(t):t}function $t(e){f(e,{bootstrap:at,copy:I,extend:f,merge:h,equals:V,element:Cr,forEach:o,injector:Xt,noop:g,bind:H,toJson:z,fromJson:Q,identity:v,isUndefined:b,isDefined:$,isString:x,isFunction:S,isObject:w,isNumber:C,isElement:N,isArray:Nr,version:Jr,isDate:A,lowercase:yr,uppercase:$r,callbacks:{counter:0},getTestability:ut,$$minErr:r,$$csp:Ir,reloadWithDebugInfo:st}),(Sr=mt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:gn}),t.provider("$compile",ue).directive({a:fo,input:Oo,textarea:Oo,form:mo,script:wa,select:Ca,style:Sa,option:Aa,ngBind:Fo,ngBindHtml:Mo,ngBindTemplate:To,ngClass:No,ngClassEven:qo,ngClassOdd:Do,ngCloak:Uo,ngController:Io,ngForm:yo,ngHide:ga,ngIf:Bo,ngInclude:Wo,ngInit:Ko,ngNonBindable:aa,ngPluralize:la,ngRepeat:fa,ngShow:pa,ngStyle:va,ngSwitch:ma,ngSwitchWhen:ya,ngSwitchDefault:ba,ngOptions:ca,ngTransclude:$a,ngModel:ra,ngList:zo,ngChange:Ro,pattern:_a,ngPattern:_a,required:Ea,ngRequired:Ea,minlength:Pa,ngMinlength:Pa,maxlength:Oa,ngMaxlength:Oa,ngValue:jo,ngModelOptions:oa}).directive({ngInclude:Ho}).directive(ho).directive(Lo),t.provider({$anchorScroll:Zt,$animate:Si,$animateCss:Ei,$$animateQueue:Ai,$$AnimateRunner:Ci,$browser:oe,$cacheFactory:ae,$controller:de,$document:pe,$exceptionHandler:ge,$filter:On,$$forceReflow:Fi,$interpolate:Oe,$interval:Pe,$http:Ae,$httpParamSerializer:me,$httpParamSerializerJQLike:ye,$httpBackend:Ee,$location:We,$log:He,$parse:cn,$rootScope:pn,$q:ln,$$q:fn,$sce:bn,$sceDelegate:yn,$sniffer:$n,$templateCache:se,$templateRequest:wn,$$testability:kn,$timeout:xn,$window:Sn,$$rAF:dn,$$jqLite:zt,$$HashMap:gi,$$cookieReader:_n})}])}function wt(){return++Zr}function kt(t){return t.replace(ni,function(t,e,n,r){return r?n.toUpperCase():n}).replace(ri,"Moz$1")}function xt(t){return!si.test(t)}function Ct(t){var e=t.nodeType;return e===Hr||!e||e===Gr}function At(t){for(var e in Xr[t.ng339])return!0;return!1}function St(t,e){var n,r,i,a,s=e.createDocumentFragment(),u=[];if(xt(t))u.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),r=(ui.exec(t)||["",""])[1].toLowerCase(),i=li[r]||li._default,n.innerHTML=i[1]+t.replace(ci,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=B(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function Et(t,n){n=n||e;var r;return(r=ai.exec(t))?[n.createElement(r[1])]:(r=St(t,n))?r.childNodes:[]}function _t(t){if(t instanceof _t)return t;var e;if(x(t)&&(t=qr(t),e=!0),!(this instanceof _t)){if(e&&"<"!=t.charAt(0))throw oi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new _t(t)}e?qt(this,Et(t)):qt(this,t)}function Ot(t){return t.cloneNode(!0)}function Pt(t,e){if(e||Ft(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Ft(n[r])}function jt(t,e,n,r){if($(r))throw oi("offargs","jqLite#off() does not support the `selector` argument");var i=Tt(t),a=i&&i.events,s=i&&i.handle;if(s)if(e)o(e.split(" "),function(e){if($(n)){var r=a[e];if(U(r||[],n),r&&r.length>0)return}ei(t,e,s),delete a[e]});else for(e in a)"$destroy"!==e&&ei(t,e,s),delete a[e]}function Ft(t,e){var r=t.ng339,i=r&&Xr[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),jt(t)),delete Xr[r],t.ng339=n}}function Tt(t,e){var r=t.ng339,i=r&&Xr[r];return e&&!i&&(t.ng339=r=wt(),i=Xr[r]={events:{},data:{},handle:n}),i}function Mt(t,e,n){if(Ct(t)){var r=$(n),i=!r&&e&&!w(e),o=!e,a=Tt(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];f(s,e)}}}function Rt(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Nt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",qr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+qr(e)+" "," ")))})}function Dt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=qr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",qr(n))}}function qt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Ut(t,e){return It(t,"$"+(e||"ngController")+"Controller")}function It(t,e,r){t.nodeType==Gr&&(t=t.documentElement);for(var i=Nr(e)?e:[e];t;){for(var o=0,a=i.length;a>o;o++)if((r=Cr.data(t,i[o]))!==n)return r;t=t.parentNode||t.nodeType===Yr&&t.host}}function Lt(t){for(Pt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Vt(t,e){e||Pt(t);var n=t.parentNode;n&&n.removeChild(t)}function Bt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Cr(n).on("load",e)}function Wt(t,e){var n=hi[e.toLowerCase()];return n&&di[q(t)]&&n}function Ht(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&pi[e]}function Kt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=L(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};return n.elem=t,n}function zt(){this.$get=function(){return f(_t,{hasClass:function(t,e){return t.attr&&(t=t[0]),Rt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Dt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Nt(t,e)}})}}function Qt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||u)():r+":"+t}function Gt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Yt(t){var e=t.toString().replace(bi,""),n=e.match(vi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Jt(t,e,n){var r,i,a,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw x(n)&&n||(n=t.name||Yt(t)),$i("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(bi,""),a=i.match(vi),o(a[1].split(mi),function(t){t.replace(yi,function(t,e,n){r.push(n)})})}t.$inject=r}}else Nr(t)?(s=t.length-1,ht(t[s],"fn"),r=t.slice(0,s)):ht(t,"fn",!0);return r}function Xt(t,e){function r(t){return function(e,n){return w(e)?void o(e,s(t)):t(e,n)}}function i(t,e){if(dt(t,"service"),(S(e)||Nr(e))&&(e=C.instantiate(e)),!e.$get)throw $i("pget","Provider '{0}' must define $get factory method.",t);return k[t+v]=e}function a(t,e){return function(){var n=E.invoke(e,this);if(b(n))throw $i("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function u(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function c(t,e){return u(t,["$injector",function(t){return t.instantiate(e)}])}function l(t,e){return u(t,m(e),!1)}function f(t,e){dt(t,"constant"),k[t]=e,A[t]=e}function h(t,e){var n=C.get(t+v),r=n.$get;n.$get=function(){var t=E.invoke(r,n);return E.invoke(e,null,{$delegate:t})}}function d(t){ft(b(t)||Nr(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=C.get(r[0]);i[r[1]].apply(i,r[2])}}if(!$.get(t)){$.put(t,!0);try{x(t)?(e=Sr(t),n=n.concat(d(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):S(t)?n.push(C.invoke(t)):Nr(t)?n.push(C.invoke(t)):ht(t,"module")}catch(i){throw Nr(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),$i("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===g)throw $i("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=g,t[e]=n(e,r)}catch(i){throw t[e]===g&&delete t[e],i}finally{y.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,u,c=[],l=Xt.$$annotate(t,e,o);for(s=0,a=l.length;a>s;s++){if(u=l[s],"string"!=typeof u)throw $i("itkn","Incorrect injection token! Expected service name as string, got {0}",u);c.push(i&&i.hasOwnProperty(u)?i[u]:r(u,o))}return Nr(t)&&(t=t[a]),t.apply(n,c)}function o(t,e,n){var r=Object.create((Nr(t)?t[t.length-1]:t).prototype||null),o=i(t,r,e,n);return w(o)||S(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Xt.$$annotate,has:function(e){return k.hasOwnProperty(e+v)||t.hasOwnProperty(e)}}}e=e===!0;var g={},v="Provider",y=[],$=new Gt([],!0),k={$provide:{provider:r(i),factory:r(u),service:r(c),value:r(l),constant:r(f),decorator:h}},C=k.$injector=p(k,function(t,e){throw Tr.isString(e)&&y.push(e),$i("unpr","Unknown provider: {0}",y.join(" <- "))}),A={},E=A.$injector=p(A,function(t,e){var r=C.get(t+v,e);return E.invoke(r.$get,r,n,t)});return o(d(t),function(t){t&&E.invoke(t)}),E}function Zt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===q(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(S(t))t=t();else if(N(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else C(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=x(t)?t:n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=i(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Bt(function(){r.$evalAsync(s)})}),s}]}function te(t,e){return t||e?t?e?(Nr(t)&&(t=t.join(" ")),Nr(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ee(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===ki)return n}}function ne(t){x(t)&&(t=t.split(" "));var e=vt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function re(t){return w(t)?t:{}}function ie(t,e,n,r){function i(t){try{t.apply(null,W(arguments,1))}finally{if(y--,0===y)for(;$.length;)try{$.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){c(),l()}function u(){try{return d.state}catch(t){}}function c(){w=u(),w=b(w)?null:w,V(w,_)&&(w=_),_=w}function l(){(x!==f.url()||k!==w)&&(x=f.url(),k=w,o(S,function(t){t(f.url(),w)}))}var f=this,h=(e[0],t.location),d=t.history,p=t.setTimeout,v=t.clearTimeout,m={};f.isMock=!1;var y=0,$=[];f.$$completeOutstandingRequest=i,f.$$incOutstandingRequestCount=function(){y++},f.notifyWhenNoOutstandingRequests=function(t){0===y?t():$.push(t)};var w,k,x=h.href,C=e.find("base"),A=null;c(),k=w,f.url=function(e,n,i){if(b(i)&&(i=null),h!==t.location&&(h=t.location),d!==t.history&&(d=t.history),e){var o=k===i;if(x===e&&(!r.history||o))return f;var s=x&&Re(x)===Re(e);return x=e,k=i,!r.history||s&&o?((!s||A)&&(A=e),n?h.replace(e):s?h.hash=a(e):h.href=e):(d[n?"replaceState":"pushState"](i,"",e),c(),k=w),f}return A||h.href.replace(/%27/g,"'")},f.state=function(){return w};var S=[],E=!1,_=null;f.onUrlChange=function(e){return E||(r.history&&Cr(t).on("popstate",s),Cr(t).on("hashchange",s),E=!0),S.push(e),e},f.$$applicationDestroyed=function(){Cr(t).off("hashchange popstate",s)},f.$$checkUrlChange=l,f.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},f.defer=function(t,e){var n;return y++,n=p(function(){delete m[n],i(t)},e||0),m[n]=!0,n},f.defer.cancel=function(t){return m[t]?(delete m[t],v(t),i(g),!0):!1}}function oe(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new ie(t,r,e,n)}]}function ae(){this.$get=function(){function t(t,n){function i(t){t!=h&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),u={},c=n&&n.capacity||Number.MAX_VALUE,l={},h=null,d=null;return e[t]={put:function(t,e){if(!b(e)){if(c<Number.MAX_VALUE){var n=l[t]||(l[t]={key:t});i(n)}return t in u||a++,u[t]=e,a>c&&this.remove(d.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e==h&&(h=e.p),e==d&&(d=e.n),o(e.n,e.p),delete l[t]}delete u[t],a--},removeAll:function(){u={},a=0,l={},h=d=null},destroy:function(){u=null,s=null,l=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function se(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ue(t,r){function i(t,e,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,o){var a=t.match(r);if(!a)throw _i("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),i}function a(t,e){var n={isolateScope:null,bindToController:null};if(w(t.scope)&&(t.bindToController===!0?(n.bindToController=i(t.scope,e,!0),n.isolateScope={}):n.isolateScope=i(t.scope,e,!1)),w(t.bindToController)&&(n.bindToController=i(t.bindToController,e,!0)),w(n.bindToController)){var r=t.controller,o=t.controllerAs;if(!r)throw _i("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!he(r,o))throw _i("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function u(t){var e=t.charAt(0);if(!e||e!==yr(e))throw _i("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw _i("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var c={},l="Directive",h=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=D("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,C=/^(on[a-z]+|formaction)$/;this.directive=function E(e,n){return dt(e,"directive"),x(e)?(u(e),ft(n,"directiveFactory"),c.hasOwnProperty(e)||(c[e]=[],t.factory(e+l,["$injector","$exceptionHandler",function(t,n){var r=[];return o(c[e],function(i,o){try{var s=t.invoke(i);S(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var u=s.$$bindings=a(s,s.name);w(u.isolateScope)&&(s.$$isolateBindings=u.isolateScope),s.$$moduleName=i.$$moduleName,r.push(s)}catch(c){n(c)}}),r}])),c[e].push(n)):o(e,s(E)),this},this.aHrefSanitizationWhitelist=function(t){return $(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return $(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var A=!0;this.debugInfoEnabled=function(t){return $(t)?(A=t,this):A},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,a,s,u,m,$,E,_,P){
function j(t,e){try{t.addClass(e)}catch(n){}}function F(t,e,n,r,i){t instanceof Cr||(t=Cr(t)),o(t,function(e,n){e.nodeType==zr&&e.nodeValue.match(/\S+/)&&(t[n]=Cr(e).wrap("<span></span>").parent()[0])});var a=M(t,e,t,n,r,i);F.$$addScopeClass(t);var s=null;return function(e,n,r){ft(e,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,u=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=T(u));var c;if(c="html"!==s?Cr(Z(s,Cr("<div>").append(t).html())):n?fi.clone.call(t):t,o)for(var l in o)c.data("$"+l+"Controller",o[l].instance);return F.$$addScopeInfo(c,e),n&&n(c,e),a&&a(e,c,c,i),c}}function T(t){var e=t&&t[0];return e&&"foreignobject"!==q(e)&&e.toString().match(/SVG/)?"svg":"html"}function M(t,e,r,i,o,a){function s(t,r,i,o){var a,s,u,c,l,f,h,d,v;if(p){var m=r.length;for(v=new Array(m),l=0;l<g.length;l+=3)h=g[l],v[h]=r[h]}else v=r;for(l=0,f=g.length;f>l;)if(u=v[g[l++]],a=g[l++],s=g[l++],a){if(a.scope){c=t.$new(),F.$$addScopeInfo(Cr(u),c);var y=a.$$destroyBindings;y&&(a.$$destroyBindings=null,c.$on("$destroyed",y))}else c=t;d=a.transcludeOnThisElement?R(t,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&e?R(t,e):null,a(s,c,u,i,d,a)}else s&&s(t,u.childNodes,n,o)}for(var u,c,l,f,h,d,p,g=[],v=0;v<t.length;v++)u=new at,c=N(t[v],[],u,0===v?i:n,o),l=c.length?L(c,t[v],u,e,r,null,[],[],a):null,l&&l.scope&&F.$$addScopeClass(u.$$element),h=l&&l.terminal||!(f=t[v].childNodes)||!f.length?null:M(f,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||h)&&(g.push(v,l,h),d=!0,p=p||l),a=null;return d?s:null}function R(t,e,n){var r=function(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function N(t,e,n,r,i){var o,a,s=t.nodeType,u=n.$attr;switch(s){case Hr:H(e,ce(q(t)),"E",r,i);for(var c,l,f,p,g,v,m=t.attributes,y=0,b=m&&m.length;b>y;y++){var $=!1,k=!1;c=m[y],l=c.name,g=qr(c.value),p=ce(l),(v=ht.test(p))&&(l=l.replace(Oi,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var C=p.replace(/(Start|End)$/,"");K(C)&&p===C+"Start"&&($=l,k=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),f=ce(l.toLowerCase()),u[f]=l,(v||!n.hasOwnProperty(f))&&(n[f]=g,Wt(t,f)&&(n[f]=!0)),et(t,e,g,f,v),H(e,f,"A",r,i,$,k)}if(a=t.className,w(a)&&(a=a.animVal),x(a)&&""!==a)for(;o=d.exec(a);)f=ce(o[2]),H(e,f,"C",r,i)&&(n[f]=qr(o[3])),a=a.substr(o.index+o[0].length);break;case zr:if(11===xr)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===zr;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);J(e,t.nodeValue);break;case Qr:try{o=h.exec(t.nodeValue),o&&(f=ce(o[1]),H(e,f,"M",r,i)&&(n[f]=qr(o[2])))}catch(A){}}return e.sort(G),e}function D(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw _i("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==Hr&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Cr(r)}function I(t,e,n){return function(r,i,o,a,s){return i=D(i[0],e,n),t(r,i,o,a,s)}}function L(t,r,o,a,s,c,l,f,h){function d(t,e,n,r){t&&(n&&(t=I(t,n,r)),t.require=m.require,t.directiveName=y,(P===m||m.$$isolateScope)&&(t=rt(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=I(e,n,r)),e.require=m.require,e.directiveName=y,(P===m||m.$$isolateScope)&&(e=rt(e,{isolateScope:!0})),f.push(e))}function p(t,e,n,r){var i;if(x(e)){var o=e.match(k),a=e.substring(o[0].length),s=o[1]||o[3],u="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var c="$"+a+"Controller";i=s?n.inheritedData(c):n.data(c)}if(!i&&!u)throw _i("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(Nr(e)){i=[];for(var l=0,f=e.length;f>l;l++)i[l]=p(t,e[l],n,r)}return i||null}function g(t,e,n,r,i,o){var a=vt();for(var s in r){var c=r[s],l={$scope:c===P||c.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},f=c.controller;"@"==f&&(f=e[c.name]);var h=u(f,l,!0,c.controllerAs);a[c.name]=h,q||t.data("$"+c.name+"Controller",h.instance)}return a}function v(t,e,i,a,s,u){function c(t,e,r){var i;return O(t)||(r=e,e=t,t=n),q&&(i=b),r||(r=q?w.parent():w),s(t,e,i,r,T)}var h,d,v,m,y,b,$,w,k;if(r===i?(k=o,w=o.$$element):(w=Cr(i),k=new at(w,o)),P&&(y=e.$new(!0)),s&&($=c,$.$$boundTransclude=s),_&&(b=g(w,k,$,_,y,e)),P&&(F.$$addScopeInfo(w,y,!0,!(j&&(j===P||j===P.$$originalDirective))),F.$$addScopeClass(w,!0),y.$$isolateBindings=P.$$isolateBindings,ot(e,k,y,y.$$isolateBindings,P,y)),b){var x,C,A=P||E;A&&b[A.name]&&(x=A.$$bindings.bindToController,m=b[A.name],m&&m.identifier&&x&&(C=m,u.$$destroyBindings=ot(e,k,m.instance,x,A)));for(h in b){m=b[h];var S=m();S!==m.instance&&(m.instance=S,w.data("$"+h+"Controller",S),m===C&&(u.$$destroyBindings(),u.$$destroyBindings=ot(e,k,S,x,A)))}}for(h=0,d=l.length;d>h;h++)v=l[h],it(v,v.isolateScope?y:e,w,k,v.require&&p(v.directiveName,v.require,w,b),$);var T=e;for(P&&(P.template||null===P.templateUrl)&&(T=y),t&&t(T,i.childNodes,n,s),h=f.length-1;h>=0;h--)v=f[h],it(v,v.isolateScope?y:e,w,k,v.require&&p(v.directiveName,v.require,w,b),$)}h=h||{};for(var m,y,b,$,C,A=-Number.MAX_VALUE,E=h.newScopeDirective,_=h.controllerDirectives,P=h.newIsolateScopeDirective,j=h.templateDirective,T=h.nonTlbTranscludeDirective,M=!1,R=!1,q=h.hasElementTranscludeDirective,U=o.$$element=Cr(r),L=c,V=a,H=0,K=t.length;K>H;H++){m=t[H];var G=m.$$start,J=m.$$end;if(G&&(U=D(r,G,J)),b=n,A>m.priority)break;if((C=m.scope)&&(m.templateUrl||(w(C)?(Y("new/isolated scope",P||E,m,U),P=m):Y("new/isolated scope",P,m,U)),E=E||m),y=m.name,!m.templateUrl&&m.controller&&(C=m.controller,_=_||vt(),Y("'"+y+"' controller",_[y],m,U),_[y]=m),(C=m.transclude)&&(M=!0,m.$$tlb||(Y("transclusion",T,m,U),T=m),"element"==C?(q=!0,A=m.priority,b=U,U=o.$$element=Cr(e.createComment(" "+y+": "+o[y]+" ")),r=U[0],nt(s,W(b),r),V=F(b,a,A,L&&L.name,{nonTlbTranscludeDirective:T})):(b=Cr(Ot(r)).contents(),U.empty(),V=F(b,a))),m.template)if(R=!0,Y("template",j,m,U),j=m,C=S(m.template)?m.template(U,o):m.template,C=lt(C),m.replace){if(L=m,b=xt(C)?[]:fe(Z(m.templateNamespace,qr(C))),r=b[0],1!=b.length||r.nodeType!==Hr)throw _i("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");nt(s,U,r);var tt={$attr:{}},et=N(r,[],tt),st=t.splice(H+1,t.length-(H+1));P&&B(et),t=t.concat(et).concat(st),z(o,tt),K=t.length}else U.html(C);if(m.templateUrl)R=!0,Y("template",j,m,U),j=m,m.replace&&(L=m),v=Q(t.splice(H,t.length-H),U,o,s,M&&V,l,f,{controllerDirectives:_,newScopeDirective:E!==m&&E,newIsolateScopeDirective:P,templateDirective:j,nonTlbTranscludeDirective:T}),K=t.length;else if(m.compile)try{$=m.compile(U,o,V),S($)?d(null,$,G,J):$&&d($.pre,$.post,G,J)}catch(ut){i(ut,X(U))}m.terminal&&(v.terminal=!0,A=Math.max(A,m.priority))}return v.scope=E&&E.scope===!0,v.transcludeOnThisElement=M,v.templateOnThisElement=R,v.transclude=V,h.hasElementTranscludeDirective=q,v}function B(t){for(var e=0,n=t.length;n>e;e++)t[e]=p(t[e],{$$isolateScope:!0})}function H(e,r,o,a,s,u,f){if(r===s)return null;var h=null;if(c.hasOwnProperty(r))for(var d,g=t.get(r+l),v=0,m=g.length;m>v;v++)try{d=g[v],(a===n||a>d.priority)&&-1!=d.restrict.indexOf(o)&&(u&&(d=p(d,{$$start:u,$$end:f})),e.push(d),h=d)}catch(y){i(y)}return h}function K(e){if(c.hasOwnProperty(e))for(var n,r=t.get(e+l),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function z(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(j(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function Q(t,e,n,r,i,s,u,c){var l,f,h=[],d=e[0],g=t.shift(),v=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),m=S(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),a(m).then(function(a){var p,b,$,k;if(a=lt(a),g.replace){if($=xt(a)?[]:fe(Z(y,qr(a))),p=$[0],1!=$.length||p.nodeType!==Hr)throw _i("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,m);b={$attr:{}},nt(r,e,p);var x=N(p,[],b);w(g.scope)&&B(x),t=x.concat(t),z(n,b)}else p=d,e.html(a);for(t.unshift(v),l=L(t,p,n,i,e,g,s,u,c),o(r,function(t,n){t==p&&(r[n]=e[0])}),f=M(e[0].childNodes,i);h.length;){var C=h.shift(),A=h.shift(),S=h.shift(),E=h.shift(),_=e[0];if(!C.$$destroyed){if(A!==d){var O=A.className;c.hasElementTranscludeDirective&&g.replace||(_=Ot(p)),nt(S,Cr(A),_),j(Cr(_),O)}k=l.transcludeOnThisElement?R(C,l.transclude,E):E,l(f,C,_,r,k,l)}}h=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(h?h.push(e,n,r,o):(l.transcludeOnThisElement&&(o=R(e,l.transclude,i)),l(f,e,n,r,o,l)))}}function G(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Y(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw _i("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,X(r))}function J(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&F.$$addBindingClass(e),function(t,e){var i=e.parent();r||F.$$addBindingClass(i),F.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function Z(t,n){switch(t=yr(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function tt(t,e){if("srcdoc"==e)return E.HTML;var n=q(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?E.RESOURCE_URL:void 0}function et(t,e,n,i,o){var a=tt(t,i);o=y[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===q(t))throw _i("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",X(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var c=u.$$observers||(u.$$observers={});if(C.test(i))throw _i("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=u[i];l!==n&&(s=l&&r(l,!0,a,o),n=l),s&&(u[i]=s(t),(c[i]||(c[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?u.$updateClass(t,e):u.$set(i,t)}))}}}})}}function nt(t,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var c=i,l=c+s-1,f=t.length;f>c;c++,l++)f>l?t[c]=t[l]:delete t[c];t.length-=s-1,t.context===a&&(t.context=r);break}u&&u.replaceChild(r,a);var h=e.createDocumentFragment();h.appendChild(a),Cr.hasData(a)&&(Cr(r).data(Cr(a).data()),Ar?(Rr=!0,Ar.cleanData([a])):delete Cr.cache[a[Cr.expando]]);for(var d=1,p=n.length;p>d;d++){var g=n[d];Cr(g).remove(),h.appendChild(g),delete n[d]}n[0]=r,n.length=1}function rt(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function it(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(s){i(s,X(n))}}function ot(t,e,n,i,a,u){var c;o(i,function(i,o){var u,l,f,h,d=i.attrName,p=i.optional,v=i.mode;switch(v){case"@":p||br.call(e,d)||(n[o]=e[d]=void 0),e.$observe(d,function(t){x(t)&&(n[o]=t)}),e.$$observers[d].$$scope=t,x(e[d])&&(n[o]=r(e[d])(t));break;case"=":if(!br.call(e,d)){if(p)break;e[d]=void 0}if(p&&!e[d])break;l=s(e[d]),h=l.literal?V:function(t,e){return t===e||t!==t&&e!==e},f=l.assign||function(){throw u=n[o]=l(t),_i("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[d],a.name)},u=n[o]=l(t);var m=function(e){return h(e,n[o])||(h(e,u)?f(t,e=n[o]):n[o]=e),u=e};m.$stateful=!0;var y;y=i.collection?t.$watchCollection(e[d],m):t.$watch(s(e[d],m),null,l.literal),c=c||[],c.push(y);break;case"&":if(l=e.hasOwnProperty(d)?s(e[d]):g,l===g&&p)break;n[o]=function(e){return l(t,e)}}});var l=c?function(){for(var t=0,e=c.length;e>t;++t)c[t]()}:g;return u&&l!==g?(u.$on("$destroy",l),g):l}var at=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};at.prototype={$normalize:ce,$addClass:function(t){t&&t.length>0&&_.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&_.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=le(t,e);n&&n.length&&_.addClass(this.$$element,n);var r=le(e,t);r&&r.length&&_.removeClass(this.$$element,r)},$set:function(t,e,r,a){var s,u=this.$$element[0],c=Wt(u,t),l=Ht(u,t),f=t;if(c?(this.$$element.prop(t,e),a=c):l&&(this[l]=e,f=l),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t],a||(this.$attr[t]=a=ct(t,"-"))),s=q(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=P(e,"src"===t);else if("img"===s&&"srcset"===t){for(var h="",d=qr(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(d)?p:/(,)/,v=d.split(g),m=Math.floor(v.length/2),y=0;m>y;y++){var b=2*y;h+=P(qr(v[b]),!0),h+=" "+qr(v[b+1])}var $=qr(v[2*y]).split(/\s/);h+=P(qr($[0]),!0),2===$.length&&(h+=" "+qr($[1])),this[t]=e=h}r!==!1&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));var w=this.$$observers;w&&o(w[f],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=vt()),i=r[t]||(r[t]=[]);return i.push(e),m.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||b(n[t])||e(n[t])}),function(){U(i,e)}}};var st=r.startSymbol(),ut=r.endSymbol(),lt="{{"==st||"}}"==ut?v:function(t){return t.replace(/\{\{/g,st).replace(/}}/g,ut)},ht=/^ngAttr[A-Z]/;return F.$$addBindingInfo=A?function(t,e){var n=t.data("$binding")||[];Nr(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,F.$$addBindingClass=A?function(t){j(t,"ng-binding")}:g,F.$$addScopeInfo=A?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:g,F.$$addScopeClass=A?function(t,e){j(t,e?"ng-isolate-scope":"ng-scope")}:g,F}]}function ce(t){return kt(t.replace(Oi,""))}function le(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function fe(t){t=Cr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===Qr&&_r.call(t,e,1)}return t}function he(t,e){if(e&&x(e))return e;if(x(t)){var n=ji.exec(t);if(n)return n[3]}}function de(){var t={},e=!1;this.register=function(e,n){dt(e,"controller"),w(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(i,o){function a(t,e,n,i){if(!t||!w(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,s,u,c){var l,h,d,p;if(u=u===!0,c&&x(c)&&(p=c),x(r)){if(h=r.match(ji),!h)throw Pi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);d=h[1],p=p||h[3],r=t.hasOwnProperty(d)?t[d]:pt(s.$scope,d,!0)||(e?pt(o,d,!0):n),ht(r,d,!0)}if(u){var g=(Nr(r)?r[r.length-1]:r).prototype;l=Object.create(g||null),p&&a(s,p,l,d||r.name);var v;return v=f(function(){var t=i.invoke(r,l,s,d);return t!==l&&(w(t)||S(t))&&(l=t,p&&a(s,p,l,d||r.name)),l},{instance:l,identifier:p})}return l=i.instantiate(r,s,d),p&&a(s,p,l,d||r.name),l}}]}function pe(){this.$get=["$window",function(t){return Cr(t.document)}]}function ge(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function ve(t){return w(t)?A(t)?t.toISOString():z(t):t}function me(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||b(t)||(Nr(t)?o(t,function(t,r){e.push(rt(n)+"="+rt(ve(t)))}):e.push(rt(n)+"="+rt(ve(t))))}),e.join("&")}}}function ye(){this.$get=function(){return function(t){function e(t,r,i){null===t||b(t)||(Nr(t)?o(t,function(t,n){e(t,r+"["+(w(t)?n:"")+"]")}):w(t)&&!A(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(rt(r)+"="+rt(ve(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function be(t,e){if(x(t)){var n=t.replace(Di,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(Ti)||$e(n))&&(t=Q(n))}}return t}function $e(t){var e=t.match(Ri);return e&&Ni[e[0]].test(t)}function we(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=vt();return x(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(yr(qr(t.substr(0,n))),qr(t.substr(n+1)))}):w(t)&&o(t,function(t,n){e(yr(n),qr(t))}),r}function ke(t){var e;return function(n){if(e||(e=we(t)),n){var r=e[yr(n)];return void 0===r&&(r=null),r}return e}}function xe(t,e,n,r){return S(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function Ce(t){return t>=200&&300>t}function Ae(){var t=this.defaults={transformResponse:[be],transformRequest:[function(t){return!w(t)||P(t)||F(t)||j(t)?t:z(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(Mi),put:L(Mi),patch:L(Mi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return $(t)?(e=!!t,this):e};var i=!0;this.useLegacyPromiseExtensions=function(t){return $(t)?(i=!!t,this):i};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,u,c,l,h,d){function p(e){function a(t){var e=f({},t);return t.data?e.data=xe(t.data,t.headers,t.status,c.transformResponse):e.data=t.data,Ce(t.status)?e:h.reject(e)}function s(t,e){var n,r={};return o(t,function(t,i){S(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function u(e){var n,r,i,o=t.headers,a=f({},e.headers);o=f({},o.common,o[yr(e.method)]);t:for(n in o){r=yr(n);for(i in a)if(yr(i)===r)continue t;a[n]=o[n]}return s(a,L(e))}if(!Tr.isObject(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var c=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);c.headers=u(e),c.method=$r(c.method),c.paramSerializer=x(c.paramSerializer)?d.get(c.paramSerializer):c.paramSerializer;var l=function(e){var r=e.headers,i=xe(e.data,ke(r),n,e.transformRequest);return b(i)&&o(r,function(t,e){"content-type"===yr(e)&&delete r[e]}),b(e.withCredentials)&&!b(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,i).then(a,a)},p=[l,n],g=h.when(c);for(o(C,function(t){(t.request||t.requestError)&&p.unshift(t.request,t.requestError),(t.response||t.responseError)&&p.push(t.response,t.responseError)});p.length;){var v=p.shift(),y=p.shift();g=g.then(v,y)}return i?(g.success=function(t){return ht(t,"fn"),g.then(function(e){t(e.data,e.status,e.headers,c)}),g},g.error=function(t){return ht(t,"fn"),g.then(null,function(e){t(e.data,e.status,e.headers,c)}),g}):(g.success=Ui("success"),g.error=Ui("error")),g}function g(t){o(arguments,function(t){p[t]=function(e,n){return p(f({},n||{},{method:t,url:e}))}})}function v(t){o(arguments,function(t){p[t]=function(e,n,r){return p(f({},r||{},{method:t,url:e,data:n}))}})}function m(r,i){function o(t,n,r,i){function o(){a(n,t,r,i)}d&&(Ce(t)?d.put(C,[t,n,we(r),i]):d.remove(C)),e?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function a(t,e,n,i){e=Math.max(e,0),(Ce(e)?v.resolve:v.reject)({data:t,status:e,headers:ke(n),config:r,statusText:i})}function c(t){a(t.data,t.status,L(t.headers()),t.statusText)}function f(){var t=p.pendingRequests.indexOf(r);-1!==t&&p.pendingRequests.splice(t,1)}var d,g,v=h.defer(),m=v.promise,x=r.headers,C=y(r.url,r.paramSerializer(r.params));if(p.pendingRequests.push(r),m.then(f,f),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(d=w(r.cache)?r.cache:w(t.cache)?t.cache:k),d&&(g=d.get(C),$(g)?M(g)?g.then(c,c):Nr(g)?a(g[1],g[0],L(g[2]),g[3]):a(g,200,{},"OK"):d.put(C,m)),b(g)){var A=An(r.url)?u()[r.xsrfCookieName||t.xsrfCookieName]:n;A&&(x[r.xsrfHeaderName||t.xsrfHeaderName]=A),s(r.method,C,i,o,x,r.timeout,r.withCredentials,r.responseType)}return m}function y(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var k=c("$http");t.paramSerializer=x(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var C=[];return o(a,function(t){C.unshift(x(t)?d.get(t):d.invoke(t))}),p.pendingRequests=[],g("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=t,p}]}function Se(){return new t.XMLHttpRequest}function Ee(){this.$get=["$browser","$window","$document",function(t,e,n){return _e(t,Se,t.defer,e.angular.callbacks,n[0])}]}function _e(t,e,r,i,a){function s(t,e,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=t,r.async=!0,o=function(t){ei(r,"load",o),ei(r,"error",o),a.body.removeChild(r),r=null;var s=-1,u="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},ti(r,"load",o),ti(r,"error",o),a.body.appendChild(r),o}return function(a,u,c,l,f,h,d,p){function v(){b&&b(),w&&w.abort()}function m(e,i,o,a,s){C!==n&&r.cancel(C),b=w=null,e(i,o,a,s),t.$$completeOutstandingRequest(g)}if(t.$$incOutstandingRequestCount(),u=u||t.url(),"jsonp"==yr(a)){var y="_"+(i.counter++).toString(36);i[y]=function(t){i[y].data=t,i[y].called=!0};var b=s(u.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){m(l,t,i[y].data,"",e),i[y]=g})}else{var w=e();w.open(a,u,!0),o(f,function(t,e){$(t)&&w.setRequestHeader(e,t)}),w.onload=function(){var t=w.statusText||"",e="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=e?200:"file"==Cn(u).protocol?404:0),m(l,n,e,w.getAllResponseHeaders(),t)};var k=function(){m(l,-1,null,null,"")};if(w.onerror=k,w.onabort=k,d&&(w.withCredentials=!0),p)try{w.responseType=p}catch(x){if("json"!==p)throw x}w.send(c)}if(h>0)var C=r(v,h);else M(h)&&h.then(v)}}function Oe(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(d,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=z(t)}return t}function u(o,u,h,d){function p(t){try{return t=_(t),d&&!$(t)?t:s(t)}catch(e){r(Ii.interr(o,e))}}d=!!d;for(var g,v,m,y=0,w=[],k=[],x=o.length,C=[],A=[];x>y;){if(-1==(g=o.indexOf(t,y))||-1==(v=o.indexOf(e,g+c))){y!==x&&C.push(a(o.substring(y)));break}y!==g&&C.push(a(o.substring(y,g))),m=o.substring(g+c,v),w.push(m),k.push(n(m,p)),y=v+l,A.push(C.length),C.push("")}if(h&&C.length>1&&Ii.throwNoconcat(o),!u||w.length){var E=function(t){for(var e=0,n=w.length;n>e;e++){if(d&&b(t[e]))return;C[A[e]]=t[e]}return C.join("")},_=function(t){return h?i.getTrusted(h,t):i.valueOf(t)};return f(function(t){var e=0,n=w.length,i=new Array(n);try{for(;n>e;e++)i[e]=k[e](t);return E(i)}catch(a){r(Ii.interr(o,a))}},{exp:o,expressions:w,$$watchDelegate:function(t,e){var n;return t.$watchGroup(k,function(r,i){var o=E(r);S(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var c=t.length,l=e.length,h=new RegExp(t.replace(/./g,o),"g"),d=new RegExp(e.replace(/./g,o),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Pe(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,a,s,u){var c=arguments.length>4,l=c?W(arguments,4):[],f=e.setInterval,h=e.clearInterval,d=0,p=$(u)&&!u,g=(p?r:n).defer(),v=g.promise;return s=$(s)?s:0,v.then(null,null,c?function(){i.apply(null,l)}:i),v.$$intervalId=f(function(){g.notify(d++),s>0&&d>=s&&(g.resolve(d),h(v.$$intervalId),delete o[v.$$intervalId]),p||t.$apply()},a),o[v.$$intervalId]=g,v}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function je(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=nt(e[n]);return e.join("/")}function Fe(t,e){var n=Cn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=d(n.port)||Vi[n.protocol]||null}function Te(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=Cn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=tt(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Me(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function Re(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Ne(t){return t.replace(/(#.+)|#$/,"$1")}function De(t){return t.substr(0,Re(t).lastIndexOf("/")+1)}function qe(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ue(t,e,r){this.$$html5=!0,r=r||"",Fe(t,this),this.$$parse=function(t){var n=Me(e,t);if(!x(n))throw Bi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Te(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=et(this.$$search),n=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=je(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,u;return(a=Me(t,i))!==n?(s=a,u=(a=Me(r,a))!==n?e+(Me("/",a)||a):t+s):(a=Me(e,i))!==n?u=e+a:e==i+"/"&&(u=e),u&&this.$$parse(u),!!u}}function Ie(t,e,n){Fe(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=Me(t,r)||Me(e,r);b(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",b(a)&&(t=r,this.replace())):(o=Me(n,a),b(o)&&(o=a)),Te(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=et(this.$$search),r=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=je(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Re(t)==Re(e)?(this.$$parse(e),!0):!1}}function Le(t,e,n){this.$$html5=!0,Ie.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==Re(r)?o=r:(a=Me(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=et(this.$$search),r=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=je(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url}}function Ve(t){return function(){return this[t]}}function Be(t,e){return function(n){return b(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function We(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return $(e)?(t=e,this):t},this.html5Mode=function(t){return T(t)?(e.enabled=t,this):w(t)?(T(t.enabled)&&(e.enabled=t.enabled),T(t.requireBase)&&(e.requireBase=t.requireBase),T(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(a){throw c.url(i),c.$$state=o,a}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,h=r.baseHref(),d=r.url();if(e.enabled){if(!h&&e.requireBase)throw Bi("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=qe(d)+(h||"/"),l=i.history?Ue:Le}else f=Re(d),l=Ie;var p=De(f);c=new l(f,p,"#"+t),c.$$parseLinkUrl(d,d),c.$$state=r.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=Cr(t.target);"a"!==q(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");w(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Cn(s.animVal).href),g.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(s,u)&&(t.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Ne(c.absUrl())!=Ne(d)&&r.url(c.absUrl(),!0);var v=!0;return r.onUrlChange(function(t,e){return b(Me(p,t))?void(a.location.href=t):(n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(v=!1,u(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=Ne(r.url()),e=Ne(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))})),c.$$replace=!1}),c}]}function He(){var t=!0,e=this;this.debugEnabled=function(e){return $(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||g,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Ke(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Hi("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function ze(t,e){if(t){if(t.constructor===t)throw Hi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw Hi("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Hi("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw Hi("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Qe(t,e){if(t){if(t.constructor===t)throw Hi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===Ki||t===zi||t===Qi)throw Hi("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Ge(t,e){return"undefined"!=typeof t?t:e}function Ye(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function Je(t,e){var n=t(e);return!n.$stateful}function Xe(t,e){var n,r;switch(t.type){case Xi.Program:n=!0,o(t.body,function(t){Xe(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Xi.Literal:t.constant=!0,t.toWatch=[];break;case Xi.UnaryExpression:Xe(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Xi.BinaryExpression:Xe(t.left,e),Xe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Xi.LogicalExpression:Xe(t.left,e),Xe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Xi.ConditionalExpression:Xe(t.test,e),Xe(t.alternate,e),Xe(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Xi.Identifier:t.constant=!1,t.toWatch=[t];break;case Xi.MemberExpression:Xe(t.object,e),t.computed&&Xe(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Xi.CallExpression:n=t.filter?Je(e,t.callee.name):!1,r=[],o(t.arguments,function(t){Xe(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&Je(e,t.callee.name)?r:[t];break;case Xi.AssignmentExpression:Xe(t.left,e),Xe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Xi.ArrayExpression:n=!0,r=[],o(t.elements,function(t){Xe(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case Xi.ObjectExpression:n=!0,r=[],o(t.properties,function(t){Xe(t.value,e),n=n&&t.value.constant,t.value.constant||r.push.apply(r,t.value.toWatch);
}),t.constant=n,t.toWatch=r;break;case Xi.ThisExpression:t.constant=!1,t.toWatch=[]}}function Ze(t){if(1==t.length){var e=t[0].expression,r=e.toWatch;return 1!==r.length?r:r[0]!==e?r:n}}function tn(t){return t.type===Xi.Identifier||t.type===Xi.MemberExpression}function en(t){return 1===t.body.length&&tn(t.body[0].expression)?{type:Xi.AssignmentExpression,left:t.body[0].expression,right:{type:Xi.NGValueParameter},operator:"="}:void 0}function nn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Xi.Literal||t.body[0].expression.type===Xi.ArrayExpression||t.body[0].expression.type===Xi.ObjectExpression)}function rn(t){return t.constant}function on(t,e){this.astBuilder=t,this.$filter=e}function an(t,e){this.astBuilder=t,this.$filter=e}function sn(t){return"constructor"==t}function un(t){return S(t.valueOf)?t.valueOf():to.call(t)}function cn(){var t=vt(),e=vt();this.$get=["$filter",function(r){function i(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=un(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function a(t,e,r,o,a){var s,u=o.inputs;if(1===u.length){var c=i;return u=u[0],t.$watch(function(t){var e=u(t);return i(e,c)||(s=o(t,n,n,[e]),c=e&&un(e)),s},e,r,a)}for(var l=[],f=[],h=0,d=u.length;d>h;h++)l[h]=i,f[h]=null;return t.$watch(function(t){for(var e=!1,r=0,a=u.length;a>r;r++){var c=u[r](t);(e||(e=!i(c,l[r])))&&(f[r]=c,l[r]=c&&un(c))}return e&&(s=o(t,n,n,f)),s},e,r,a)}function s(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,S(e)&&e.apply(this,arguments),$(t)&&r.$$postDigest(function(){$(o)&&i()})},n)}function u(t,e,n,r){function i(t){var e=!0;return o(t,function(t){$(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,S(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function c(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(t,n,r){S(e)&&e.apply(this,arguments),i()},n)}function l(t,e){if(!e)return t;var n=t.$$watchDelegate,r=n!==u&&n!==s,i=r?function(n,r,i,o){var a=t(n,r,i,o);return e(a,n,r)}:function(n,r,i,o){var a=t(n,r,i,o),s=e(a,n,r);return $(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==a?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=a,i.inputs=t.inputs?t.inputs:[t]),i}var f=Ir().noUnsafeEval,h={csp:f,expensiveChecks:!1},d={csp:f,expensiveChecks:!0};return function(n,i,o){var f,p,v;switch(typeof n){case"string":n=n.trim(),v=n;var m=o?e:t;if(f=m[v],!f){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var y=o?d:h,b=new Ji(y),$=new Zi(b,r,y);f=$.parse(n),f.constant?f.$$watchDelegate=c:p?f.$$watchDelegate=f.literal?u:s:f.inputs&&(f.$$watchDelegate=a),m[v]=f}return l(f,i);case"function":return l(n,i);default:return g}}}]}function ln(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return hn(function(e){t.$evalAsync(e)},e)}]}function fn(){this.$get=["$browser","$exceptionHandler",function(t,e){return hn(function(e){t.defer(e)},e)}]}function hn(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function u(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][t.status];try{S(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(u){i.reject(u),e(u)}}}function c(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){u(e)}))}function l(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function h(t){var e=new l,n=0,r=Nr(t)?[]:{};return o(t,function(t,i){n++,y(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var d=r("$q",TypeError),p=function(){return new l};f(a.prototype,{then:function(t,e,n){if(b(t)&&b(e)&&b(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&c(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return m(e,!0,t)},function(e){return m(e,!1,t)},e)}}),f(l.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(w(t)||S(t))&&(n=t&&t.then),S(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;a>o;o++){i=r[o][0],t=r[o][3];try{i.notify(S(t)?t(n):n)}catch(s){e(s)}}})}});var g=function(t){var e=new l;return e.reject(t),e.promise},v=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},m=function(t,e,n){var r=null;try{S(n)&&(r=n())}catch(i){return v(i,!1)}return M(r)?r.then(function(){return v(t,e)},function(t){return v(t,!1)}):v(t,e)},y=function(t,e,n,r){var i=new l;return i.resolve(t),i.promise.then(e,n,r)},$=y,k=function x(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!S(t))throw d("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof x))return new x(t);var r=new l;return t(e,n),r.promise};return k.defer=p,k.reject=g,k.when=y,k.resolve=$,k.all=h,k}function dn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function pn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,c,l,f){function h(t){t.currentScope.$$destroyed=!0}function d(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(t){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=t}function v(){C.$$phase=null}function m(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function y(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function $(){}function k(){for(;_.length;)try{_.shift()()}catch(t){c(t)}s=null}function x(){null===s&&(s=f.defer(function(){C.$apply(k)}))}d.prototype={constructor:d,$new:function(e,n){var r;return n=n||this,e?(r=new d,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",h),r},$watch:function(t,e,n,r){var i=l(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,s=o.$$watchers,u={fn:e,last:$,get:i,exp:r||t,eq:!!n};return a=null,S(e)||(u.fn=g),s||(s=o.$$watchers=[]),s.unshift(u),m(this,1),function(){U(s,u)>=0&&m(o,-1),a=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(i,i,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s,u;if(!b(o)){if(w(o))if(i(o)){a!==d&&(a=d,v=a.length=0,f++),e=o.length,v!==e&&(f++,a.length=v=e);for(var c=0;e>c;c++)u=a[c],s=o[c],r=u!==u&&s!==s,r||u===s||(f++,a[c]=s)}else{a!==p&&(a=p={},v=0,f++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,s=o[n],u=a[n],n in a?(r=u!==u&&s!==s,r||u===s||(f++,a[n]=s)):(v++,a[n]=s,f++));if(v>e){f++;for(n in a)o.hasOwnProperty(n)||(v--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if(g?(g=!1,e(o,o,u)):e(o,s,u),c)if(w(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)br.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,c=e.length>1,f=0,h=l(t,n),d=[],p={},g=!0,v=0;return this.$watch(h,r)},$digest:function(){var t,r,i,o,u,l,h,d,g,m,y=e,b=this,w=[];p("$digest"),f.$$checkUrlChange(),this===C&&null!==s&&(f.defer.cancel(s),k()),a=null;do{for(l=!1,d=b;A.length;){try{m=A.shift(),m.scope.$eval(m.expression,m.locals)}catch(x){c(x)}a=null}t:do{if(o=d.$$watchers)for(u=o.length;u--;)try{if(t=o[u])if((r=t.get(d))===(i=t.last)||(t.eq?V(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(t===a){l=!1;break t}}else l=!0,a=t,t.last=t.eq?I(r,null):r,t.fn(r,i===$?r:i,d),5>y&&(g=4-y,w[g]||(w[g]=[]),w[g].push({msg:S(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:i}))}catch(x){c(x)}if(!(h=d.$$watchersCount&&d.$$childHead||d!==b&&d.$$nextSibling))for(;d!==b&&!(h=d.$$nextSibling);)d=d.$parent}while(d=h);if((l||A.length)&&!y--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,w)}while(l||A.length);for(v();E.length;)try{E.shift()()}catch(x){c(x)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&f.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var e in this.$$listenerCount)y(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){C.$$phase||A.length||f.defer(function(){A.length&&C.$digest()}),A.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){E.push(t)},$apply:function(t){try{p("$apply");try{return this.$eval(t)}finally{v()}}catch(e){c(e)}finally{try{C.$digest()}catch(e){throw c(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&_.push(e),x()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,y(i,1,t))}},$emit:function(t,e){var n,r,i,o=[],a=this,s=!1,u={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=B([u],arguments,1);do{for(n=a.$$listeners[t]||o,u.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,l)}catch(f){c(f)}else n.splice(r,1),r--,i--;if(s)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,r=n,i=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var a,s,u,l=B([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[t]||[],s=0,u=a.length;u>s;s++)if(a[s])try{a[s].apply(null,l)}catch(f){c(f)}else a.splice(s,1),s--,u--;if(!(i=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var C=new d,A=C.$$asyncQueue=[],E=C.$$postDigestQueue=[],_=C.$$applyAsyncQueue=[];return C}]}function gn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return $(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return $(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Cn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function vn(t){if("self"===t)return t;if(x(t)){if(t.indexOf("***")>-1)throw eo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Ur(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(E(t))return new RegExp("^"+t.source+"$");throw eo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function mn(t){var e=[];return $(t)&&o(t,function(t){e.push(vn(t))}),e}function yn(){this.SCE_CONTEXTS=no;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=mn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=mn(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?An(e):!!t.exec(e.href)}function o(n){var r,o,a=Cn(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var r=h.hasOwnProperty(t)?h[t]:null;if(!r)throw eo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw eo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function u(t){return t instanceof f?t.$$unwrapTrustedValue():t}function c(t,e){if(null===e||e===n||""===e)return e;var r=h.hasOwnProperty(t)?h[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===no.RESOURCE_URL){if(o(e))return e;throw eo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===no.HTML)return l(e);throw eo("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(t){throw eo("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(l=r.get("$sanitize"));var f=a(),h={};return h[no.HTML]=a(f),h[no.CSS]=a(f),h[no.URL]=a(f),h[no.JS]=a(f),h[no.RESOURCE_URL]=a(h[no.URL]),{trustAs:s,getTrusted:c,valueOf:u}}]}function bn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>xr)throw eo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=L(no);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=v),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(no,function(t,e){var n=yr(e);r[kt("parse_as_"+n)]=function(e){return i(t,e)},r[kt("get_trusted_"+n)]=function(e){return a(t,e)},r[kt("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function $n(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=d((/android (\d+)/.exec(yr((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,l=!1,f=!1;if(c){for(var h in c)if(r=u.exec(h)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),f=!!("animation"in c||n+"Animation"in c),!o||l&&f||(l=x(c.webkitTransition),f=x(c.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||a),hasEvent:function(t){if("input"===t&&11>=xr)return!1;if(b(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:Ir(),vendorPrefix:n,transitions:l,animations:f,android:o}}]}function wn(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,r){function i(o,a){function s(t){if(!a)throw _i("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,t.status,t.statusText);return n.reject(t)}i.totalPendingRequests++,x(o)&&t.get(o)||(o=r.getTrustedResourceUrl(o));var u=e.defaults&&e.defaults.transformResponse;Nr(u)?u=u.filter(function(t){return t!==be}):u===be&&(u=null);var c={cache:t,transformResponse:u};return e.get(o,c)["finally"](function(){i.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},s)}return i.totalPendingRequests=0,i}]}function kn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=Tr.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+Ur(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function xn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){S(o)||(u=s,s=o,o=g);var c,l=W(arguments,3),f=$(u)&&!u,h=(f?r:n).defer(),d=h.promise;return c=e.defer(function(){try{h.resolve(o.apply(null,l))}catch(e){h.reject(e),i(e)}finally{delete a[d.$$timeoutId]}f||t.$apply()},s),d.$$timeoutId=c,a[c]=h,d}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Cn(t){var e=t;return xr&&(ro.setAttribute("href",e),e=ro.href),ro.setAttribute("href",e),{href:ro.href,protocol:ro.protocol?ro.protocol.replace(/:$/,""):"",host:ro.host,search:ro.search?ro.search.replace(/^\?/,""):"",hash:ro.hash?ro.hash.replace(/^#/,""):"",hostname:ro.hostname,port:ro.port,pathname:"/"===ro.pathname.charAt(0)?ro.pathname:"/"+ro.pathname}}function An(t){var e=x(t)?Cn(t):t;return e.protocol===io.protocol&&e.host===io.host}function Sn(){this.$get=m(t)}function En(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,u,c,l=r.cookie||"";if(l!==o)for(o=l,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],u=a.indexOf("="),u>0&&(c=e(a.substring(0,u)),i[c]===n&&(i[c]=e(a.substring(u+1))));return i}}function _n(){this.$get=En}function On(t){function e(r,i){if(w(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Mn),e("date",zn),e("filter",Pn),e("json",Qn),e("limitTo",Gn),e("lowercase",co),e("number",Rn),e("orderBy",Yn),e("uppercase",lo)}function Pn(){return function(t,e,n){if(!i(t)){if(null==t)return t;throw r("filter")("notarray","Expected array but received: {0}",t)}var o,a,s=Tn(e);switch(s){case"function":o=e;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=jn(e,n,a);break;default:return t}return Array.prototype.filter.call(t,o)}}function jn(t,e,n){var r,i=w(t)&&"$"in t;return e===!0?e=V:S(e)||(e=function(t,e){return b(t)?!1:null===t||null===e?t===e:w(e)||w(t)&&!y(t)?!1:(t=yr(""+t),e=yr(""+e),-1!==t.indexOf(e))}),r=function(r){return i&&!w(r)?Fn(r,t.$,e,!1):Fn(r,t,e,n)}}function Fn(t,e,n,r,i){var o=Tn(t),a=Tn(e);if("string"===a&&"!"===e.charAt(0))return!Fn(t,e.substring(1),n,r);if(Nr(t))return t.some(function(t){return Fn(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&Fn(t[s],e,n,!0))return!0;return i?!1:Fn(t,e,n,!1)}if("object"===a){for(s in e){var u=e[s];if(!S(u)&&!b(u)){var c="$"===s,l=c?t:t[s];if(!Fn(l,u,n,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Tn(t){return null===t?"null":typeof t}function Mn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return b(n)&&(n=e.CURRENCY_SYM),b(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:Nn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Rn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Nn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Nn(t,e,n,r,i){if(w(t))return"";var o=0>t;t=Math.abs(t);var a=t===1/0;if(!a&&!isFinite(t))return"";var s=t+"",u="",c=!1,l=[];if(a&&(u=""),!a&&-1!==s.indexOf("e")){var f=s.match(/([\d\.]+)e(-?)(\d+)/);f&&"-"==f[2]&&f[3]>i+1?t=0:(u=s,c=!0)}if(a||c)i>0&&1>t&&(u=t.toFixed(i),t=parseFloat(u));else{var h=(s.split(oo)[1]||"").length;b(i)&&(i=Math.min(Math.max(e.minFrac,h),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var d=(""+t).split(oo),p=d[0];d=d[1]||"";var g,v=0,m=e.lgSize,y=e.gSize;if(p.length>=m+y)for(v=p.length-m,g=0;v>g;g++)(v-g)%y===0&&0!==g&&(u+=n),u+=p.charAt(g);for(g=v;g<p.length;g++)(p.length-g)%m===0&&0!==g&&(u+=n),u+=p.charAt(g);for(;d.length<i;)d+="0";i&&"0"!==i&&(u+=r+d.substr(0,i))}return 0===t&&(o=!1),l.push(o?e.negPre:e.posPre,u,o?e.negSuf:e.posSuf),l.join("")}function Dn(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function qn(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Dn(o,e,r)}}function Un(t,e){return function(n,r){var i=n["get"+t](),o=$r(e?"SHORT"+t:t);return r[o][i]}}function In(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Dn(Math[r>0?"floor":"ceil"](r/60),2)+Dn(Math.abs(r%60),2)}function Ln(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function Vn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Bn(t){return function(e){var n=Ln(e.getFullYear()),r=Vn(e),i=+r-+n,o=1+Math.round(i/6048e5);return Dn(o,t)}}function Wn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Hn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Kn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function zn(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=d(e[9]+e[10]),o=d(e[9]+e[11])),a.call(r,d(e[1]),d(e[2])-1,d(e[3]));var u=d(e[4]||0)-i,c=d(e[5]||0)-o,l=d(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,x(n)&&(n=uo.test(n)?d(n):e(n)),C(n)&&(n=new Date(n)),!A(n)||!isFinite(n.getTime()))return n;for(;r;)s=so.exec(r),s?(c=B(c,s,1),r=c.pop()):(c.push(r),r=null);var l=n.getTimezoneOffset();return i&&(l=G(i,n.getTimezoneOffset()),n=J(n,i,!0)),o(c,function(e){a=ao[e],u+=a?a(n,t.DATETIME_FORMATS,l):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function Qn(){return function(t,e){return b(e)&&(e=2),z(t,e)}}function Gn(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):d(e),isNaN(e)?t:(C(t)&&(t=t.toString()),Nr(t)||x(t)?(n=!n||isNaN(n)?0:d(n),n=0>n&&n>=-t.length?t.length+n:n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function Yn(t){function e(e,n){return n=n?-1:1,e.map(function(e){var r=1,i=v;if(S(e))i=e;else if(x(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(r="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var o=i();i=function(t){return t[o]}}return{get:i,descending:r*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function r(t,e){return"function"==typeof t.valueOf&&(t=t.valueOf(),n(t))?t:y(t)&&(t=t.toString(),n(t))?t:e}function o(t,e){var n=typeof t;return null===t?(n="string",t="null"):"string"===n?t=t.toLowerCase():"object"===n&&(t=r(t,e)),{value:t,type:n}}function a(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}return function(t,n,r){function s(t,e){return{value:t,predicateValues:c.map(function(n){return o(n.get(t),e)})}}function u(t,e){for(var n=0,r=0,i=c.length;i>r&&!(n=a(t.predicateValues[r],e.predicateValues[r])*c[r].descending);++r);return n}if(!i(t))return t;Nr(n)||(n=[n]),0===n.length&&(n=["+"]);var c=e(n,r);c.push({get:function(){return{}},descending:r?-1:1});var l=Array.prototype.map.call(t,s);return l.sort(u),t=l.map(function(t){return t.value})}}function Jn(t){return S(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function Xn(t,e){t.$name=e}function Zn(t,e,r,i,a){var s=this,u=[],c=s.$$parentForm=t.parent().controller("form")||po;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,c.$addControl(s),s.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})},s.$addControl=function(t){dt(t.$name,"input"),u.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),U(u,t)},pr({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(U(r,n),0===r.length&&delete t[e])},parentForm:c,$animate:i}),s.$setDirty=function(){i.removeClass(t,Yo),i.addClass(t,Jo),s.$dirty=!0,s.$pristine=!1,c.$setDirty()},s.$setPristine=function(){i.setClass(t,Yo,Jo+" "+go),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(u,function(t){t.$setPristine()})},s.$setUntouched=function(){o(u,function(t){t.$setUntouched()})},s.$setSubmitted=function(){i.addClass(t,go),s.$submitted=!0,c.$setSubmitted()}}function tr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function er(t,e,n,r,i,o){nr(t,e,n,r,i,o),tr(r)}function nr(t,e,n,r,i,o){var a=yr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(t){s=!0}),e.on("compositionend",function(){s=!1,u()})}var u=function(t){if(c&&(o.defer.cancel(c),c=null),!s){var i=e.val(),u=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=qr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))e.on("input",u);else{var c,l=function(t,e,n){c||(c=o.defer(function(){c=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",u),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function rr(t,e){if(A(t))return t;if(x(t)){Ao.lastIndex=0;var n=Ao.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=Ln(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}function ir(t,e){return function(n,r){var i,a;if(A(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),bo.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function or(t,e,r,i){return function(o,a,s,u,c,l,f){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function d(t){return $(t)?A(t)?t:r(t):n}ar(o,a,s,u),nr(o,a,s,u,c,l);var p,g=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){if(u.$isEmpty(t))return null;if(e.test(t)){var i=r(t,p);return g&&(i=J(i,g)),i}return n}),u.$formatters.push(function(t){if(t&&!A(t))throw ea("datefmt","Expected `{0}` to be a date",t);return h(t)?(p=t,p&&g&&(p=J(p,g,!0)),f("date")(t,i,g)):(p=null,"")}),$(s.min)||s.ngMin){var v;u.$validators.min=function(t){return!h(t)||b(v)||r(t)>=v},s.$observe("min",function(t){v=d(t),u.$validate()})}if($(s.max)||s.ngMax){var m;u.$validators.max=function(t){return!h(t)||b(m)||r(t)<=m},s.$observe("max",function(t){m=d(t),u.$validate()})}}}function ar(t,e,r,i){var o=e[0],a=i.$$hasNativeValidators=w(o.validity);a&&i.$parsers.push(function(t){var r=e.prop(mr)||{};return r.badInput&&!r.typeMismatch?n:t})}function sr(t,e,r,i,o,a){if(ar(t,e,r,i),nr(t,e,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:ko.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!C(t))throw ea("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),$(r.min)||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||b(s)||t>=s},r.$observe("min",function(t){$(t)&&!C(t)&&(t=parseFloat(t,10)),s=C(t)&&!isNaN(t)?t:n,i.$validate()})}if($(r.max)||r.ngMax){var u;i.$validators.max=function(t){return i.$isEmpty(t)||b(u)||u>=t},r.$observe("max",function(t){$(t)&&!C(t)&&(t=parseFloat(t,10)),u=C(t)&&!isNaN(t)?t:n,i.$validate()})}}function ur(t,e,n,r,i,o){nr(t,e,n,r,i,o),tr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||$o.test(n)}}function cr(t,e,n,r,i,o){nr(t,e,n,r,i,o),tr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||wo.test(n)}}function lr(t,e,n,r){b(n.name)&&e.attr("name",u());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function fr(t,e,n,r,i){var o;if($(r)){if(o=t(r),!o.constant)throw ea("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function hr(t,e,n,r,i,o,a,s){var u=fr(s,t,"ngTrueValue",n.ngTrueValue,!0),c=fr(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return V(t,u)}),r.$parsers.push(function(t){return t?u:c})}function dr(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){var e=[];return Nr(t)?(o(t,function(t){e=e.concat(i(t))}),e):x(t)?t.split(" "):w(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,u){function c(t){var e=f(t,1);u.$addClass(e)}function l(t){var e=f(t,-1);u.$removeClass(e)}function f(t,e){var n=s.data("$classCounts")||vt(),r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),
r.join(" ")}function h(t,e){var i=r(e,t),o=r(t,e);i=f(i,1),o=f(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function d(t){if(e===!0||a.$index%2===e){var n=i(t||[]);if(p){if(!V(t,p)){var r=i(p);h(r,n)}}else c(n)}p=L(t)}var p;a.$watch(u[t],d,!0),u.$observe("class",function(e){d(a.$eval(u[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(u[t]));o===e?c(s):l(s)}})}}}]}function pr(t){function e(t,e,u){e===n?r("$pending",t,u):i("$pending",t,u),T(e)?e?(f(s.$error,t,u),l(s.$$success,t,u)):(l(s.$error,t,u),f(s.$$success,t,u)):(f(s.$error,t,u),f(s.$$success,t,u)),s.$pending?(o(ta,!0),s.$valid=s.$invalid=n,a("",null)):(o(ta,!1),s.$valid=gr(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var c;c=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,a(t,c),h.$setValidity(t,c,s)}function r(t,e,n){s[t]||(s[t]={}),l(s[t],e,n)}function i(t,e,r){s[t]&&f(s[t],e,r),gr(s[t])&&(s[t]=n)}function o(t,e){e&&!c[t]?(d.addClass(u,t),c[t]=!0):!e&&c[t]&&(d.removeClass(u,t),c[t]=!1)}function a(t,e){t=t?"-"+ct(t,"-"):"",o(Qo+t,e===!0),o(Go+t,e===!1)}var s=t.ctrl,u=t.$element,c={},l=t.set,f=t.unset,h=t.parentForm,d=t.$animate;c[Go]=!(c[Qo]=u.hasClass(Qo)),s.$setValidity=e}function gr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var vr=/^\/(.+)\/([a-z]*)$/,mr="validity",yr=function(t){return x(t)?t.toLowerCase():t},br=Object.prototype.hasOwnProperty,$r=function(t){return x(t)?t.toUpperCase():t},wr=function(t){return x(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},kr=function(t){return x(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(yr=wr,$r=kr);var xr,Cr,Ar,Sr,Er=[].slice,_r=[].splice,Or=[].push,Pr=Object.prototype.toString,jr=Object.getPrototypeOf,Fr=r("ng"),Tr=t.angular||(t.angular={}),Mr=0;xr=e.documentMode,g.$inject=[],v.$inject=[];var Rr,Nr=Array.isArray,Dr=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,qr=function(t){return x(t)?t.trim():t},Ur=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ir=function(){function t(){try{return new Function(""),!1}catch(t){return!0}}if(!$(Ir.rules)){var n=e.querySelector("[ng-csp]")||e.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Ir.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else Ir.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Ir.rules},Lr=function(){if($(Lr.name_))return Lr.name_;var t,n,r,i,o=Vr.length;for(n=0;o>n;++n)if(r=Vr[n],t=e.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return Lr.name_=i},Vr=["ng-","data-ng-","ng:","x-ng-"],Br=/[A-Z]/g,Wr=!1,Hr=1,Kr=2,zr=3,Qr=8,Gr=9,Yr=11,Jr={full:"1.4.5",major:1,minor:4,dot:5,codeName:"permanent-internship"};_t.expando="ng339";var Xr=_t.cache={},Zr=1,ti=function(t,e,n){t.addEventListener(e,n,!1)},ei=function(t,e,n){t.removeEventListener(e,n,!1)};_t._data=function(t){return this.cache[t[this.expando]]||{}};var ni=/([\:\-\_]+(.))/g,ri=/^moz([A-Z])/,ii={mouseleave:"mouseout",mouseenter:"mouseover"},oi=r("jqLite"),ai=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,si=/<|&#?\w+;/,ui=/<([\w:]+)/,ci=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,li={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};li.optgroup=li.option,li.tbody=li.tfoot=li.colgroup=li.caption=li.thead,li.th=li.td;var fi=_t.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),_t(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Cr(t>=0?this[t]:this[this.length+t])},length:0,push:Or,sort:[].sort,splice:[].splice},hi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){hi[yr(t)]=t});var di={};o("input,select,option,textarea,button,form,details".split(","),function(t){di[t]=!0});var pi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Mt,removeData:Ft,hasData:At},function(t,e){_t[e]=t}),o({data:Mt,inheritedData:It,scope:function(t){return Cr.data(t,"$scope")||It(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Cr.data(t,"$isolateScope")||Cr.data(t,"$isolateScopeNoTemplate")},controller:Ut,injector:function(t){return It(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Rt,css:function(t,e,n){return e=kt(e),$(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=t.nodeType;if(i!==zr&&i!==Kr&&i!==Qr){var o=yr(e);if(hi[o]){if(!$(r))return t[e]||(t.attributes.getNamedItem(e)||g).specified?o:n;r?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if($(r))t.setAttribute(e,r);else if(t.getAttribute){var a=t.getAttribute(e,2);return null===a?n:a}}},prop:function(t,e,n){return $(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(b(e)){var n=t.nodeType;return n===Hr||n===zr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(b(e)){if(t.multiple&&"select"===q(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return b(e)?t.innerHTML:(Pt(t,!0),void(t.innerHTML=e))},empty:Lt},function(t,e){_t.prototype[e]=function(e,r){var i,o,a=this.length;if(t!==Lt&&(2==t.length&&t!==Rt&&t!==Ut?e:r)===n){if(w(e)){for(i=0;a>i;i++)if(t===Mt)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,u=s===n?Math.min(a,1):a,c=0;u>c;c++){var l=t(this[c],e,r);s=s?s+l:l}return s}for(i=0;a>i;i++)t(this[i],e,r);return this}}),o({removeData:Ft,on:function ja(t,e,n,r){if($(r))throw oi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ct(t)){var i=Tt(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Kt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length;u--;){e=s[u];var c=o[e];c||(o[e]=[],"mouseenter"===e||"mouseleave"===e?ja(t,ii[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(t,e)}):"$destroy"!==e&&ti(t,e,a),c=o[e]),c.push(n)}}},off:jt,one:function(t,e,n){t=Cr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;Pt(t),o(new _t(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Hr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Hr||n===Yr){e=new _t(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Hr){var n=t.firstChild;o(new _t(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Cr(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Vt,detach:function(t){Vt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new _t(e);for(var i=0,o=e.length;o>i;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Dt,removeClass:Nt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;b(r)&&(r=!Rt(t,e)),(r?Dt:Nt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Yr?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Ot,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,u=Tt(t),c=u&&u.events,l=c&&c[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:s,target:t},e.type&&(r=f(r,e)),i=L(l),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){_t.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;a>o;o++)b(i)?(i=t(this[o],e,n,r),$(i)&&(i=Cr(i))):qt(i,t(this[o],e,n,r));return $(i)?i:this},_t.prototype.bind=_t.prototype.on,_t.prototype.unbind=_t.prototype.off}),Gt.prototype={put:function(t,e){this[Qt(t,this.nextUid)]=e},get:function(t){return this[Qt(t,this.nextUid)]},remove:function(t){var e=this[t=Qt(t,this.nextUid)];return delete this[t],e}};var gi=[function(){this.$get=[function(){return Gt}]}],vi=/^[^\(]*\(\s*([^\)]*)\)/m,mi=/,/,yi=/^\s*(_?)(\S+?)\1\s*$/,bi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$i=r("$injector");Xt.$$annotate=Jt;var wi=r("$animate"),ki=1,xi="ng-animate",Ci=function(){this.$get=["$q","$$rAF",function(t,e){function n(){}return n.all=g,n.chain=g,n.prototype={end:g,cancel:g,resume:g,pause:g,complete:g,then:function(n,r){return t(function(t){e(function(){t()})}).then(n,r)}},n}]},Ai=function(){var t=new Gt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(n,i,a){var s=t.get(n);s||(t.put(n,s={}),e.push(n));var u=function(t,e){var n=!1;return t&&(t=x(t)?t.split(" "):Nr(t)?t:[],o(t,function(t){t&&(n=!0,s[t]=e)})),n},c=u(i,!0),l=u(a,!1);!c&&!l||e.length>1||r.$$postDigest(function(){o(e,function(e){var n=t.get(e);if(n){var r=ne(e.attr("class")),i="",a="";o(n,function(t,e){var n=!!r[e];t!==n&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&Dt(t,i),a&&Nt(t,a)}),t.remove(e)}}),e.length=0})}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,r,o){return o&&o(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&i(t,r.addClass,r.removeClass),new n}}}]},Si=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw wi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+xi+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw wi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',xi)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=ee(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Cr(r),i=i&&Cr(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",re(o))},move:function(n,r,i,o){return r=r&&Cr(r),i=i&&Cr(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",re(o))},leave:function(e,n){return t.push(e,"leave",re(n),function(){e.remove()})},addClass:function(e,n,r){return r=re(r),r.addClass=te(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=re(r),r.removeClass=te(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=re(i),i.addClass=te(i.addClass,n),i.removeClass=te(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=re(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=te(o.tempClasses,i),t.push(e,"animate",o)}}}]}],Ei=function(){this.$get=["$$rAF","$q",function(t,e){var n=function(){};return n.prototype={done:function(t){this.defer&&this.defer[t===!0?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=e.defer()),this.defer.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)}},function(e,r){function i(){return t(function(){o(),a||s.done(),a=!0}),s}function o(){r.addClass&&(e.addClass(r.addClass),r.addClass=null),r.removeClass&&(e.removeClass(r.removeClass),r.removeClass=null),r.to&&(e.css(r.to),r.to=null)}r.from&&(e.css(r.from),r.from=null);var a,s=new n;return{start:i,end:i}}}]},_i=r("$compile");ue.$inject=["$provide","$$sanitizeUriProvider"];var Oi=/^((?:x|data)[\:\-_])/i,Pi=r("$controller"),ji=/^(\S+)(\s+as\s+(\w+))?$/,Fi=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Cr&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Ti="application/json",Mi={"Content-Type":Ti+";charset=utf-8"},Ri=/^\[|^\{(?!\{)/,Ni={"[":/]$/,"{":/}$/},Di=/^\)\]\}',?\n/,qi=r("$http"),Ui=function(t){return function(){throw qi("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},Ii=Tr.$interpolateMinErr=r("$interpolate");Ii.throwNoconcat=function(t){throw Ii("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Ii.interr=function(t,e){return Ii("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Li=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Vi={http:80,https:443,ftp:21},Bi=r("$location"),Wi={$$html5:!1,$$replace:!1,absUrl:Ve("$$absUrl"),url:function(t){if(b(t))return this.$$url;var e=Li.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Ve("$$protocol"),host:Ve("$$host"),port:Ve("$$port"),path:Be("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||C(t))t=t.toString(),this.$$search=tt(t);else{if(!w(t))throw Bi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=I(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:b(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Be("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Le,Ie,Ue],function(t){t.prototype=Object.create(Wi),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ue||!this.$$html5)throw Bi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(e)?null:e,this}});var Hi=r("$parse"),Ki=Function.prototype.call,zi=Function.prototype.apply,Qi=Function.prototype.bind,Gi=vt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Gi[t]=!0});var Yi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ji=function(t){this.options=t};Ji.prototype={constructor:Ji,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Gi[e],o=Gi[n],a=Gi[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||""===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=$(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Hi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=yr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Yi[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Xi=function(t,e){this.lexer=t,this.options=e};Xi.Program="Program",Xi.ExpressionStatement="ExpressionStatement",Xi.AssignmentExpression="AssignmentExpression",Xi.ConditionalExpression="ConditionalExpression",Xi.LogicalExpression="LogicalExpression",Xi.BinaryExpression="BinaryExpression",Xi.UnaryExpression="UnaryExpression",Xi.CallExpression="CallExpression",Xi.MemberExpression="MemberExpression",Xi.Identifier="Identifier",Xi.Literal="Literal",Xi.ArrayExpression="ArrayExpression",Xi.Property="Property",Xi.ObjectExpression="ObjectExpression",Xi.ThisExpression="ThisExpression",Xi.NGValueParameter="NGValueParameter",Xi.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Xi.Program,body:t}},expressionStatement:function(){return{type:Xi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:Xi.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Xi.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Xi.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Xi.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Xi.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Xi.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Xi.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Xi.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Xi.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=I(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Xi.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Xi.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Xi.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Xi.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Xi.Identifier,name:t.text}},constant:function(){return{type:Xi.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Xi.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Xi.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Xi.ObjectExpression,properties:e}},throwError:function(t,e){throw Hi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Hi("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Hi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:Xi.Literal,value:!0},"false":{type:Xi.Literal,value:!1},"null":{type:Xi.Literal,value:null},undefined:{type:Xi.Literal,value:n},"this":{type:Xi.ThisExpression}}},on.prototype={compile:function(t,e){var r=this,i=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Xe(i,r.$filter);var a,s="";if(this.stage="assign",a=en(i)){this.state.computing="assign";var u=this.nextId();this.recurse(a,u),s="fn.assign="+this.generateFunction("assign","s,v,l")}var c=Ze(i.body);r.stage="inputs",o(c,function(t,e){var n="fn"+e;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(t,i),r.return_(i),r.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(i);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",f=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",l)(this.$filter,Ke,ze,Qe,Ge,Ye,t);return this.state=this.stage=n,f.literal=nn(i),f.constant=rn(i),f},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,i,a,s){var u,c,l,f,h=this;if(i=i||g,!s&&$(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,r,i,a,!0));switch(t.type){case Xi.Program:o(t.body,function(e,r){h.recurse(e.expression,n,n,function(t){c=t}),r!==t.body.length-1?h.current().body.push(c,";"):h.return_(c)});break;case Xi.Literal:f=this.escape(t.value),this.assign(e,f),i(f);break;case Xi.UnaryExpression:this.recurse(t.argument,n,n,function(t){c=t}),f=t.operator+"("+this.ifDefined(c,0)+")",this.assign(e,f),i(f);break;case Xi.BinaryExpression:this.recurse(t.left,n,n,function(t){u=t}),this.recurse(t.right,n,n,function(t){c=t}),f="+"===t.operator?this.plus(u,c):"-"===t.operator?this.ifDefined(u,0)+t.operator+this.ifDefined(c,0):"("+u+")"+t.operator+"("+c+")",this.assign(e,f),i(f);break;case Xi.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),i(e);break;case Xi.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),i(e);break;case Xi.Identifier:e=e||this.nextId(),r&&(r.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),Ke(t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){a&&1!==a&&h.if_(h.not(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),(h.state.expensiveChecks||sn(t.name))&&h.addEnsureSafeObject(e),i(e);break;case Xi.MemberExpression:u=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,u,n,function(){h.if_(h.notNull(u),function(){t.computed?(c=h.nextId(),h.recurse(t.property,c),h.addEnsureSafeMemberName(c),a&&1!==a&&h.if_(h.not(h.computedMember(u,c)),h.lazyAssign(h.computedMember(u,c),"{}")),f=h.ensureSafeObject(h.computedMember(u,c)),h.assign(e,f),r&&(r.computed=!0,r.name=c)):(Ke(t.property.name),a&&1!==a&&h.if_(h.not(h.nonComputedMember(u,t.property.name)),h.lazyAssign(h.nonComputedMember(u,t.property.name),"{}")),f=h.nonComputedMember(u,t.property.name),(h.state.expensiveChecks||sn(t.property.name))&&(f=h.ensureSafeObject(f)),h.assign(e,f),r&&(r.computed=!1,r.name=t.property.name))},function(){h.assign(e,"undefined")}),i(e)},!!a);break;case Xi.CallExpression:e=e||this.nextId(),t.filter?(c=h.filter(t.callee.name),l=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),l.push(e)}),f=c+"("+l.join(",")+")",h.assign(e,f),i(e)):(c=h.nextId(),u={},l=[],h.recurse(t.callee,c,u,function(){h.if_(h.notNull(c),function(){h.addEnsureSafeFunction(c),o(t.arguments,function(t){h.recurse(t,h.nextId(),n,function(t){l.push(h.ensureSafeObject(t))})}),u.name?(h.state.expensiveChecks||h.addEnsureSafeObject(u.context),f=h.member(u.context,u.name,u.computed)+"("+l.join(",")+")"):f=c+"("+l.join(",")+")",f=h.ensureSafeObject(f),h.assign(e,f)},function(){h.assign(e,"undefined")}),i(e)}));break;case Xi.AssignmentExpression:if(c=this.nextId(),u={},!tn(t.left))throw Hi("lval","Trying to assing a value to a non l-value");this.recurse(t.left,n,u,function(){h.if_(h.notNull(u.context),function(){h.recurse(t.right,c),h.addEnsureSafeObject(h.member(u.context,u.name,u.computed)),f=h.member(u.context,u.name,u.computed)+t.operator+c,h.assign(e,f),i(e||f)})},1);break;case Xi.ArrayExpression:l=[],o(t.elements,function(t){h.recurse(t,h.nextId(),n,function(t){l.push(t)})}),f="["+l.join(",")+"]",this.assign(e,f),i(f);break;case Xi.ObjectExpression:l=[],o(t.properties,function(t){h.recurse(t.value,h.nextId(),n,function(e){l.push(h.escape(t.key.type===Xi.Identifier?t.key.name:""+t.key.value)+":"+e)})}),f="{"+l.join(",")+"}",this.assign(e,f),i(f);break;case Xi.ThisExpression:this.assign(e,"s"),i("s");break;case Xi.NGValueParameter:this.assign(e,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Hi("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},an.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,Xe(r,n.$filter);var i,a;(i=en(r))&&(a=this.recurse(i));var s,u=Ze(r.body);u&&(s=[],o(u,function(t,e){var r=n.recurse(t);t.input=r,s.push(r),t.watchId=e}));var c=[];o(r.body,function(t){c.push(n.recurse(t.expression))});var l=0===r.body.length?function(){}:1===r.body.length?c[0]:function(t,e){var n;return o(c,function(r){n=r(t,e)}),n};return a&&(l.assign=function(t,e,n){return a(t,n,e)}),s&&(l.inputs=s),l.literal=nn(r),l.constant=rn(r),l},recurse:function(t,e,r){var i,a,s,u=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Xi.Literal:return this.value(t.value,e);case Xi.UnaryExpression:return a=this.recurse(t.argument),this["unary"+t.operator](a,e);case Xi.BinaryExpression:return i=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](i,a,e);case Xi.LogicalExpression:return i=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](i,a,e);case Xi.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);
case Xi.Identifier:return Ke(t.name,u.expression),u.identifier(t.name,u.expensiveChecks||sn(t.name),e,r,u.expression);case Xi.MemberExpression:return i=this.recurse(t.object,!1,!!r),t.computed||(Ke(t.property.name,u.expression),a=t.property.name),t.computed&&(a=this.recurse(t.property)),t.computed?this.computedMember(i,a,e,r,u.expression):this.nonComputedMember(i,a,u.expensiveChecks,e,r,u.expression);case Xi.CallExpression:return s=[],o(t.arguments,function(t){s.push(u.recurse(t))}),t.filter&&(a=this.$filter(t.callee.name)),t.filter||(a=this.recurse(t.callee,!0)),t.filter?function(t,r,i,o){for(var u=[],c=0;c<s.length;++c)u.push(s[c](t,r,i,o));var l=a.apply(n,u,o);return e?{context:n,name:n,value:l}:l}:function(t,n,r,i){var o,c=a(t,n,r,i);if(null!=c.value){ze(c.context,u.expression),Qe(c.value,u.expression);for(var l=[],f=0;f<s.length;++f)l.push(ze(s[f](t,n,r,i),u.expression));o=ze(c.value.apply(c.context,l),u.expression)}return e?{value:o}:o};case Xi.AssignmentExpression:return i=this.recurse(t.left,!0,1),a=this.recurse(t.right),function(t,n,r,o){var s=i(t,n,r,o),c=a(t,n,r,o);return ze(s.value,u.expression),s.context[s.name]=c,e?{value:c}:c};case Xi.ArrayExpression:return s=[],o(t.elements,function(t){s.push(u.recurse(t))}),function(t,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,n,r,i));return e?{value:o}:o};case Xi.ObjectExpression:return s=[],o(t.properties,function(t){s.push({key:t.key.type===Xi.Identifier?t.key.name:""+t.key.value,value:u.recurse(t.value)})}),function(t,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(t,n,r,i);return e?{value:o}:o};case Xi.ThisExpression:return function(t){return e?{value:t}:t};case Xi.NGValueParameter:return function(t,n,r,i){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=$(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=$(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=Ye(s,u);return n?{value:c}:c}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=($(s)?s:0)-($(u)?u:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,r,i,o){return function(a,s,u,c){var l=s&&t in s?s:a;i&&1!==i&&l&&!l[t]&&(l[t]={});var f=l?l[t]:n;return e&&ze(f,o),r?{context:l,name:t,value:f}:f}},computedMember:function(t,e,n,r,i){return function(o,a,s,u){var c,l,f=t(o,a,s,u);return null!=f&&(c=e(o,a,s,u),Ke(c,i),r&&1!==r&&f&&!f[c]&&(f[c]={}),l=f[c],ze(l,i)),n?{context:f,name:c,value:l}:l}},nonComputedMember:function(t,e,r,i,o,a){return function(s,u,c,l){var f=t(s,u,c,l);o&&1!==o&&f&&!f[e]&&(f[e]={});var h=null!=f?f[e]:n;return(r||sn(e))&&ze(h,a),i?{context:f,name:e,value:h}:h}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}};var Zi=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Xi(this.lexer),this.astCompiler=n.csp?new an(this.ast,e):new on(this.ast,e)};Zi.prototype={constructor:Zi,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var to=(vt(),vt(),Object.prototype.valueOf),eo=r("$sce"),no={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},_i=r("$compile"),ro=e.createElement("a"),io=Cn(t.location.href);En.$inject=["$document"],On.$inject=["$provide"],Mn.$inject=["$locale"],Rn.$inject=["$locale"];var oo=".",ao={yyyy:qn("FullYear",4),yy:qn("FullYear",2,0,!0),y:qn("FullYear",1),MMMM:Un("Month"),MMM:Un("Month",!0),MM:qn("Month",2,1),M:qn("Month",1,1),dd:qn("Date",2),d:qn("Date",1),HH:qn("Hours",2),H:qn("Hours",1),hh:qn("Hours",2,-12),h:qn("Hours",1,-12),mm:qn("Minutes",2),m:qn("Minutes",1),ss:qn("Seconds",2),s:qn("Seconds",1),sss:qn("Milliseconds",3),EEEE:Un("Day"),EEE:Un("Day",!0),a:Wn,Z:In,ww:Bn(2),w:Bn(1),G:Hn,GG:Hn,GGG:Hn,GGGG:Kn},so=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,uo=/^\-?\d+$/;zn.$inject=["$locale"];var co=m(yr),lo=m($r);Yn.$inject=["$parse"];var fo=m({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Pr.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),ho={};o(hi,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!=t){var r=ce("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),ho[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(pi,function(t,e){ho[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(vr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=ce("ng-"+t);ho[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Pr.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(xr&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var po={$addControl:g,$$renameControl:Xn,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},go="ng-submitted";Zn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var vo=function(t){return["$timeout","$parse",function(e,r){function i(t){return""===t?r('this[""]').assign:r(t).assign||g}var o={name:"form",restrict:t?"EAC":"E",controller:Zn,compile:function(r,o){r.addClass(Yo).addClass(Qo);var a=o.name?"name":t&&o.ngForm?"ngForm":!1;return{pre:function(t,r,o,s){if(!("action"in o)){var u=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};ti(r[0],"submit",u),r.on("$destroy",function(){e(function(){ei(r[0],"submit",u)},0,!1)})}var c=s.$$parentForm,l=a?i(s.$name):g;a&&(l(t,s),o.$observe(a,function(e){s.$name!==e&&(l(t,n),c.$$renameControl(s,e),(l=i(s.$name))(t,s))})),r.on("$destroy",function(){c.$removeControl(s),l(t,n),f(s,po)})}}}};return o}]},mo=vo(),yo=vo(!0),bo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,$o=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,wo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ko=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,xo=/^(\d{4})-(\d{2})-(\d{2})$/,Co=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ao=/^(\d{4})-W(\d\d)$/,So=/^(\d{4})-(\d\d)$/,Eo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,_o={text:er,date:or("date",xo,ir(xo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":or("datetimelocal",Co,ir(Co,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:or("time",Eo,ir(Eo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:or("week",Ao,rr,"yyyy-Www"),month:or("month",So,ir(So,["yyyy","MM"]),"yyyy-MM"),number:sr,url:ur,email:cr,radio:lr,checkbox:hr,hidden:g,button:g,submit:g,reset:g,file:g},Oo=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(_o[yr(a.type)]||_o.text)(i,o,a,s[0],e,t,n,r)}}}}],Po=/^(true|false|\d+)$/,jo=function(){return{restrict:"A",priority:100,compile:function(t,e){return Po.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Fo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],To=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,o){var a=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],Mo=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],Ro=m({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),No=dr("",!0),Do=dr("Odd",0),qo=dr("Even",1),Uo=Jn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Io=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Lo={},Vo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ce("ng-"+t);Lo[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};Vo[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Bo=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=gt(s.clone),t.leave(c).then(function(){c=null}),s=null))})}}}],Wo=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Tr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,h,d,p=0,g=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),d&&(n.leave(d).then(function(){h=null}),h=d,d=null)};r.$watch(o,function(o){var u=function(){!$(s)||s&&!r.$eval(s)||e()},h=++p;o?(t(o,!0).then(function(t){if(h===p){var e=r.$new();c.template=t;var s=l(e,function(t){g(),n.enter(t,null,i).then(u)});f=e,d=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){h===p&&(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),c.template=null)})}}}}],Ho=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void t(St(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],Ko=Jn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),zo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var a=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?qr(a):a,c=function(t){if(!b(t)){var e=[];return t&&o(t.split(u),function(t){t&&e.push(s?qr(t):t)}),e}};i.$parsers.push(c),i.$formatters.push(function(t){return Nr(t)?t.join(a):n}),i.$isEmpty=function(t){return!t||!t.length}}}},Qo="ng-valid",Go="ng-invalid",Yo="ng-pristine",Jo="ng-dirty",Xo="ng-untouched",Zo="ng-touched",ta="ng-pending",ea=r("ngModel"),na=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,a,s,u,c,l,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(t);var h,d=a(r.ngModel),p=d.assign,v=d,m=p,y=null,w=this;this.$$setOptions=function(t){if(w.$options=t,t&&t.getterSetter){var e=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");v=function(t){var n=d(t);return S(n)&&(n=e(t)),n},m=function(t,e){S(d(t))?n(t,{$$$p:w.$modelValue}):p(t,w.$modelValue)}}else if(!d.assign)throw ea("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,X(i))},this.$render=g,this.$isEmpty=function(t){return b(t)||""===t||null===t||t!==t};var k=i.inheritedData("$formController")||po,x=0;pr({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:k,$animate:s}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,s.removeClass(i,Jo),s.addClass(i,Yo)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,s.removeClass(i,Yo),s.addClass(i,Jo),k.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,s.setClass(i,Xo,Zo)},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,s.setClass(i,Zo,Xo)},this.$rollbackViewValue=function(){u.cancel(y),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!C(w.$modelValue)||!isNaN(w.$modelValue)){var t=w.$$lastCommittedViewValue,e=w.$$rawModelValue,r=w.$valid,i=w.$modelValue,o=w.$options&&w.$options.allowInvalid;w.$$runValidators(e,t,function(t){o||r===t||(w.$modelValue=t?e:n,w.$modelValue!==i&&w.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r){function i(){var t=w.$$parserName||"parse";return h!==n?(h||(o(w.$validators,function(t,e){u(e,null)}),o(w.$asyncValidators,function(t,e){u(e,null)})),u(t,h),h):(u(t,null),!0)}function a(){var n=!0;return o(w.$validators,function(r,i){var o=r(t,e);n=n&&o,u(i,o)}),n?!0:(o(w.$asyncValidators,function(t,e){u(e,null)}),!1)}function s(){var r=[],i=!0;o(w.$asyncValidators,function(o,a){var s=o(t,e);if(!M(s))throw ea("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);u(a,n),r.push(s.then(function(){u(a,!0)},function(t){i=!1,u(a,!1)}))}),r.length?l.all(r).then(function(){c(i)},g):c(!0)}function u(t,e){f===x&&w.$setValidity(t,e)}function c(t){f===x&&r(t)}x++;var f=x;return i()&&a()?void s():void c(!1)},this.$commitViewValue=function(){var t=w.$viewValue;u.cancel(y),(w.$$lastCommittedViewValue!==t||""===t&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=t,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){w.$modelValue!==a&&w.$$writeModelToScope()}var r=w.$$lastCommittedViewValue,i=r;if(h=b(i)?n:!0)for(var o=0;o<w.$parsers.length;o++)if(i=w.$parsers[o](i),b(i)){h=!1;break}C(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=v(t));var a=w.$modelValue,s=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=i,s&&(w.$modelValue=i,e()),w.$$runValidators(i,w.$$lastCommittedViewValue,function(t){s||(w.$modelValue=t?i:n,e())})},this.$$writeModelToScope=function(){m(t,w.$modelValue),o(w.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){w.$viewValue=t,(!w.$options||w.$options.updateOnDefault)&&w.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=w.$options;i&&$(i.debounce)&&(n=i.debounce,C(n)?r=n:C(n[e])?r=n[e]:C(n["default"])&&(r=n["default"])),u.cancel(y),r?y=u(function(){w.$commitViewValue()},r):c.$$phase?w.$commitViewValue():t.$apply(function(){w.$commitViewValue()})},t.$watch(function(){var e=v(t);if(e!==w.$modelValue&&(w.$modelValue===w.$modelValue||e===e)){w.$modelValue=w.$$rawModelValue=e,h=n;for(var r=w.$formatters,i=r.length,o=e;i--;)o=r[i](o);w.$viewValue!==o&&(w.$viewValue=w.$$lastCommittedViewValue=o,w.$render(),w.$$runValidators(e,o,g))}return e})}],ra=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:na,priority:1,compile:function(e){return e.addClass(Yo).addClass(Xo).addClass(Qo),{pre:function(t,e,n,r){var i=r[0],o=r[1]||po;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],ia=/(\s+|^)default(\s+|$)/,oa=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=I(t.$eval(e.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=qr(this.$options.updateOn.replace(ia,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},aa=Jn({terminal:!0,priority:1e3}),sa=r("ngOptions"),ua=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ca=["$compile","$parse",function(t,n){function r(t,e,r){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!c&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(ua);if(!s)throw sa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,X(e));var u=s[5]||s[7],c=s[6],l=/ as /.test(s[0])&&s[1],f=s[9],h=n(s[2]?s[1]:u),d=l&&n(l),p=d||h,g=f&&n(f),v=f?function(t,e){return g(r,e)}:function(t){return Qt(t)},m=function(t,e){return v(t,x(t,e))},y=n(s[2]||s[1]),b=n(s[3]||""),$=n(s[4]||""),w=n(s[8]),k={},x=c?function(t,e){return k[c]=e,k[u]=t,k}:function(t){return k[u]=t,k};return{trackBy:f,getTrackByValue:m,getWatchables:n(w,function(t){var e=[];t=t||[];for(var n=a(t),i=n.length,o=0;i>o;o++){var u=t===n?o:n[o],c=(t[u],x(t[u],u)),l=v(t[u],c);if(e.push(l),s[2]||s[1]){var f=y(r,c);e.push(f)}if(s[4]){var h=$(r,c);e.push(h)}}return e}),getOptions:function(){for(var t=[],e={},n=w(r)||[],i=a(n),s=i.length,u=0;s>u;u++){var c=n===i?u:i[u],l=n[c],h=x(l,c),d=p(r,h),g=v(d,h),k=y(r,h),C=b(r,h),A=$(r,h),S=new o(g,d,k,C,A);t.push(S),e[g]=S}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[m(t)]},getViewValueFromOption:function(t){return f?Tr.copy(t.viewValue):t.viewValue}}}}}var a=e.createElement("option"),s=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(e,n,i,u){function c(t,e){t.element=e,e.disabled=t.disabled,t.value!==e.value&&(e.value=t.selectValue),t.label!==e.label&&(e.label=t.label,e.textContent=t.label)}function l(t,e,n,r){var i;return e&&yr(e.nodeName)===n?i=e:(i=r.cloneNode(!1),e?t.insertBefore(i,e):t.appendChild(i)),i}function f(t){for(var e;t;)e=t.nextSibling,Vt(t),t=e}function h(t){var e=g&&g[0],n=k&&k[0];if(e||n)for(;t&&(t===e||t===n);)t=t.nextSibling;return t}function d(){var t=x&&v.readValue();x=C.getOptions();var e={},r=n[0].firstChild;if(w&&n.prepend(g),r=h(r),x.items.forEach(function(t){var i,o,u;t.group?(i=e[t.group],i||(o=l(n[0],r,"optgroup",s),r=o.nextSibling,o.label=t.group,i=e[t.group]={groupElement:o,currentOptionElement:o.firstChild}),u=l(i.groupElement,i.currentOptionElement,"option",a),c(t,u),i.currentOptionElement=u.nextSibling):(u=l(n[0],r,"option",a),c(t,u),r=u.nextSibling)}),Object.keys(e).forEach(function(t){f(e[t].currentOptionElement)}),f(r),p.$render(),!p.$isEmpty(t)){var i=v.readValue();(C.trackBy?V(t,i):t===i)||(p.$setViewValue(i),p.$render())}}var p=u[1];if(p){for(var g,v=u[0],m=i.multiple,y=0,b=n.children(),$=b.length;$>y;y++)if(""===b[y].value){g=b.eq(y);break}var w=!!g,k=Cr(a.cloneNode(!1));k.val("?");var x,C=r(i.ngOptions,n,e),A=function(){w||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)},S=function(){w||g.remove()},E=function(){n.prepend(k),n.val("?"),k.prop("selected",!0),k.attr("selected",!0)},_=function(){k.remove()};m?(p.$isEmpty=function(t){return!t||0===t.length},v.writeValue=function(t){x.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=x.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},v.readValue=function(){var t=n.val()||[],e=[];return o(t,function(t){var n=x.selectValueMap[t];n&&!n.disabled&&e.push(x.getViewValueFromOption(n))}),e},C.trackBy&&e.$watchCollection(function(){return Nr(p.$viewValue)?p.$viewValue.map(function(t){return C.getTrackByValue(t)}):void 0},function(){p.$render()})):(v.writeValue=function(t){var e=x.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&(_(),S(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||w?(_(),A()):(S(),E())},v.readValue=function(){var t=x.selectValueMap[n.val()];return t&&!t.disabled?(S(),_(),x.getViewValueFromOption(t)):null},C.trackBy&&e.$watch(function(){return C.getTrackByValue(p.$viewValue)},function(){p.$render()})),w?(g.remove(),t(g)(e),g.removeClass("ng-scope")):g=Cr(a.cloneNode(!1)),d(),e.$watchCollection(C.getWatchables,d)}}}}],la=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function c(t){s.text(t||"")}var l,f=u.count,h=u.$attr.when&&s.attr(u.$attr.when),d=u.offset||0,p=a.$eval(h)||{},v={},m=e.startSymbol(),y=e.endSymbol(),$=m+f+"-"+d+y,w=Tr.noop;o(u,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+yr(n[2]);p[r]=s.attr(u.$attr[e])}}),o(p,function(t,n){v[n]=e(t.replace(r,$))}),a.$watch(f,function(e){var r=parseFloat(e),i=isNaN(r);if(i||r in p||(r=t.pluralCat(r-d)),r!==l&&!(i&&C(l)&&isNaN(l))){w();var o=v[r];b(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),w=g,c()):w=a.$watch(o,c),l=r}})}}}],fa=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",u=r("ngRepeat"),c=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},l=function(t){return t.clone[0]},f=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,h){var d=h.ngRepeat,p=e.createComment(" end ngRepeat: "+d+" "),g=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var v=g[1],m=g[2],y=g[3],b=g[4];if(g=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var $=g[3]||g[1],w=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var k,x,C,A,S={$id:Qt};return b?k=t(b):(C=function(t,e){return Qt(e)},A=function(t){return t}),function(t,e,r,h,g){k&&(x=function(e,n,r){return w&&(S[w]=e),S[$]=n,S.$index=r,k(t,S)});var v=vt();t.$watchCollection(m,function(r){var h,m,b,k,S,E,_,O,P,j,F,T,M=e[0],R=vt();if(y&&(t[y]=r),i(r))P=r,O=x||C;else{O=x||A,P=[];for(var N in r)r.hasOwnProperty(N)&&"$"!==N.charAt(0)&&P.push(N)}for(k=P.length,F=new Array(k),h=0;k>h;h++)if(S=r===P?h:P[h],E=r[S],_=O(S,E,h),v[_])j=v[_],delete v[_],R[_]=j,F[h]=j;else{if(R[_])throw o(F,function(t){t&&t.scope&&(v[t.id]=t)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,_,E);F[h]={id:_,scope:n,clone:n},R[_]=!0}for(var D in v){if(j=v[D],T=gt(j.clone),a.leave(T),T[0].parentNode)for(h=0,m=T.length;m>h;h++)T[h][s]=!0;j.scope.$destroy()}for(h=0;k>h;h++)if(S=r===P?h:P[h],E=r[S],j=F[h],j.scope){b=M;do b=b.nextSibling;while(b&&b[s]);l(j)!=b&&a.move(gt(j.clone),null,Cr(M)),M=f(j),c(j.scope,h,$,E,w,S,k)}else g(function(t,e){j.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,a.enter(t,null,Cr(M)),M=n,j.clone=t,R[j.id]=j,c(j.scope,h,$,E,w,S,k)});v=R})}}}}],ha="ng-hide",da="ng-hide-animate",pa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,ha,{tempClasses:da})})}}}],ga=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,ha,{tempClasses:da})})}}}],va=Jn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),ma=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=l.length;i>r;++r)t.cancel(l[r]);for(l.length=0,r=0,i=f.length;i>r;++r){var s=gt(c[r].clone);f[r].$destroy();var d=l[r]=t.leave(s);d.then(h(l,r))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],ya=Jn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),ba=Jn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),$a=Jn({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",X(e));o(function(t){e.empty(),e.append(t)})}}),wa=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],ka={$setViewValue:g,$render:g},xa=["$element","$scope","$attrs",function(t,r,i){var o=this,a=new Gt;o.ngModelCtrl=ka,o.unknownOption=Cr(e.createElement("option")),o.renderUnknownOption=function(e){var n="? "+Qt(e)+" ?";o.unknownOption.val(n),t.prepend(o.unknownOption),t.val(n)},r.$on("$destroy",function(){o.renderUnknownOption=g}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){dt(t,'"option value"'),""===t&&(o.emptyOption=e);var n=a.get(t)||0;a.put(t,n+1)},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.remove(t),""===t&&(o.emptyOption=n)):a.put(t,e-1))},o.hasOption=function(t){return!!a.get(t)}}],Ca=function(){return{restrict:"E",require:["select","?ngModel"],controller:xa,link:function(t,e,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,i.$render=function(){a.writeValue(i.$viewValue)},e.on("change",function(){t.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Gt(t);o(e.find("option"),function(t){t.selected=$(n.get(t.value))})};var s,u=NaN;t.$watch(function(){u!==i.$viewValue||V(s,i.$viewValue)||(s=L(i.$viewValue),i.$render()),u=i.$viewValue}),i.$isEmpty=function(t){return!t||0===t.length}}}}}},Aa=["$interpolate",function(t){function e(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,r){if(b(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.ngModelCtrl&&(i?t.$watch(i,function(t,i){r.$set("value",t),i!==t&&s.removeOption(i),s.addOption(t,n),s.ngModelCtrl.$render(),e(n)}):(s.addOption(r.value,n),s.ngModelCtrl.$render(),e(n)),n.on("$destroy",function(){s.removeOption(r.value),s.ngModelCtrl.$render()}))}}}}],Sa=m({restrict:"E",terminal:!1}),Ea=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},_a=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(x(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,X(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||b(a)||a.test(e)}}}}},Oa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=d(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},Pa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=d(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};t.angular.bootstrap||(lt(),$t(Tr),Tr.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function r(t,r){var i=r;n===i&&(i=Math.min(e(t),3));var o=Math.pow(10,i),a=(t*o|0)%o;return{v:i,f:a}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",pluralCat:function(t,e){
var n=0|t,o=r(t,e);return 1==n&&0==o.v?i.ONE:i.OTHER}})}]),Cr(e).ready(function(){ot(e,at)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e,n){"use strict";function r(t,e,n){if(!t)throw ngMinErr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(V(t)&&(t=t.join(" ")),V(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function o(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function a(t,e,n){var r="";return t=V(t)?t:t&&B(t)&&t.length?t.split(/\s+/):[],L(t,function(t,i){t&&t.length>0&&(r+=i>0?" ":"",r+=n?e+t:t+e)}),r}function s(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function u(t){if(t instanceof I)switch(t.length){case 0:return[];case 1:if(t[0].nodeType===G)return t;break;default:return I(c(t))}return t.nodeType===G?I(t):void 0}function c(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==G)return n}}function l(t,e,n){L(e,function(e){t.addClass(e,n)})}function f(t,e,n){L(e,function(e){t.removeClass(e,n)})}function h(t){return function(e,n){n.addClass&&(l(t,e,n.addClass),n.addClass=null),n.removeClass&&(f(t,e,n.removeClass),n.removeClass=null)}}function d(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||q;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=q},t.$$prepared=!0}return t}function p(t,e){g(t,e),v(t,e)}function g(t,e){e.from&&(t.css(e.from),e.from=null)}function v(t,e){e.to&&(t.css(e.to),e.to=null)}function m(t,e,n){var r=(e.addClass||"")+" "+(n.addClass||""),i=(e.removeClass||"")+" "+(n.removeClass||""),o=y(t.attr("class"),r,i);n.preparationClasses&&(e.preparationClasses=A(n.preparationClasses,e.preparationClasses),delete n.preparationClasses);var a=e.domOperation!==q?e.domOperation:null;return U(e,n),a&&(e.domOperation=a),o.addClass?e.addClass=o.addClass:e.addClass=null,o.removeClass?e.removeClass=o.removeClass:e.removeClass=null,e}function y(t,e,n){function r(t){B(t)&&(t=t.split(" "));var e={};return L(t,function(t){t.length&&(e[t]=!0)}),e}var i=1,o=-1,a={};t=r(t),e=r(e),L(e,function(t,e){a[e]=i}),n=r(n),L(n,function(t,e){a[e]=a[e]===i?null:o});var s={addClass:"",removeClass:""};return L(a,function(e,n){var r,a;e===i?(r="addClass",a=!t[n]):e===o&&(r="removeClass",a=t[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function b(t){return t instanceof e.element?t[0]:t}function $(t,e,n){var r="";e&&(r=a(e,X,!0)),n.addClass&&(r=A(r,a(n.addClass,Y))),n.removeClass&&(r=A(r,a(n.removeClass,J))),r.length&&(n.preparationClasses=r,t.addClass(r))}function w(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function k(t,e){var n=e?"-"+e+"s":"";return C(t,[ht,n]),[ht,n]}function x(t,e){var n=e?"paused":"",r=N+ut;return C(t,[r,n]),[r,n]}function C(t,e){var n=e[0],r=e[1];t.style[n]=r}function A(t,e){return t?e?t+" "+e:t:e}function S(){this.$get=["$document",function(t){return I(t[0].body)}]}function E(t){return[ft,t+"s"]}function _(t,e){var n=e?lt:ht;return[n,t+"s"]}function O(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return L(n,function(t,e){var n=i[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=P(n)),0===n&&(n=null),r[e]=n}}),r}function P(t){var e=0,n=t.split(/\s*,\s*/);return L(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function j(t){return 0===t||null!=t}function F(t,e){var n=M,r=t+"s";return e?n+=rt:r+=" linear all",[n,r]}function T(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}var M,R,N,D,q=e.noop,U=e.extend,I=e.element,L=e.forEach,V=e.isArray,B=e.isString,W=e.isObject,H=e.isUndefined,K=e.isDefined,z=e.isFunction,Q=e.isElement,G=1,Y="-add",J="-remove",X="ng-",Z="-active",tt="ng-animate",et="$$ngAnimateChildren",nt="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(nt="-webkit-",M="WebkitTransition",R="webkitTransitionEnd transitionend"):(M="transition",R="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(nt="-webkit-",N="WebkitAnimation",D="webkitAnimationEnd animationend"):(N="animation",D="animationend");var rt="Duration",it="Property",ot="Delay",at="TimingFunction",st="IterationCount",ut="PlayState",ct=9999,lt=N+ot,ft=N+rt,ht=M+ot,dt=M+rt,pt=["$$rAF",function(t){function e(t){r=r.concat(t),n()}function n(){if(r.length){for(var e=r.shift(),o=0;o<e.length;o++)e[o]();i||t(function(){i||n()})}}var r,i;return r=e.queue=[],e.waitUntilQuiet=function(e){i&&i(),i=t(function(){i=null,e(),n()})},e}],gt=[function(){return function(t,n,r){var i=r.ngAnimateChildren;e.isString(i)&&0===i.length?n.data(et,!0):r.$observe("ngAnimateChildren",function(t){t="on"===t||"true"===t,n.data(et,t)})}}],vt="$$animateCss",mt=1e3,yt=3,bt=1.5,$t={transitionDuration:dt,transitionDelay:ht,transitionProperty:M+it,animationDuration:ft,animationDelay:lt,animationIterationCount:N+st},wt={transitionDuration:dt,transitionDelay:ht,animationDuration:ft,animationDelay:lt},kt=["$animateProvider",function(t){var e=T(),n=T();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$animate",function(t,r,i,u,c,l,f,m){function y(t,e){var n="$$ngAnimateParentKey",r=t.parentNode,i=r[n]||(r[n]=++T);return i+"-"+t.getAttribute("class")+"-"+e}function $(n,r,i,o){var a=e.get(i);return a||(a=O(t,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(i,a),a}function w(i,o,s,u){var c;if(e.count(s)>0&&(c=n.get(s),!c)){var l=a(o,"-stagger");r.addClass(i,l),c=O(t,i,u),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),r.removeClass(i,l),n.put(s,c)}return c||{}}function A(t){U.push(t),f.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=c(),r=0;r<U.length;r++)U[r](t);U.length=0})}function S(t,e,n){var r=$(t,e,n,$t),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var P=h(r),T=0,U=[];return function(t,n){function c(){h()}function f(){h(!0)}function h(e){I||W&&B||(I=!0,B=!1,n.$$skipPreparationClasses||r.removeClass(t,ft),r.removeClass(t,dt),x(U,!1),k(U,!1),L(et,function(t){U.style[t[0]]=""}),P(t,n),p(t,n),n.onDone&&n.onDone(),H&&H.complete(!e))}function $(t){Ft.blockTransition&&k(U,t),Ft.blockKeyframeAnimation&&x(U,!!t)}function O(){return H=new i({end:c,cancel:f}),A(q),h(),{$$willAnimate:!1,start:function(){return H},end:c}}function T(){function e(){if(!I){if($(!1),L(et,function(t){var e=t[0],n=t[1];U.style[e]=n}),P(t,n),r.addClass(t,dt),Ft.recalculateTimingStyles){if(ht=U.className+" "+ft,$t=y(U,ht),Pt=S(U,ht,$t),jt=Pt.maxDelay,z=Math.max(jt,0),G=Pt.maxDuration,0===G)return void h();Ft.hasTransitions=Pt.transitionDuration>0,Ft.hasAnimations=Pt.animationDuration>0}if(Ft.applyAnimationDelay&&(jt="boolean"!=typeof n.delay&&j(n.delay)?parseFloat(n.delay):jt,z=Math.max(jt,0),Pt.animationDelay=jt,Tt=_(jt,!0),et.push(Tt),U.style[Tt[0]]=Tt[1]),Q=z*mt,tt=G*mt,n.easing){var e,s=n.easing;Ft.hasTransitions&&(e=M+at,et.push([e,s]),U.style[e]=s),Ft.hasAnimations&&(e=N+at,et.push([e,s]),U.style[e]=s)}Pt.transitionDuration&&c.push(R),Pt.animationDuration&&c.push(D),a=Date.now();var l=Q+bt*tt,f=a+l,d=t.data(vt)||[],p=!0;if(d.length){var g=d[0];p=f>g.expectedEndTime,p?u.cancel(g.timer):d.push(h)}if(p){var m=u(i,l,!1);d[0]={timer:m,expectedEndTime:f},d.push(h),t.data(vt,d)}t.on(c.join(" "),o),v(t,n)}}function i(){var e=t.data(vt);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(vt)}}function o(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(yt));Math.max(n-a,0)>=Q&&r>=G&&(W=!0,h())}if(!I){if(!U.parentNode)return void h();var a,c=[],l=function(t){if(W)B&&t&&(B=!1,h());else if(B=!t,Pt.animationDuration){var e=x(U,B);B?et.push(e):s(et,e)}},f=_t>0&&(Pt.transitionDuration&&0===kt.transitionDuration||Pt.animationDuration&&0===kt.animationDuration)&&Math.max(kt.animationDelay,kt.transitionDelay);f?u(e,Math.floor(f*_t*mt),!1):e(),K.resume=function(){l(!0)},K.pause=function(){l(!1)}}}var U=b(t);if(!U||!U.parentNode||!m.enabled())return O();n=d(n);var I,B,W,H,K,z,Q,G,tt,et=[],nt=t.attr("class"),rt=o(n);if(0===n.duration||!l.animations&&!l.transitions)return O();var ot=n.event&&V(n.event)?n.event.join(" "):n.event,st=ot&&n.structural,ut="",lt="";st?ut=a(ot,X,!0):ot&&(ut=ot),n.addClass&&(lt+=a(n.addClass,Y)),n.removeClass&&(lt.length&&(lt+=" "),lt+=a(n.removeClass,J)),n.applyClassesEarly&&lt.length&&P(t,n);var ft=[ut,lt].join(" ").trim(),ht=nt+" "+ft,dt=a(ft,Z),pt=rt.to&&Object.keys(rt.to).length>0,gt=(n.keyframeStyle||"").length>0;if(!gt&&!pt&&!ft)return O();var $t,kt;if(n.stagger>0){var xt=parseFloat(n.stagger);kt={transitionDelay:xt,animationDelay:xt,transitionDuration:0,animationDuration:0}}else $t=y(U,ht),kt=w(U,ft,$t,wt);n.$$skipPreparationClasses||r.addClass(t,ft);var Ct;if(n.transitionStyle){var At=[M,n.transitionStyle];C(U,At),et.push(At)}if(n.duration>=0){Ct=U.style[M].length>0;var St=F(n.duration,Ct);C(U,St),et.push(St)}if(n.keyframeStyle){var Et=[N,n.keyframeStyle];C(U,Et),et.push(Et)}var _t=kt?n.staggerIndex>=0?n.staggerIndex:e.count($t):0,Ot=0===_t;Ot&&!n.skipBlocking&&k(U,ct);var Pt=S(U,ht,$t),jt=Pt.maxDelay;z=Math.max(jt,0),G=Pt.maxDuration;var Ft={};if(Ft.hasTransitions=Pt.transitionDuration>0,Ft.hasAnimations=Pt.animationDuration>0,Ft.hasTransitionAll=Ft.hasTransitions&&"all"==Pt.transitionProperty,Ft.applyTransitionDuration=pt&&(Ft.hasTransitions&&!Ft.hasTransitionAll||Ft.hasAnimations&&!Ft.hasTransitions),Ft.applyAnimationDuration=n.duration&&Ft.hasAnimations,Ft.applyTransitionDelay=j(n.delay)&&(Ft.applyTransitionDuration||Ft.hasTransitions),Ft.applyAnimationDelay=j(n.delay)&&Ft.hasAnimations,Ft.recalculateTimingStyles=lt.length>0,(Ft.applyTransitionDuration||Ft.applyAnimationDuration)&&(G=n.duration?parseFloat(n.duration):G,Ft.applyTransitionDuration&&(Ft.hasTransitions=!0,Pt.transitionDuration=G,Ct=U.style[M+it].length>0,et.push(F(G,Ct))),Ft.applyAnimationDuration&&(Ft.hasAnimations=!0,Pt.animationDuration=G,et.push(E(G)))),0===G&&!Ft.recalculateTimingStyles)return O();if(null!=n.delay){var Tt=parseFloat(n.delay);Ft.applyTransitionDelay&&et.push(_(Tt)),Ft.applyAnimationDelay&&et.push(_(Tt,!0))}return null==n.duration&&Pt.transitionDuration>0&&(Ft.recalculateTimingStyles=Ft.recalculateTimingStyles||Ot),Q=z*mt,tt=G*mt,n.skipBlocking||(Ft.blockTransition=Pt.transitionDuration>0,Ft.blockKeyframeAnimation=Pt.animationDuration>0&&kt.animationDelay>0&&0===kt.animationDuration),g(t,n),Ft.blockTransition||Ft.blockKeyframeAnimation?$(G):n.skipBlocking||k(U,!1),{$$willAnimate:!0,end:c,start:function(){return I?void 0:(K={end:c,cancel:f,resume:null,pause:null},H=new i(K),A(T),H)}}}}]}],xt=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$$body","$sniffer","$$jqLite",function(t,o,a,s,u,c,l){function f(t){return t.replace(/\bng-\S+\b/g,"")}function d(t,e){return B(t)&&(t=t.split(" ")),B(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function p(o,s,u){function c(t){var e={},n=b(t).getBoundingClientRect();return L(["width","height","top","left"],function(t){var r=n[t];switch(t){case"top":r+=m.scrollTop;break;case"left":r+=m.scrollLeft}e[t]=Math.floor(r)+"px"}),e}function l(){var e=t(v,{addClass:r,delay:!0,from:c(s)});return e.$$willAnimate?e:null}function h(t){return t.attr("class")||""}function p(){var e=f(h(u)),n=d(e,y),o=d(y,e),a=t(v,{to:c(u),addClass:i+" "+n,removeClass:r+" "+o,delay:!0});return a.$$willAnimate?a:null}function g(){v.remove(),s.removeClass(e),u.removeClass(e)}var v=I(b(s).cloneNode(!0)),y=f(h(v));s.addClass(e),u.addClass(e),v.addClass(n),$.append(v);var w,k=l();if(!k&&(w=p(),!w))return g();var x=k||w;return{start:function(){function t(){n&&n.end()}var e,n=x.start();return n.done(function(){return n=null,!w&&(w=p())?(n=w.start(),n.done(function(){n=null,g(),e.complete()}),n):(g(),void e.complete())}),e=new a({end:t,cancel:t})}}}function g(t,e,n,r){var i=v(t,q),o=v(e,q),s=[];return L(r,function(t){var e=t.out,r=t["in"],i=p(n,e,r);i&&s.push(i)}),i||o||0!==s.length?{start:function(){function t(){L(e,function(t){t.end()})}var e=[];i&&e.push(i.start()),o&&e.push(o.start()),L(s,function(t){e.push(t.start())});var n=new a({end:t,cancel:t});return a.all(e,function(t){n.complete(t)}),n}}:void 0}function v(e){var n=e.element,r=e.options||{};e.structural&&(r.event=e.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===e.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=A(r.event,r.preparationClasses));var i=t(n,r);return i.$$willAnimate?i:null}if(!c.animations&&!c.transitions)return q;var m=b(u),y=b(s),$=I(m.parentNode===y?m:y);h(l);return function(t){return t.from&&t.to?g(t.from,t.to,t.classes,t.anchors):v(t)}}]}],Ct=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,r){function i(n){n=V(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!i[a]&&(r.push(e.get(s)),i[a]=!0)}return r}var o=h(r);return function(t,e,r,a){function s(){a.domOperation(),o(t,a)}function u(t,e,r,i,o){var a;switch(r){case"animate":a=[e,i.from,i.to,o];break;case"setClass":a=[e,g,v,o];break;case"addClass":a=[e,g,o];break;case"removeClass":a=[e,v,o];break;default:a=[e,o]}a.push(i);var s=t.apply(t,a);if(s)if(z(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(z(s))return s;return q}function c(t,e,r,i,o){var a=[];return L(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,c=function(t){a||(a=!0,(o||q)(t),i.complete(!t))};return i=new n({end:function(){c()},cancel:function(){c(!0)}}),o=u(s,t,e,r,function(t){var e=t===!1;c(e)}),i})}),a}function l(t,e,r,i,o){var a=c(t,e,r,i,o);if(0===a.length){var s,u;"beforeSetClass"===o?(s=c(t,"removeClass",r,i,"beforeRemoveClass"),u=c(t,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=c(t,"removeClass",r,i,"removeClass"),u=c(t,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),u&&(a=a.concat(u))}if(0!==a.length)return function(t){var e=[];return a.length&&L(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){L(e,function(e){t?e.cancel():e.end()})}}}3===arguments.length&&W(r)&&(a=r,r=null),a=d(a),r||(r=t.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var f,h,g=a.addClass,v=a.removeClass,m=i(r);if(m.length){var y,b;"leave"==e?(b="leave",y="afterLeave"):(b="before"+e.charAt(0).toUpperCase()+e.substr(1),y=e),"enter"!==e&&"move"!==e&&(f=l(t,e,a,m,b)),h=l(t,e,a,m,y)}return f||h?{start:function(){function e(e){u=!0,s(),p(t,a),c.complete(e)}function r(t){u||((i||q)(t),e(t))}var i,o=[];f&&o.push(function(t){i=f(t)}),o.length?o.push(function(t){s(),t(!0)}):s(),h&&o.push(function(t){i=h(t)});var u=!1,c=new n({end:function(){r()},cancel:function(){r(!0)}});return n.chain(o,e),c}}:void 0}}]}],At=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,r=e.event,i=e.options,o=e.classes;return t(n,r,o,i)}return function(t){if(t.from&&t.to){var r=n(t.from),i=n(t.to);if(!r&&!i)return;return{start:function(){function t(){return function(){L(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],St="data-ng-animate",Et="$ngAnimatePin",_t=["$animateProvider",function(t){function e(t,e,n,r){return a[t].some(function(t){return t(e,n,r)})}function n(t,e){t=t||{};var n=(t.addClass||"").length>0,r=(t.removeClass||"").length>0;return e?n&&r:n||r}var i=1,o=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(t,e,r){return!e.structural&&n(e.options)}),a.skip.push(function(t,e,r){return!e.structural&&!n(e.options)}),a.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),a.skip.push(function(t,e,n){return n.structural&&n.state===o&&!e.structural}),a.cancel.push(function(t,e,n){return n.structural&&e.structural}),a.cancel.push(function(t,e,n){return n.state===o&&e.structural}),a.cancel.push(function(t,e,n){var r=e.options,i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$body","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(a,s,l,f,g,v,y,k,x,C,A){function S(t,e){return m(t,e,{})}function E(t,e){var n=b(t),r=[],i=I[e];return i&&L(i,function(t){t.node.contains(n)&&r.push(t.callback)}),r}function _(t,e,n,r){a(function(){L(E(e,t),function(t){t(e,n,r)})})}function O(t,r,a){function c(e,n,r,i){_(n,t,r,i),e.progress(n,r,i)}function l(e){w(t,a),J(t,a),p(t,a),a.domOperation(),g.complete(!e)}var f,h;t=u(t),t&&(f=b(t),h=t.parent()),a=d(a);var g=new k;if(V(a.addClass)&&(a.addClass=a.addClass.join(" ")),a.addClass&&!B(a.addClass)&&(a.addClass=null),V(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.removeClass&&!B(a.removeClass)&&(a.removeClass=null),a.from&&!W(a.from)&&(a.from=null),a.to&&!W(a.to)&&(a.to=null),!f)return l(),g;var v=[f.className,a.addClass,a.removeClass].join(" ");if(!Y(v))return l(),g;var x=["enter","move","leave"].indexOf(r)>=0,C=!D||N.get(f),A=!C&&R.get(f)||{},E=!!A.state;if(C||E&&A.state==i||(C=!T(t,h,r)),C)return l(),g;x&&P(t);var O={structural:x,element:t,event:r,close:l,options:a,runner:g};if(E){var F=e("skip",t,O,A);if(F)return A.state===o?(l(),g):(m(t,A.options,a),A.runner);var q=e("cancel",t,O,A);if(q)if(A.state===o)A.runner.end();else{if(!A.structural)return m(t,A.options,O.options),A.runner;A.close()}else{var U=e("join",t,O,A);if(U){if(A.state!==o)return $(t,x?r:null,a),r=O.event=A.event,a=m(t,A.options,O.options),A.runner;S(t,a)}}}else S(t,a);var I=O.structural;if(I||(I="animate"===O.event&&Object.keys(O.options.to||{}).length>0||n(O.options)),!I)return l(),j(t),g;var L=(A.counter||0)+1;return O.counter=L,M(t,i,O),s.$$postDigest(function(){var e=R.get(f),i=!e;e=e||{};var s=t.parent()||[],u=s.length>0&&("animate"===e.event||e.structural||n(e.options));if(i||e.counter!==L||!u)return i&&(J(t,a),p(t,a)),(i||x&&e.event!==r)&&(a.domOperation(),g.end()),void(u||j(t));r=!e.structural&&n(e.options,!0)?"setClass":e.event,M(t,o);var h=y(t,r,e.options);h.done(function(e){l(!e);var n=R.get(f);n&&n.counter===L&&j(b(t)),c(g,r,"close",{})}),g.setHost(h),c(g,r,"start",{})}),g}function P(t){var e=b(t),n=e.querySelectorAll("["+St+"]");L(n,function(t){var e=parseInt(t.getAttribute(St)),n=R.get(t);switch(e){case o:n.runner.end();case i:n&&R.remove(t)}})}function j(t){var e=b(t);e.removeAttribute(St),R.remove(e)}function F(t,e){return b(t)===b(e)}function T(t,e,n){var r,i=F(t,g)||"HTML"===t[0].nodeName,o=F(t,l),a=!1,s=t.data(Et);for(s&&(e=s);e&&e.length;){o||(o=F(e,l));var u=e[0];if(u.nodeType!==G)break;var c=R.get(u)||{};if(a||(a=c.structural||N.get(u)),H(r)||r===!0){var f=e.data(et);K(f)&&(r=f)}if(a&&r===!1)break;o||(o=F(e,l),o||(s=e.data(Et),s&&(e=s))),i||(i=F(e,g)),e=e.parent()}var h=!a||r;return h&&o&&i}function M(t,e,n){n=n||{},n.state=e;var r=b(t);r.setAttribute(St,e);var i=R.get(r),o=i?U(i,n):n;R.put(r,o)}var R=new v,N=new v,D=null,q=s.$watch(function(){return 0===x.totalPendingRequests},function(t){t&&(q(),s.$$postDigest(function(){s.$$postDigest(function(){null===D&&(D=!0)})}))}),I={},z=t.classNameFilter(),Y=z?function(t){return z.test(t)}:function(){return!0},J=h(C);return{on:function(t,e,n){var r=c(e);I[t]=I[t]||[],I[t].push({node:r,callback:n})},off:function(t,e,n){function r(t,e,n){var r=c(e);return t.filter(function(t){var e=t.node===r&&(!n||t.callback===n);return!e})}var i=I[t];i&&(I[t]=1===arguments.length?null:r(i,e,n))},pin:function(t,e){r(Q(t),"element","not an element"),r(Q(e),"parentElement","not an element"),t.data(Et,e)},push:function(t,e,n,r){return n=n||{},n.domOperation=r,O(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!D;else{var r=Q(t);if(r){var i=b(t),o=N.get(i);1===n?e=!o:(e=!!e,e?o&&N.remove(i):N.put(i,!0))}else e=D=!!t}return e}}}]}],Ot=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],Pt=["$q","$sniffer","$$animateAsyncRun",function(t,e,n){function r(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}var i=0,o=1,a=2;return r.chain=function(t,e){function n(){return r===t.length?void e(!0):void t[r](function(t){return t===!1?void e(!1):(r++,void n())})}var r=0;n()},r.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;L(t,function(t){t.done(n)})},r.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===a?t():this._doneCallbacks.push(t)},progress:q,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===i&&(e._state=o,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(t){this._state!==a&&(L(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=a)}},r}],jt=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function r(t){return t.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(t,s,u,c,l,f){function g(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,r=n.parentNode;o.put(n,t);for(var a;r;){if(a=o.get(r)){a.processed||(a=e(a));break}r=r.parentNode}return(a||i).children.push(t),t}function n(t){var e,n=[],r=[];for(e=0;e<t.children.length;e++)r.push(t.children[e]);var i=r.length,o=0,a=[];for(e=0;e<r.length;e++){var s=r[e];0>=i&&(i=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){o++,r.push(t)}),i--}return a.length&&n.push(a),n}var r,i={children:[]},o=new l;for(r=0;r<t.length;r++){var a=t[r];o.put(a.domNode,t[r]={domNode:a.domNode,fn:a.fn,children:[]})}for(r=0;r<t.length;r++)e(t[r]);return n(i)}var v=[],m=h(t);return function(l,h,y){function $(t){var e="["+o+"]",n=t.hasAttribute(o)?[t]:t.querySelectorAll(e),r=[];return L(n,function(t){var e=t.getAttribute(o);e&&e.length&&r.push(t)}),r}function w(t){var e=[],n={};L(t,function(t,r){var i=t.element,a=b(i),s=t.event,u=["enter","move"].indexOf(s)>=0,c=t.structural?$(a):[];if(c.length){var l=u?"to":"from";L(c,function(t){var e=t.getAttribute(o);n[e]=n[e]||{},n[e][l]={animationID:r,element:I(t)}})}else e.push(t)});var r={},i={};return L(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var u=a?a.animationID:s.animationID,c=u.toString();return void(r[c]||(r[c]=!0,e.push(t[u])))}var l=t[a.animationID],f=t[s.animationID],h=a.animationID.toString();if(!i[h]){var d=i[h]={structural:!0,beforeStart:function(){l.beforeStart(),f.beforeStart()},close:function(){l.close(),f.close()},classes:k(l.classes,f.classes),from:l,to:f,anchors:[]};d.classes.length?e.push(d):(e.push(l),e.push(f))}i[h].anchors.push({out:a.element,"in":s.element})}),e}function k(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var o=0;o<e.length;o++)if(i===e[o]){n.push(i);break}}return n.join(" ")}function x(t){for(var e=a.length-1;e>=0;e--){var n=a[e];if(u.has(n)){var r=u.get(n),i=r(t);if(i)return i}}}function C(){l.addClass(tt),j&&t.addClass(l,j)}function A(t,e){function n(t){r(t).setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function S(){var t=r(l);!t||"leave"===h&&y.$$domOperationFired||t.end()}function E(e){l.off("$destroy",S),n(l),m(l,y),p(l,y),y.domOperation(),j&&t.removeClass(l,j),l.removeClass(tt),O.complete(!e)}y=d(y);var _=["enter","move","leave"].indexOf(h)>=0,O=new c({end:function(){E()},cancel:function(){E(!0)}});if(!a.length)return E(),O;e(l,O);var P=i(l.attr("class"),i(y.addClass,y.removeClass)),j=y.tempClasses;return j&&(P+=" "+j,y.tempClasses=null),v.push({element:l,classes:P,event:h,structural:_,options:y,beforeStart:C,close:E}),l.on("$destroy",S),v.length>1?O:(s.$$postDigest(function(){var t=[];L(v,function(e){r(e.element)?t.push(e):e.close()}),v.length=0;var e=w(t),n=[];L(e,function(t){n.push({domNode:b(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close,i=t.anchors?t.from.element||t.to.element:t.element;if(r(i)){var o=x(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){n(!t)}),A(t,a)}else n()}})}),f(g(n))}),O)}}]}];e.module("ngAnimate",[]).provider("$$body",S).directive("ngAnimateChildren",gt).factory("$$rAFScheduler",pt).factory("$$AnimateRunner",Pt).factory("$$animateAsyncRun",Ot).provider("$$animateQueue",_t).provider("$$animation",jt).provider("$animateCss",kt).provider("$$animateCssDriver",xt).provider("$$animateJs",Ct).provider("$$animateJsDriver",At)}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function r(t,e){return U(new(U(function(){},{prototype:t})),e)}function i(t){return q(arguments,function(e){e!==t&&q(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function a(t){if(Object.keys)return Object.keys(t);var e=[];return q(t,function(t,n){e.push(n)}),e}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in t&&t[r]===e)return r;return-1}function u(t,e,n,r){var i,u=o(n,r),c={},l=[];for(var f in u)if(u[f].params&&(i=a(u[f].params),i.length))for(var h in i)s(l,i[h])>=0||(l.push(i[h]),c[i[h]]=t[i[h]]);return U({},c,e)}function c(t,e,n){if(!n){n=[];for(var r in t)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!=e[o])return!1}return!0}function l(t,e){var n={};return q(t,function(t){n[t]=e[t]}),n}function f(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return q(n,function(n){n in t&&(e[n]=t[n])}),e}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in t)-1==s(n,r)&&(e[r]=t[r]);return e}function d(t,e){var n=D(t),r=n?[]:{};return q(t,function(t,i){e(t,i)&&(r[n?r.length:i]=t)}),r}function p(t,e){var n=D(t)?[]:{};return q(t,function(t,r){n[r]=e(t,r)}),n}function g(t,e){var r=1,o=2,u={},c=[],l=u,f=U(t.when(u),{$$promises:u,$$values:u});this.study=function(u){function d(t,n){if(y[n]!==o){if(m.push(n),y[n]===r)throw m.splice(0,s(m,n)),new Error("Cyclic dependency: "+m.join(" -> "));if(y[n]=r,R(t))v.push(n,[function(){return e.get(t)}],c);else{var i=e.annotate(t);q(i,function(t){t!==n&&u.hasOwnProperty(t)&&d(u[t],t)}),v.push(n,t,i)}m.pop(),y[n]=o}}function p(t){return N(t)&&t.then&&t.$$promises}if(!N(u))throw new Error("'invocables' must be an object");var g=a(u||{}),v=[],m=[],y={};return q(u,d),u=m=y=null,function(r,o,a){function s(){--$||(w||i(b,o.$$values),m.$$values=b,m.$$promises=m.$$promises||!0,delete m.$$inheritedValues,d.resolve(b))}function u(t){m.$$failure=t,d.reject(t)}function c(n,i,o){function c(t){f.reject(t),u(t)}function l(){if(!T(m.$$failure))try{f.resolve(e.invoke(i,a,b)),f.promise.then(function(t){b[n]=t,s()},c)}catch(t){c(t)}}var f=t.defer(),h=0;q(o,function(t){y.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(h++,y[t].then(function(e){b[t]=e,--h||l()},c))}),h||l(),y[n]=f.promise}if(p(r)&&a===n&&(a=o,o=r,r=null),r){if(!N(r))throw new Error("'locals' must be an object")}else r=l;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=f;var d=t.defer(),m=d.promise,y=m.$$promises={},b=U({},r),$=1+v.length/3,w=!1;if(T(o.$$failure))return u(o.$$failure),m;o.$$inheritedValues&&i(b,h(o.$$inheritedValues,g)),U(y,o.$$promises),o.$$values?(w=i(b,h(o.$$values,g)),m.$$inheritedValues=h(o.$$values,g),s()):(o.$$inheritedValues&&(m.$$inheritedValues=h(o.$$inheritedValues,g)),o.then(s,u));for(var k=0,x=v.length;x>k;k+=3)r.hasOwnProperty(v[k])?s():c(v[k],v[k+1],v[k+2]);return m}},this.resolve=function(t,e,n,r){return this.study(t)(e,n,r)}}function v(t,e,n){this.fromConfig=function(t,e,n){return T(t.template)?this.fromString(t.template,e):T(t.templateUrl)?this.fromUrl(t.templateUrl,e):T(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return M(t)?t(e):t},this.fromUrl=function(n,r){return M(n)&&(n=n(r)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,r){return n.invoke(t,null,r||{params:e})}}function m(t,e,i){function o(e,n,r,i){if(v.push(e),p[e])return p[e];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new L.Param(e,n,r,i),g[e]}function a(t,e,n,r){var i=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+e+i[1]}function s(i,o){var a,s,u,c,l;return a=i[2]||i[3],l=e.params[a],u=t.substring(h,i.index),s=o?i[4]:i[4]||("*"==i[1]?".*":null),c=L.type(s||"string")||r(L.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":n)}),{id:a,regexp:s,segment:u,type:c,cfg:l}}e=U({params:{}},N(e)?e:{});var u,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",h=0,d=this.segments=[],p=i?i.params:{},g=this.params=i?i.params.$$new():new L.ParamSet,v=[];this.source=t;for(var m,y,b;(u=c.exec(t))&&(m=s(u,!1),!(m.segment.indexOf("?")>=0));)y=o(m.id,m.type,m.cfg,"path"),f+=a(m.segment,y.type.pattern.source,y.squash,y.isOptional),d.push(m.segment),h=c.lastIndex;b=t.substring(h);var $=b.indexOf("?");if($>=0){var w=this.sourceSearch=b.substring($);if(b=b.substring(0,$),this.sourcePath=t.substring(0,h+$),w.length>0)for(h=0;u=l.exec(w);)m=s(u,!0),y=o(m.id,m.type,m.cfg,"search"),h=c.lastIndex}else this.sourcePath=t,this.sourceSearch="";f+=a(b)+(e.strict===!1?"/?":"")+"$",d.push(b),this.regexp=new RegExp(f,e.caseInsensitive?"i":n),this.prefix=d[0],this.$$paramNames=v}function y(t){U(this,t)}function b(){function t(t){return null!=t?t.toString().replace(/\//g,"%2F"):t}function i(t){return null!=t?t.toString().replace(/%2F/g,"/"):t}function o(){return{strict:g,caseInsensitive:h}}function u(t){return M(t)||D(t)&&M(t[t.length-1])}function c(){for(;k.length;){var t=k.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend($[t.name],f.invoke(t.def))}}function l(t){U(this,t||{})}L=this;var f,h=!1,g=!0,v=!1,$={},w=!0,k=[],x={
string:{encode:t,decode:i,is:function(t){return null==t||!T(t)||"string"==typeof t},pattern:/[^/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return T(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};b.$$getDefaultValue=function(t){if(!u(t.value))return t.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(t.value)},this.caseInsensitive=function(t){return T(t)&&(h=t),h},this.strictMode=function(t){return T(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!T(t))return v;if(t!==!0&&t!==!1&&!R(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return v=t,t},this.compile=function(t,e){return new m(t,U(o(),e))},this.isMatcher=function(t){if(!N(t))return!1;var e=!0;return q(m.prototype,function(n,r){M(n)&&(e=e&&T(t[r])&&M(t[r]))}),e},this.type=function(t,e,n){if(!T(e))return $[t];if($.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return $[t]=new y(U({name:t},e)),n&&(k.push({name:t,def:n}),w||c()),this},q(x,function(t,e){$[e]=new y(U({name:e},t))}),$=r($,{}),this.$get=["$injector",function(t){return f=t,w=!1,c(),q(x,function(t,e){$[e]||($[e]=new y(t))}),this}],this.Param=function(t,e,r,i){function o(t){var e=N(t)?a(t):[],n=-1===s(e,"value")&&-1===s(e,"type")&&-1===s(e,"squash")&&-1===s(e,"array");return n&&(t={value:t}),t.$$fn=u(t.value)?t.value:function(){return t.value},t}function c(e,n,r){if(e.type&&n)throw new Error("Param '"+t+"' has two type configurations.");return n?n:e.type?e.type instanceof y?e.type:new y(e.type):"config"===r?$.any:$.string}function l(){var e={array:"search"===i?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return U(e,n,r).array}function h(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!T(n)||null==n)return v;if(n===!0||R(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(t,e,r,i){var o,a,u=[{from:"",to:r||e?n:""},{from:null,to:r||e?n:""}];return o=D(t.replace)?t.replace:[],R(i)&&o.push({from:i,to:n}),a=p(o,function(t){return t.from}),d(u,function(t){return-1===s(a,t.from)}).concat(o)}function m(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var t=f.invoke(r.$$fn);if(null!==t&&t!==n&&!k.type.is(t))throw new Error("Default value ("+t+") for parameter '"+k.id+"' is not an instance of Type ("+k.type.name+")");return t}function b(t){function e(t){return function(e){return e.from===t}}function n(t){var n=p(d(k.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),T(t)?k.type.$normalize(t):m()}function w(){return"{Param:"+t+" "+e+" squash: '"+A+"' optional: "+C+"}"}var k=this;r=o(r),e=c(r,e,i);var x=l();e=x?e.$asArray(x,"search"===i):e,"string"!==e.name||x||"path"!==i||r.value!==n||(r.value="");var C=r.value!==n,A=h(r,C),S=g(r,x,C,A);U(this,{id:t,type:e,location:i,array:x,squash:A,replace:S,isOptional:C,value:b,dynamic:n,config:r,toString:w})},l.prototype={$$new:function(){return r(this,U(new l,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,r=a(l.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),q(e,function(e){q(a(e),function(e){-1===s(t,e)&&-1===s(r,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return q(n.$$keys(),function(r){e[r]=n[r].value(t&&t[r])}),e},$$equals:function(t,e){var n=!0,r=this;return q(r.$$keys(),function(i){var o=t&&t[i],a=e&&e[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(t){var r,i,o,a,s,u=this.$$keys();for(r=0;r<u.length&&(i=this[u[r]],o=t[u[r]],o!==n&&null!==o||!i.isOptional);r++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(s=i.type.encode(a),e.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=l}function $(t,r){function i(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function a(t,e,n){if(!n)return!1;var r=t.invoke(e,e,{$match:n});return T(r)?r:!0}function s(r,i,o,a){function s(t,e,n){return"/"===g?t:e?g.slice(0,-1)+t:n?g.slice(1)+t:t}function h(t){function e(t){var e=t(o,r);return e?(R(e)&&r.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){p&&r.url()===p;p=n;var i,a=c.length;for(i=0;a>i;i++)if(e(c[i]))return;l&&e(l)}}function d(){return u=u||i.$on("$locationChangeSuccess",h)}var p,g=a.baseHref(),v=r.url();return f||d(),{sync:function(){h()},listen:function(){return d()},update:function(t){return t?void(v=r.url()):void(r.url()!==v&&(r.url(v),r.replace()))},push:function(t,e,i){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),r.url(o),p=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled);var u=n.format(i);if(o=o||{},a||null===u||(u="#"+t.hashPrefix()+u),null!==u&&i&&i["#"]&&(u+="#"+i["#"]),u=s(u,a,o.absolute),!o.absolute||!u)return u;var c=!a&&u?"/":"",l=r.port();return l=80===l||443===l?"":":"+l,[r.protocol(),"://",r.host(),l,c,u].join("")}}}var u,c=[],l=null,f=!1;this.rule=function(t){if(!M(t))throw new Error("'rule' must be a function");return c.push(t),this},this.otherwise=function(t){if(R(t)){var e=t;t=function(){return e}}else if(!M(t))throw new Error("'rule' must be a function");return l=t,this},this.when=function(t,e){var n,s=R(e);if(R(t)&&(t=r.compile(t)),!s&&!M(e)&&!D(e))throw new Error("invalid 'handler' in when()");var u={matcher:function(t,e){return s&&(n=r.compile(e),e=["$match",function(t){return n.format(t)}]),U(function(n,r){return a(n,e,t.exec(r.path(),r.search()))},{prefix:R(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return o(n,t)}]),U(function(n,r){return a(n,e,t.exec(r.path()))},{prefix:i(t)})}},c={matcher:r.isMatcher(t),regex:t instanceof RegExp};for(var l in c)if(c[l])return this.rule(u[l](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),f=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function w(t,i){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function h(t,e){if(!t)return n;var r=R(t),i=r?t:t.name,a=o(i);if(a){if(!e)throw new Error("No reference point given for path '"+i+"'");e=h(e);for(var s=i.split("."),u=0,c=s.length,l=e;c>u;u++)if(""!==s[u]||0!==u){if("^"!==s[u])break;if(!l.parent)throw new Error("Path '"+i+"' not valid for state '"+e.name+"'");l=l.parent}else l=e;s=s.slice(u).join("."),i=l.name+(l.name&&s?".":"")+s}var f=A[i];return!f||!r&&(r||f!==t&&f.self!==t)?n:f}function d(t,e){S[t]||(S[t]=[]),S[t].push(e)}function g(t){for(var e=S[t]||[];e.length;)v(e.shift())}function v(e){e=r(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!R(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(A.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):R(e.parent)?e.parent:N(e.parent)&&R(e.parent.name)?e.parent.name:"";if(i&&!A[i])return d(i,e.self);for(var o in _)M(_[o])&&(e[o]=_[o](e,_.$delegates[o]));return A[n]=e,!e[E]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){C.$current.navigable==e&&c(t,n)||C.transitionTo(e,t,{inherit:!0,location:!1})}]),g(n),e}function m(t){return t.indexOf("*")>-1}function y(t){for(var e=t.split("."),n=C.$current.name.split("."),r=0,i=e.length;i>r;r++)"*"===e[r]&&(n[r]="*");return"**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function b(t,e){return R(t)&&!T(e)?_[t]:M(e)&&R(t)?(_[t]&&!_.$delegates[t]&&(_.$delegates[t]=_[t]),_[t]=e,this):this}function $(t,e){return N(t)?e=t:e.name=t,v(e),this}function w(t,i,o,s,f,d,g,v,b){function $(e,n,r,o){var a=t.$broadcast("$stateNotFound",e,n,r);if(a.defaultPrevented)return g.update(),O;if(!a.retry)return null;if(o.$retry)return g.update(),P;var s=C.transition=i.when(a.retry);return s.then(function(){return s!==C.transition?S:(e.options.$retry=!0,C.transitionTo(e.to,e.toParams,e.options))},function(){return O}),g.update(),s}function w(t,n,r,a,u,c){function h(){var n=[];return q(t.views,function(r,i){var a=r.resolve&&r.resolve!==t.resolve?r.resolve:{};a.$template=[function(){return o.load(i,{view:r,locals:u.globals,params:d,notify:c.notify})||""}],n.push(f.resolve(a,u.globals,u.resolve,t).then(function(n){if(M(r.controllerProvider)||D(r.controllerProvider)){var o=e.extend({},a,u.globals);n.$$controller=s.invoke(r.controllerProvider,null,o)}else n.$$controller=r.controller;n.$$state=t,n.$$controllerAs=r.controllerAs,u[i]=n}))}),i.all(n).then(function(){return u.globals})}var d=r?n:l(t.params.$$keys(),n),p={$stateParams:d};u.resolve=f.resolve(t.resolve,p,u.resolve,t);var g=[u.resolve.then(function(t){u.globals=t})];return a&&g.push(a),i.all(g).then(h).then(function(t){return u})}var S=i.reject(new Error("transition superseded")),_=i.reject(new Error("transition prevented")),O=i.reject(new Error("transition aborted")),P=i.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},C={params:{},current:x.self,$current:x,transition:null},C.reload=function(t){return C.transitionTo(C.current,d,{reload:t||!0,inherit:!1,notify:!0})},C.go=function(t,e,n){return C.transitionTo(t,e,U({inherit:!0,relative:C.$current},n))},C.transitionTo=function(e,n,o){n=n||{},o=U({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,c=C.$current,f=C.params,p=c.path,v=h(e,o.relative),m=n["#"];if(!T(v)){var y={to:e,toParams:n,options:o},b=$(y,c.self,f,o);if(b)return b;if(e=y.to,n=y.toParams,o=y.options,v=h(e,o.relative),!T(v)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(v[E])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=u(d,n||{},C.$current,v)),!v.params.$$validates(n))return P;n=v.params.$$values(n),e=v;var A=e.path,O=0,j=A[O],F=x.locals,M=[];if(o.reload){if(R(o.reload)||N(o.reload)){if(N(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var D=o.reload===!0?p[0]:h(o.reload);if(o.reload&&!D)throw new Error("No such reload state '"+(R(o.reload)?o.reload:o.reload.name)+"'");for(;j&&j===p[O]&&j!==D;)F=M[O]=j.locals,O++,j=A[O]}}else for(;j&&j===p[O]&&j.ownParams.$$equals(n,f);)F=M[O]=j.locals,O++,j=A[O];if(k(e,n,c,f,F,o))return m&&(n["#"]=m),C.params=n,I(C.params,d),o.location&&e.navigable&&e.navigable.url&&(g.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),g.update(!0)),C.transition=null,i.when(C.current);if(n=l(e.params.$$keys(),n||{}),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,c.self,f).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,c.self,f),g.update(),_;for(var q=i.when(F),L=O;L<A.length;L++,j=A[L])F=M[L]=r(F),q=w(j,n,j===e,q,F,o);var V=C.transition=q.then(function(){var r,i,a;if(C.transition!==V)return S;for(r=p.length-1;r>=O;r--)a=p[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=O;r<A.length;r++)i=A[r],i.locals=M[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return m&&(n["#"]=m),C.transition!==V?S:(C.$current=e,C.current=e.self,C.params=n,I(C.params,d),C.transition=null,o.location&&e.navigable&&g.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,c.self,f),g.update(!0),C.current)},function(r){return C.transition!==V?S:(C.transition=null,a=t.$broadcast("$stateChangeError",e.self,n,c.self,f,r),a.defaultPrevented||g.update(),i.reject(r))});return V},C.is=function(t,e,r){r=U({relative:C.$current},r||{});var i=h(t,r.relative);return T(i)?C.$current!==i?!1:e?c(i.params.$$values(e),d):!0:n},C.includes=function(t,e,r){if(r=U({relative:C.$current},r||{}),R(t)&&m(t)){if(!y(t))return!1;t=C.$current.name}var i=h(t,r.relative);return T(i)?T(C.$current.includes[i.name])?e?c(i.params.$$values(e),d,a(e)):!0:!1:n},C.href=function(t,e,r){r=U({lossy:!0,inherit:!0,absolute:!1,relative:C.$current},r||{});var i=h(t,r.relative);if(!T(i))return null;r.inherit&&(e=u(d,e||{},C.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?g.href(o.url,l(i.params.$$keys().concat("#"),e||{}),{absolute:r.absolute}):null},C.get=function(t,e){if(0===arguments.length)return p(a(A),function(t){return A[t].self});var n=h(t,e||C.$current);return n&&n.self?n.self:null},C}function k(t,e,n,r,i,o){function a(t,e,n){function r(e){return"search"!=t.params[e].location}var i=t.params.$$keys().filter(r),o=f.apply({},[t.params].concat(i)),a=new L.ParamSet(o);return a.$$equals(e,n)}return!o.reload&&t===n&&(i===n.locals||t.self.reloadOnSearch===!1&&a(n,r,e))?!0:void 0}var x,C,A={},S={},E="abstract",_={parent:function(t){if(T(t.parent)&&t.parent)return h(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?h(e[1]):x},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=U({},t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(R(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||x).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new L.ParamSet;return q(t.params||{},function(t,n){e[n]||(e[n]=new L.Param(n,null,t,"config"))}),e},params:function(t){return t.parent&&t.parent.params?U(t.parent.params.$$new(),t.ownParams):new L.ParamSet},views:function(t){var e={};return q(T(t.views)?t.views:{"":t},function(n,r){r.indexOf("@")<0&&(r+="@"+t.parent.name),e[r]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?U({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};x=v({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=b,this.state=$,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function k(){function t(t,e){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=U(o,r),r.view&&(i=e.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&t.$broadcast("$viewContentLoading",r),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function x(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function C(t,n,r,i){function o(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function a(t,e){var n=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(c)return{enter:function(t,e,n){var r=c.enter(t,null,e,n);r&&r.then&&r.then(n)},leave:function(t,e){var n=c.leave(t,e);n&&n.then&&n.then(e)}};if(u){var r=u&&u(e,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return n()}var s=o(),u=s("$animator"),c=s("$animate"),l={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,u){function c(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),h&&(m.leave(h,function(){f=null}),f=h,h=null)}function l(a){var l,f=S(n,u,o,i),y=f&&t.$current&&t.$current.locals[f];if(a||y!==p){l=n.$new(),p=t.$current.locals[f];var b=s(l,function(t){m.enter(t,o,function(){d&&d.$emit("$viewContentAnimationEnded"),(e.isDefined(v)&&!v||n.$eval(v))&&r(t)}),c()});h=b,d=l,d.$emit("$viewContentLoaded"),d.$eval(g)}}var f,h,d,p,g=u.onload||"",v=u.autoscroll,m=a(u,n);n.$on("$stateChangeSuccess",function(){l(!1)}),n.$on("$viewContentLoading",function(){l(!1)}),l(!0)}}};return l}function A(t,e,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var u=n.$current,c=S(i,s,a,r),l=u&&u.locals[c];if(l){a.data("$uiView",{name:c,state:l.$$state}),a.html(l.$template?l.$template:o);var f=t(a.contents());if(l.$$controller){l.$scope=i,l.$element=a;var h=e(l.$$controller,l);l.$$controllerAs&&(i[l.$$controllerAs]=h),a.data("$ngControllerController",h),a.children().data("$ngControllerController",h)}f(i)}}}}}function S(t,e,n,r){var i=r(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function E(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function _(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function O(t,n){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){var u=E(a.uiSref,t.current.name),c=null,l=_(o)||t.$current,f="[object SVGAnimatedString]"===Object.prototype.toString.call(o.prop("href"))?"xlink:href":"href",h=null,d="A"===o.prop("tagName").toUpperCase(),p="FORM"===o[0].nodeName,g=p?"action":f,v=!0,m={relative:l,inherit:!0},y=i.$eval(a.uiSrefOpts)||{};e.forEach(r,function(t){t in y&&(m[t]=y[t])});var b=function(n){if(n&&(c=e.copy(n)),v){h=t.href(u.state,c,m);var r=s[1]||s[0];return r&&r.$$addStateInfo(u.state,c),null===h?(v=!1,!1):void a.$set(g,h)}};u.paramExpr&&(i.$watch(u.paramExpr,function(t,e){t!==c&&b(t)},!0),c=e.copy(i.$eval(u.paramExpr))),b(),p||o.bind("click",function(e){var r=e.which||e.button;if(!(r>1||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var i=n(function(){t.go(u.state,c,m)});e.preventDefault();var a=d&&!h?1:0;e.preventDefault=function(){a--<=0&&n.cancel(i)}}})}}}function P(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,r,i){function o(){a()?r.addClass(u):r.removeClass(u)}function a(){for(var t=0;t<c.length;t++)if(s(c[t].state,c[t].params))return!0;return!1}function s(e,n){return"undefined"!=typeof i.uiSrefActiveEq?t.is(e.name,n):t.includes(e.name,n)}var u,c=[];u=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(e),this.$$addStateInfo=function(e,n){var i=t.get(e,_(r));c.push({state:i||{name:e},params:n}),o()},e.$on("$stateChangeSuccess",o)}]}}function j(t){var e=function(e){return t.is(e)};return e.$stateful=!0,e}function F(t){var e=function(e){return t.includes(e)};return e.$stateful=!0,e}var T=e.isDefined,M=e.isFunction,R=e.isString,N=e.isObject,D=e.isArray,q=e.forEach,U=e.extend,I=e.copy;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",g),v.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",v);var L;m.prototype.concat=function(t,e){var n={caseInsensitive:L.caseInsensitive(),strict:L.strictMode(),squash:L.defaultSquashPolicy()};return new m(this.sourcePath+t+this.sourceSearch,U(n,e),this)},m.prototype.toString=function(){return this.source},m.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var r=e(t).split(/-(?!\\)/),i=p(r,e);return p(i,n).reverse()}var r=this.regexp.exec(t);if(!r)return null;e=e||{};var i,o,a,s=this.parameters(),u=s.length,c=this.segments.length-1,l={};if(c!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;c>i;i++){a=s[i];var f=this.params[a],h=r[i+1];for(o=0;o<f.replace;o++)f.replace[o].from===h&&(h=f.replace[o].to);h&&f.array===!0&&(h=n(h)),l[a]=f.value(h)}for(;u>i;i++)a=s[i],l[a]=this.params[a].value(e[a]);return l},m.prototype.parameters=function(t){return T(t)?this.params[t]||null:this.$$paramNames},m.prototype.validates=function(t){return this.params.$$validates(t)},m.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(t))return null;var o,a=!1,s=n.length-1,u=r.length,c=n[0];for(o=0;u>o;o++){var l=s>o,f=r[o],h=i[f],d=h.value(t[f]),g=h.isOptional&&h.type.equals(h.value(),d),v=g?h.squash:!1,m=h.type.encode(d);if(l){var y=n[o+1];if(v===!1)null!=m&&(c+=D(m)?p(m,e).join("-"):encodeURIComponent(m)),c+=y;else if(v===!0){var b=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=y.match(b)[1]}else R(v)&&(c+=v+y)}else{if(null==m||g&&v!==!1)continue;D(m)||(m=[m]),m=p(m,encodeURIComponent).join("&"+f+"="),c+=(a?"&":"?")+(f+"="+m),a=!0}}return c},y.prototype.is=function(t,e){return!0},y.prototype.encode=function(t,e){return t},y.prototype.decode=function(t,e){return t},y.prototype.equals=function(t,e){return t==e},y.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},y.prototype.$asArray=function(t,e){function r(t,e){function r(t,e){return function(){return t[e].apply(t,arguments)}}function i(t){return D(t)?t:T(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t){return!t}function s(t,e){return function(n){n=i(n);var r=p(n,t);return e===!0?0===d(r,a).length:o(r)}}function u(t){return function(e,n){var r=i(e),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!t(r[a],o[a]))return!1;return!0}}this.encode=s(r(t,"encode")),this.decode=s(r(t,"decode")),this.is=s(r(t,"is"),!0),this.equals=u(r(t,"equals")),this.pattern=t.pattern,this.$normalize=s(r(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new r(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",b),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),$.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",$),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").value("$stateParams",{}).provider("$state",w),k.$inject=[],e.module("ui.router.state").provider("$view",k),e.module("ui.router.state").provider("$uiViewScroll",x),C.$inject=["$state","$injector","$uiViewScroll","$interpolate"],A.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",C),e.module("ui.router.state").directive("uiView",A),O.$inject=["$state","$timeout"],P.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",O).directive("uiSrefActive",P).directive("uiSrefActiveEq",P),j.$inject=["$state"],F.$inject=["$state"],e.module("ui.router.state").filter("isState",j).filter("includedByState",F)}(window,window.angular),function(){function n(t){return void 0!==t}function ba(){}function ca(t){t.vb=function(){return t.uf?t.uf:t.uf=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t,e,n){return t.call.apply(t.bind,arguments)}function ka(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function q(t,e,n){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function ma(t,e){function n(){}n.prototype=e.prototype,t.$g=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wg=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function r(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function na(t,e){var n,r={};for(n in t)r[n]=e.call(void 0,t[n],n,t);return r}function oa(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function pa(t){var e,n=0;for(e in t)n++;return n}function qa(t){for(var e in t)return e}function ra(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function sa(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function ta(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function ua(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r}function va(t,e){var n=ua(t,e,void 0);return n&&t[n]}function wa(t){for(var e in t)return!1;return!0}function xa(t){var e,n={};for(e in t)n[e]=t[e];return n}function za(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<ya.length;o++)n=ya[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Aa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Sd=void 0}function Ca(t,e,n){switch(typeof e){case"string":Da(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var r=e.length;n.push("[");for(var i="",o=0;r>o;o++)n.push(i),i=e[o],Ca(t,t.Sd?t.Sd.call(e,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i=e[o],"function"!=typeof i&&(n.push(r),Da(o,n),n.push(":"),Ca(t,t.Sd?t.Sd.call(e,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function Da(t,e){e.push('"',t.replace(Fa,function(t){if(t in Ea)return Ea[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),Ea[t]=n+e.toString(16)}),'"')}function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}function Ka(){this.Wa=-1}function La(){this.Wa=-1,this.Wa=64,this.P=[],this.ne=[],this.Uf=[],this.Ld=[],this.Ld[0]=128;for(var t=1;t<this.Wa;++t)this.Ld[t]=0;this.ee=this.ac=0,this.reset()}function Ma(t,e,n){n||(n=0);var r=t.Uf;if(p(e))for(var i=0;16>i;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}e=t.P[0],n=t.P[1];for(var a,s=t.P[2],u=t.P[3],c=t.P[4],i=0;80>i;i++)40>i?20>i?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>i?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(e<<5|e>>>27)+o+c+a+r[i]&4294967295,c=u,u=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.P[0]=t.P[0]+e&4294967295,t.P[1]=t.P[1]+n&4294967295,t.P[2]=t.P[2]+s&4294967295,t.P[3]=t.P[3]+u&4294967295,t.P[4]=t.P[4]+c&4294967295}function Ta(t,e){var n=Ua(t,e,void 0);return 0>n?null:p(t)?t.charAt(n):t[n]}function Ua(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)if(o in i&&e.call(n,i[o],o,t))return o;return-1}function Va(t,e){var n=Na(t,e);n>=0&&u.splice.call(t,n,1)}function Wa(t,e,n){return 2>=arguments.length?u.slice.call(t,e):u.slice.call(t,e,n)}function Xa(t,e){t.sort(e||Ya)}function Ya(t,e){return t>e?1:e>t?-1:0}function fb(t,e){if(!fa(t))throw Error("encodeByteArray takes an array as a parameter");gb();for(var n=e?db:cb,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|c>>6,c=63&c;u||(c=64,a||(s=64)),r.push(n[l],n[o],n[s],n[c])}return r.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var t=0;65>t;t++)cb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),db[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),eb[db[t]]=t,t>=62&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function ib(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jb(t){var e={};return ib(t,function(t,n){e[t]=n}),e}function kb(t){var e=[];return ib(t,function(t,n){ea(n)?Oa(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function lb(t){var e={};return t=t.replace(/^\?/,"").split("&"),Oa(t,function(t){t&&(t=t.split("="),e[t[0]]=t[1])}),e}function x(t,e,n,r){var i;if(e>r?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function z(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(r+" argument ")}function A(t,e,r,i){if((!i||n(r))&&!ha(r))throw Error(z(t,e,i)+"must be a valid function.")}function mb(t,e,r){if(n(r)&&(!ia(r)||null===r))throw Error(z(t,e,!0)+"must be a valid context object.")}function nb(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):Aa(t)}function B(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];Ca(new Ba,t,e),t=e.join("")}return t}function ob(){this.Wd=C}function pb(){}function rb(t,e,n){this.Rf=t,this.Ka=e,this.Kd=n}function vb(){this.ub=[]}function wb(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.Zb();null===n||o.ca(n.Zb())||(t.ub.push(n),n=null),null===n&&(n=new xb(o)),n.add(i)}n&&t.ub.push(n);
}function yb(t,e,n){wb(t,n),zb(t,function(t){return t.ca(e)})}function Ab(t,e,n){wb(t,n),zb(t,function(t){return t.contains(e)||e.contains(t)})}function zb(t,e){for(var n=!0,r=0;r<t.ub.length;r++){var i=t.ub[r];if(i)if(i=i.Zb(),e(i)){for(var i=t.ub[r],o=0;o<i.vd.length;o++){var a=i.vd[o];if(null!==a){i.vd[o]=null;var s=a.Vb();Bb&&Cb("event: "+a.toString()),Db(s)}}t.ub[r]=null}else n=!1}n&&(t.ub=[])}function xb(t){this.ra=t,this.vd=[]}function D(t,e,n,r){this.type=t,this.Ja=e,this.Xa=n,this.Le=r,this.Qd=void 0}function Eb(t){return new D(Fb,t)}function Gb(t,e,n,r){this.ve=e,this.$d=n,this.Qd=r,this.ud=t}function Hb(t,e,n){this.ve=t,this.error=e,this.path=n}function tb(t,e,n){this.w=t,this.ea=e,this.Ub=n}function Ib(t){return t.ea}function Jb(t,e){return e.e()?t.ea&&!t.Ub:sb(t,E(e))}function sb(t,e){return t.ea&&!t.Ub||t.w.Da(e)}function Kb(t){this.eg=t,this.Dd=null}function Lb(t,e){this.Nf={},this.fd=new Kb(t),this.ba=e;var n=1e4+2e4*Math.random();setTimeout(q(this.If,this),Math.floor(n))}function Mb(){this.Ec={}}function Nb(t,e,r){n(r)||(r=1),v(t.Ec,e)||(t.Ec[e]=0),t.Ec[e]+=r}function Qb(t){return t=t.toString(),Ob[t]||(Ob[t]=new Mb),Ob[t]}function Rb(t,e){var n=t.toString();return Pb[n]||(Pb[n]=e()),Pb[n]}function F(t,e){this.name=t,this.S=e}function Sb(t,e){return new F(t,e)}function Tb(t,e){return Ub(t.name,e.name)}function Vb(t,e){return Ub(t,e)}function Wb(t,e,n){this.type=Xb,this.source=t,this.path=e,this.Ga=n}function Yb(t,e){this.type=Zb,this.source=t,this.path=e}function $b(t,e){this.La=t,this.wa=e?e:ac}function bc(t,e){for(var n,r=t.wa,i=null;!r.e();){if(n=t.La(e,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:n>0&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function cc(t,e,n,r,i){for(this.Ud=i||null,this.Ge=r,this.Qa=[],i=1;!t.e();)if(i=e?n(t.key,e):1,r&&(i*=-1),0>i)t=this.Ge?t.left:t.right;else{if(0===i){this.Qa.push(t);break}this.Qa.push(t),t=this.Ge?t.right:t.left}}function J(t){if(0===t.Qa.length)return null;var e,n=t.Qa.pop();if(e=t.Ud?t.Ud(n.key,n.value):{key:n.key,value:n.value},t.Ge)for(n=n.left;!n.e();)t.Qa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Qa.push(n),n=n.left;return e}function dc(t){if(0===t.Qa.length)return null;var e;return e=t.Qa,e=e[e.length-1],t.Ud?t.Ud(e.key,e.value):{key:e.key,value:e.value}}function ec(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:!0,this.left=null!=r?r:ac,this.right=null!=i?i:ac}function fc(t){return t.left.e()?t:fc(t.left)}function hc(t){return t.left.e()?ac:(t.left.fa()||t.left.left.fa()||(t=ic(t)),t=t.X(null,null,null,hc(t.left),null),gc(t))}function gc(t){return t.right.fa()&&!t.left.fa()&&(t=lc(t)),t.left.fa()&&t.left.left.fa()&&(t=jc(t)),t.left.fa()&&t.right.fa()&&(t=kc(t)),t}function ic(t){return t=kc(t),t.right.left.fa()&&(t=t.X(null,null,null,null,jc(t.right)),t=lc(t),t=kc(t)),t}function lc(t){return t.right.X(null,null,t.color,t.X(null,null,!0,null,t.right.left),null)}function jc(t){return t.left.X(null,null,t.color,null,t.X(null,null,!0,t.left.right,null))}function kc(t){return t.X(null,null,!t.color,t.left.X(null,null,!t.left.color,null,null),t.right.X(null,null,!t.right.color,null,null))}function mc(){}function nc(t,e){return t&&"object"==typeof t?(K(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function oc(t,e){var n=new pc;return qc(t,new L(""),function(t,r){n.nc(t,rc(r,e))}),n}function rc(t,e){var n,r=t.B().H(),r=nc(r,e);if(t.L()){var i=nc(t.Ca(),e);return i!==t.Ca()||r!==t.B().H()?new sc(i,M(r)):t}return n=t,r!==t.B().H()&&(n=n.ga(new sc(r))),t.R(N,function(t,r){var i=rc(r,e);i!==r&&(n=n.O(t,i))}),n}function L(t,e){if(1==arguments.length){this.n=t.split("/");for(var n=0,r=0;r<this.n.length;r++)0<this.n[r].length&&(this.n[n]=this.n[r],n++);this.n.length=n,this.Z=0}else this.n=t,this.Z=e}function O(t,e){var n=E(t);if(null===n)return e;if(n===E(e))return O(H(t),H(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function E(t){return t.Z>=t.n.length?null:t.n[t.Z]}function tc(t){return t.n.length-t.Z}function H(t){var e=t.Z;return e<t.n.length&&e++,new L(t.n,e)}function uc(t){return t.Z<t.n.length?t.n[t.n.length-1]:null}function vc(t,e){this.Ra=t.slice(),this.Ha=Math.max(1,this.Ra.length),this.lf=e;for(var n=0;n<this.Ra.length;n++)this.Ha+=wc(this.Ra[n]);xc(this)}function xc(t){if(768<t.Ha)throw Error(t.lf+"has a key path longer than 768 bytes ("+t.Ha+").");if(32<t.Ra.length)throw Error(t.lf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+yc(t))}function yc(t){return 0==t.Ra.length?"":"in property '"+t.Ra.join(".")+"'"}function zc(){this.wc={}}function Ac(t){this.Fc=t,this.Pd="firebase:"}function Bc(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ac(e)}}catch(n){}return new zc}function Dc(t,e,n,r,i){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.lb=e,this.Db=n,this.Ug=r,this.Od=i||"",this.Pa=Cc.get("host:"+t)||this.host}function Ec(t,e){e!==t.Pa&&(t.Pa=e,"s-"===t.Pa.substr(0,2)&&Cc.set("host:"+t.host,t.Pa))}function K(t,e){if(!t)throw Gc(e)}function Gc(t){return Error("Firebase ("+hb+") INTERNAL ASSERT FAILED: "+t)}function Hc(t){try{var e;if("undefined"!=typeof atob)e=atob(t);else{gb();for(var n=eb,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;var s=i<t.length?n[t.charAt(i)]:64;++i;var u=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}if(8192>r.length)e=String.fromCharCode.apply(null,r);else{for(t="",n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,Wa(r,n,n+8192));e=t}}return e}catch(c){Cb("base64Decode failed: ",c)}return null}function Ic(t){var e=Jc(t);t=new La,t.update(e);var e=[],n=8*t.ee;56>t.ac?t.update(t.Ld,56-t.ac):t.update(t.Ld,t.Wa-(t.ac-56));for(var r=t.Wa-1;r>=56;r--)t.ne[r]=255&n,n/=256;for(Ma(t,t.ne),r=n=0;5>r;r++)for(var i=24;i>=0;i-=8)e[n]=t.P[r]>>i&255,++n;return fb(e)}function Kc(t){for(var e="",n=0;n<arguments.length;n++)e=fa(arguments[n])?e+Kc.apply(null,arguments[n]):"object"==typeof arguments[n]?e+B(arguments[n]):e+arguments[n],e+=" ";return e}function Cb(t){if(!0===Lc&&(Lc=!1,null===Bb&&!0===P.get("logging_enabled")&&Mc(!0)),Bb){var e=Kc.apply(null,arguments);Bb(e)}}function Nc(t){return function(){Cb(t,arguments)}}function Oc(t){if("undefined"!=typeof console){"FIREBASE INTERNAL ERROR: "+Kc.apply(null,arguments);"undefined"!=typeof console.error,void 0}}function Pc(t){var e=Kc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function Q(t){if("undefined"!=typeof console){"FIREBASE WARNING: "+Kc.apply(null,arguments);"undefined"!=typeof console.warn,void 0}}function Qc(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if(p(t)){var u=t.indexOf("//");for(u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2)),u=t.indexOf("/"),-1===u&&(u=t.length),e=t.substring(0,u),i="",t=t.substring(u).split("/"),u=0;u<t.length;u++)if(0<t[u].length){var c=t[u];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(l){}i+="/"+c}t=e.split("."),3===t.length?(n=t[1],r=t[0].toLowerCase()):2===t.length&&(n=t[0]),u=e.indexOf(":"),u>=0&&(o="https"===a||"wss"===a,s=e.substring(u+1),isFinite(s)&&(s=String(s)),s=p(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:e,port:s,domain:n,Rg:r,lb:o,scheme:a,$c:i}}function Rc(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Sc(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function Ub(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=Tc(t),r=Tc(e);return null!==n?null!==r?0==n-r?t.length-e.length:n-r:-1:null!==r?1:e>t?-1:1}function Uc(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+B(e))}function Vc(t){if("object"!=typeof t||null===t)return B(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var r=0;r<n.length;r++)0!==r&&(e+=","),e+=B(n[r]),e+=":",e+=Vc(t[n[r]]);return e+"}"}function Wc(t,e){if(t.length<=e)return[t];for(var n=[],r=0;r<t.length;r+=e)r+e>t?n.push(t.substring(r,t.length)):n.push(t.substring(r,r+e));return n}function Xc(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else r(t,e)}function Yc(t){K(!Rc(t),"Invalid JSON number");var e,n,r,i;for(0===t?(r=n=0,e=-(1/0)===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=r+1023,r=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),i=[],t=52;t;--t)i.push(r%2?1:0),r=Math.floor(r/2);for(t=11;t;--t)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(e?1:0),i.reverse(),e=i.join(""),n="",t=0;64>t;t+=8)r=parseInt(e.substr(t,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function Tc(t){return Zc.test(t)&&(t=Number(t),t>=-2147483648&&2147483647>=t)?t:null}function Db(t){try{t()}catch(e){setTimeout(function(){throw Q("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function R(t,e){if(ha(t)){var n=Array.prototype.slice.call(arguments,1).slice();Db(function(){t.apply(null,n)})}}function Jc(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i>=55296&&56319>=i&&(i-=55296,r++,K(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(t.charCodeAt(r)-56320)),128>i?e[n++]=i:(2048>i?e[n++]=i>>6|192:(65536>i?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function wc(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);128>r?e++:2048>r?e+=2:r>=55296&&56319>=r?(e+=4,n++):e+=3}return e}function $c(t){var e={},n={},r={},i="";try{var o=t.split("."),e=nb(Hc(o[0])||""),n=nb(Hc(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(a){}return{Xg:e,Bc:n,data:r,Og:i}}function ad(t){return t=$c(t).Bc,"object"==typeof t&&t.hasOwnProperty("iat")?w(t,"iat"):null}function bd(t){t=$c(t);var e=t.Bc;return!!t.Og&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function cd(t){this.V=t,this.g=t.o.g}function dd(t,e,n,r){var i=[],o=[];return Oa(e,function(e){"child_changed"===e.type&&t.g.Ad(e.Le,e.Ja)&&o.push(new D("child_moved",e.Ja,e.Xa))}),ed(t,i,"child_removed",e,r,n),ed(t,i,"child_added",e,r,n),ed(t,i,"child_moved",o,r,n),ed(t,i,"child_changed",e,r,n),ed(t,i,Fb,e,r,n),i}function ed(t,e,n,r,i,o){r=Pa(r,function(t){return t.type===n}),Xa(r,q(t.fg,t)),Oa(r,function(n){var r=fd(t,n,o);Oa(i,function(i){i.Kf(n.type)&&e.push(i.createEvent(r,t.V))})})}function fd(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Qd=n.rf(e.Xa,e.Ja,t.g)),e}function gd(){this.bb={}}function hd(t,e){var n=e.type,r=e.Xa;K("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),K(".priority"!==r,"Only non-priority child changes can be tracked.");var i=w(t.bb,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)t.bb[r]=new D("child_changed",e.Ja,r,i.Ja);else if("child_removed"==n&&"child_added"==o)delete t.bb[r];else if("child_removed"==n&&"child_changed"==o)t.bb[r]=new D("child_removed",i.Le,r);else if("child_changed"==n&&"child_added"==o)t.bb[r]=new D("child_added",e.Ja,r);else{if("child_changed"!=n||"child_changed"!=o)throw Gc("Illegal combination of changes: "+e+" occurred after "+i);t.bb[r]=new D("child_changed",e.Ja,r,i.Le)}}else t.bb[r]=e}function id(t,e,n){this.Rb=t,this.qb=e,this.sb=n||null}function jd(t,e,n){this.ha=t,this.qb=e,this.sb=n}function kd(t){this.g=t}function ld(t){this.Ce=new kd(t.g),this.g=t.g;var e;t.ma?(e=md(t),e=t.g.Pc(nd(t),e)):e=t.g.Tc(),this.ed=e,t.pa?(e=od(t),t=t.g.Pc(pd(t),e)):t=t.g.Qc(),this.Gc=t}function qd(t){this.sa=new ld(t),this.g=t.g,K(t.ja,"Only valid if limit has been set"),this.ka=t.ka,this.Jb=!rd(t)}function sd(t,e,n,r,i,o){var a;if(t.Jb){var s=td(t.g);a=function(t,e){return s(e,t)}}else a=td(t.g);K(e.Eb()==t.ka,"");var u=new F(n,r),c=t.Jb?ud(e,t.g):vd(e,t.g),l=t.sa.matches(u);if(e.Da(n)){for(var f=e.J(n),c=i.ze(t.g,c,t.Jb);null!=c&&(c.name==n||e.Da(c.name));)c=i.ze(t.g,c,t.Jb);return i=null==c?1:a(c,u),l&&!r.e()&&i>=0?(null!=o&&hd(o,new D("child_changed",r,n,f)),e.O(n,r)):(null!=o&&hd(o,new D("child_removed",f,n)),e=e.O(n,C),null!=c&&t.sa.matches(c)?(null!=o&&hd(o,new D("child_added",c.S,c.name)),e.O(c.name,c.S)):e)}return r.e()?e:l&&0<=a(c,u)?(null!=o&&(hd(o,new D("child_removed",c.S,c.name)),hd(o,new D("child_added",r,n))),e.O(n,r).O(c.name,C)):e}function wd(t,e){this.ke=t,this.dg=e}function yd(t){this.U=t}function Hd(t,e,n,r,i,o){var a=e.Q;if(null!=r.tc(n))return e;var s;if(n.e())K(Ib(e.C()),"If change path is empty, we must have complete server data"),e.C().Ub?(i=ub(e),r=r.yc(i instanceof T?i:C)):r=r.za(ub(e)),o=t.U.xa(e.Q.j(),r,o);else{var u=E(n);if(".priority"==u)K(1==tc(n),"Can't have a priority with additional path components"),o=a.j(),s=e.C().j(),r=r.ld(n,o,s),o=null!=r?t.U.ga(o,r):a.j();else{var c=H(n);sb(a,u)?(s=e.C().j(),r=r.ld(n,a.j(),s),r=null!=r?a.j().J(u).K(c,r):a.j().J(u)):r=r.xc(u,e.C()),o=null!=r?t.U.K(a.j(),u,r,c,i,o):a.j()}}return Fd(e,o,a.ea||n.e(),t.U.Na())}function Ad(t,e,n,r,i,o,a,s){var u=e.C();if(a=a?t.U:t.U.Wb(),n.e())r=a.xa(u.j(),r,null);else if(a.Na()&&!u.Ub)r=u.j().K(n,r),r=a.xa(u.j(),r,null);else{var c=E(n);if(!Jb(u,n)&&1<tc(n))return e;var l=H(n);r=u.j().J(c).K(l,r),r=".priority"==c?a.ga(u.j(),r):a.K(u.j(),c,r,l,qb,null)}return u=u.ea||n.e(),e=new Id(e.Q,new tb(r,u,a.Na())),Hd(t,e,n,i,new rb(i,e,o),s)}function zd(t,e,n,r,i,o,a){var s=e.Q;if(i=new rb(i,e,o),n.e())a=t.U.xa(e.Q.j(),r,a),t=Fd(e,a,!0,t.U.Na());else if(o=E(n),".priority"===o)a=t.U.ga(e.Q.j(),r),t=Fd(e,a,s.ea,s.Ub);else{n=H(n);var u=s.j().J(o);if(!n.e()){var c=i.qf(o);r=null!=c?".priority"===uc(n)&&c.Y(n.parent()).e()?c:c.K(n,r):C}u.ca(r)?t=e:(a=t.U.K(s.j(),o,r,n,i,a),t=Fd(e,a,s.ea,t.U.Na()))}return t}function Cd(t,e,n,r,i,o,a){var s=e;return Kd(r,function(r,u){var c=n.u(r);sb(e.Q,E(c))&&(s=zd(t,s,c,u,i,o,a))}),Kd(r,function(r,u){var c=n.u(r);sb(e.Q,E(c))||(s=zd(t,s,c,u,i,o,a))}),s}function Ld(t,e){return Kd(e,function(e,n){t=t.K(e,n)}),t}function Dd(t,e,n,r,i,o,a,s){if(e.C().j().e()&&!Ib(e.C()))return e;var u=e;n=n.e()?r:Md(Nd,n,r);var c=e.C().j();return n.children.ia(function(n,r){if(c.Da(n)){var l=e.C().j().J(n),l=Ld(l,r);u=Ad(t,u,new L(n),l,i,o,a,s)}}),n.children.ia(function(n,r){var l=!sb(e.C(),n)&&null==r.value;c.Da(n)||l||(l=e.C().j().J(n),l=Ld(l,r),u=Ad(t,u,new L(n),l,i,o,a,s))}),u}function Gd(t,e,n,r,i,o,a){if(null!=i.tc(n))return e;var s=e.C();if(null!=r.value){if(n.e()&&s.ea||Jb(s,n))return Ad(t,e,n,s.j().Y(n),i,o,!1,a);if(n.e()){var u=Nd;return s.j().R(Od,function(t,e){u=u.set(new L(t),e)}),Dd(t,e,n,u,i,o,!1,a)}return e}return u=Nd,Kd(r,function(t){var e=n.u(t);Jb(s,e)&&(u=u.set(t,s.j().Y(e)))}),Dd(t,e,n,u,i,o,!1,a)}function Pd(){}function td(t){return q(t.compare,t)}function Sd(t){this.cc=t}function Ud(){}function Vd(){}function Wd(){}function Zd(){this.Tb=this.pa=this.Lb=this.ma=this.ja=!1,this.ka=0,this.Nb="",this.ec=null,this.yb="",this.bc=null,this.wb="",this.g=N}function rd(t){return""===t.Nb?t.ma:"l"===t.Nb}function nd(t){return K(t.ma,"Only valid if start has been set"),t.ec}function md(t){return K(t.ma,"Only valid if start has been set"),t.Lb?t.yb:"[MIN_NAME]"}function pd(t){return K(t.pa,"Only valid if end has been set"),t.bc}function od(t){return K(t.pa,"Only valid if end has been set"),t.Tb?t.wb:"[MAX_NAME]"}function ae(t){var e=new Zd;return e.ja=t.ja,e.ka=t.ka,e.ma=t.ma,e.ec=t.ec,e.Lb=t.Lb,e.yb=t.yb,e.pa=t.pa,e.bc=t.bc,e.Tb=t.Tb,e.wb=t.wb,e.g=t.g,e}function be(t,e){var n=ae(t);return n.g=e,n}function ce(t){var e={};if(t.ma&&(e.sp=t.ec,t.Lb&&(e.sn=t.yb)),t.pa&&(e.ep=t.bc,t.Tb&&(e.en=t.wb)),t.ja){e.l=t.ka;var n=t.Nb;""===n&&(n=rd(t)?"l":"r"),e.vf=n}return t.g!==N&&(e.i=t.g.toString()),e}function de(t){return!(t.ma||t.pa||t.ja)}function ee(t){var e={};if(de(t)&&t.g==N)return e;var n;return t.g===N?n="$priority":t.g===Yd?n="$value":t.g===Od?n="$key":(K(t.g instanceof Sd,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=B(n),t.ma&&(e.startAt=B(t.ec),t.Lb&&(e.startAt+=","+B(t.yb))),t.pa&&(e.endAt=B(t.bc),t.Tb&&(e.endAt+=","+B(t.wb))),t.ja&&(rd(t)?e.limitToFirst=t.ka:e.limitToLast=t.ka),e}function fe(t,e){this.Bd=t,this.dc=e}function ge(t,e,n){var r=na(t.Bd,function(r,i){var o=w(t.dc,i);if(K(o,"Missing index implementation for "+i),r===Qd){if(o.Ic(e.S)){for(var a=[],s=n.Xb(Sb),u=J(s);u;)u.name!=e.name&&a.push(u),u=J(s);return a.push(e),he(a,td(o))}return Qd}return o=n.get(e.name),a=r,o&&(a=a.remove(new F(e.name,o))),a.Oa(e,e.S)});return new fe(r,t.dc)}function ie(t,e,n){var r=na(t.Bd,function(t){if(t===Qd)return t;var r=n.get(e.name);return r?t.remove(new F(e.name,r)):t});return new fe(r,t.dc)}function sc(t,e){this.A=t,K(n(this.A)&&null!==this.A,"LeafNode shouldn't be created with null/undefined value."),this.aa=e||C,ke(this.aa),this.Cb=null}function T(t,e,n){this.m=t,(this.aa=e)&&ke(this.aa),t.e()&&K(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.xb=n,this.Cb=null}function ud(t,e){var n;return n=(n=oe(t,e))?(n=n.Sc())&&n.name:t.m.Sc(),n?new F(n,t.m.get(n)):null}function vd(t,e){var n;return n=(n=oe(t,e))?(n=n.fc())&&n.name:t.m.fc(),n?new F(n,t.m.get(n)):null}function oe(t,e){return e===Od?null:t.xb.get(e.toString())}function M(t,e){if(null===t)return C;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),K(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new sc(t,M(n));if(t instanceof Array){var i=C,o=t;return r(o,function(t,e){if(v(o,e)&&"."!==e.substring(0,1)){var n=M(t);(n.L()||!n.e())&&(i=i.O(e,n))}}),i.ga(M(n))}var a=[],s=!1,u=t;if(ib(u,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=M(u[t]);e.e()||(s=s||!e.B().e(),a.push(new F(t,e)))}}),0==a.length)return C;var c=he(a,Tb,function(t){return t.name},Vb);if(s){var l=he(a,td(N));return new T(c,M(n),new fe({".priority":l},{".priority":N}))}return new T(c,M(n),je)}function qe(t){this.count=parseInt(Math.log(t+1)/pe,10),this.jf=this.count-1,this.cg=t+1&parseInt(Array(this.count+1).join("1"),2)}function re(t){var e=!(t.cg&1<<t.jf);return t.jf--,e}function he(t,e,n,r){function i(e,r){var o=r-e;if(0==o)return null;if(1==o){var a=t[e],s=n?n(a):a;return new ec(s,a.S,!1,null,null)}var a=parseInt(o/2,10)+e,o=i(e,a),u=i(a+1,r),a=t[a],s=n?n(a):a;return new ec(s,a.S,!1,o,u)}t.sort(e);var o=function(e){function r(e,r){var u=s-e,c=s;s-=e;var c=i(u+1,c),u=t[u],l=n?n(u):u,c=new ec(l,u.S,r,null,c);o?o.left=c:a=c,o=c}for(var o=null,a=null,s=t.length,u=0;u<e.count;++u){var c=re(e),l=Math.pow(2,e.count-(u+1));c?r(l,!1):(r(l,!1),r(l,!0))}return a}(new qe(t.length));return null!==o?new $b(r||e,o):new $b(r||e)}function me(t){return"number"==typeof t?"number:"+Yc(t):"string:"+t}function ke(t){if(t.L()){var e=t.H();K("string"==typeof e||"number"==typeof e||"object"==typeof e&&v(e,".sv"),"Priority must be a string or number.")}else K(t===Td||t.e(),"priority of unexpected type.");K(t===Td||t.B().e(),"Priority nodes can't have a priority of their own.")}function se(){T.call(this,new $b(Vb),C,je)}function Id(t,e){this.Q=t,this.Yd=e}function Fd(t,e,n,r){return new Id(new tb(e,n,r),t.Yd)}function Jd(t){return t.Q.ea?t.Q.j():null}function ub(t){return t.Yd.ea?t.Yd.j():null}function te(t,e){this.V=t;var n=t.o,r=new kd(n.g),n=de(n)?new kd(n.g):n.ja?new qd(n):new ld(n);this.Hf=new yd(n);var i=e.C(),o=e.Q,a=r.xa(C,i.j(),null),s=n.xa(C,o.j(),null);this.Ka=new Id(new tb(s,o.ea,n.Na()),new tb(a,i.ea,r.Na())),this.Ya=[],this.jg=new cd(t)}function ue(t){return t.V}function we(t,e){var n=t.Ka.Q,r=[];return n.j().L()||n.j().R(N,function(t,e){r.push(new D("child_added",e,t))}),n.ea&&r.push(Eb(n.j())),ve(t,r,n.j(),e)}function ve(t,e,n,r){return dd(t.jg,e,n,r?[r]:t.Ya)}function xe(t,e,n){this.type=Bd,this.source=t,this.path=e,this.children=n}function ye(t,e){this.f=Nc("p:rest:"),this.F=t,this.Hb=e,this.Aa=null,this.$={}}function ze(t,e){if(n(e))return"tag$"+e;var r=t.o;return K(de(r)&&r.g==N,"should have a tag if it's not a default query."),t.path.toString()}function Ae(t,e,n,r){n=n||{},n.format="export",t.Aa&&(n.auth=t.Aa);var i=(t.F.lb?"https://":"http://")+t.F.host+e+"?"+kb(n);t.f("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){t.f("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var e=null;if(200<=o.status&&300>o.status){try{e=nb(o.responseText)}catch(n){Q("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,e)}else 401!==o.status&&404!==o.status&&Q("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function Be(t,e){this.value=t,this.children=e||Ce}function De(t){var e=Nd;return r(t,function(t,n){e=e.set(new L(n),t)}),e}function Ee(t,e,n){if(null!=t.value&&n(t.value))return{path:G,value:t.value};if(e.e())return null;var r=E(e);return t=t.children.get(r),null!==t?(e=Ee(t,H(e),n),null!=e?{path:new L(r).u(e.path),value:e.value}:null):null}function Fe(t,e){return Ee(t,e,function(){return!0})}function Md(t,e,n){if(e.e())return n;var r=E(e);return e=Md(t.children.get(r)||Nd,H(e),n),r=e.e()?t.children.remove(r):t.children.Oa(r,e),new Be(t.value,r)}function Ge(t,e){return He(t,G,e)}function He(t,e,n){var r={};return t.children.ia(function(t,i){r[t]=He(i,e.u(t),n)}),n(e,t.value,r)}function Ie(t,e,n){return Je(t,e,G,n)}function Je(t,e,n,r){var i=t.value?r(n,t.value):!1;return i?i:e.e()?null:(i=E(e),(t=t.children.get(i))?Je(t,H(e),n.u(i),r):null)}function Ke(t,e,n){var r=G;if(!e.e()){var i=!0;t.value&&(i=n(r,t.value)),!0===i&&(i=E(e),(t=t.children.get(i))&&Le(t,H(e),r.u(i),n))}}function Le(t,e,n,r){if(e.e())return t;t.value&&r(n,t.value);var i=E(e);return(t=t.children.get(i))?Le(t,H(e),n.u(i),r):Nd}function Kd(t,e){Me(t,G,e)}function Me(t,e,n){t.children.ia(function(t,r){Me(r,e.u(t),n)}),t.value&&n(e,t.value)}function Ne(t,e){t.children.ia(function(t,n){n.value&&e(t,n.value)})}function Oe(t,e,n){this.type=Ed,this.source=Pe,this.path=t,this.Qb=e,this.Vd=n}function Qe(t,e,n,r){this.xe=t,this.pf=e,this.Ib=n,this.bf=r,K(!r||e,"Tagged queries must be from server.")}function Se(t){this.W=t}function Ue(t,e,n){if(e.e())return new Se(new Be(n));var r=Fe(t.W,e);if(null!=r){var i=r.path,r=r.value;return e=O(i,e),r=r.K(e,n),new Se(t.W.set(i,r))}return t=Md(t.W,e,new Be(n)),new Se(t)}function Ve(t,e,n){var r=t;return ib(n,function(t,n){r=Ue(r,e.u(t),n)}),r}function We(t,e){var n=Fe(t.W,e);return null!=n?t.W.get(n.path).Y(O(n.path,e)):null}function Xe(t){var e=[],n=t.W.value;return null!=n?n.L()||n.R(N,function(t,n){e.push(new F(t,n))}):t.W.children.ia(function(t,n){null!=n.value&&e.push(new F(t,n.value))}),e}function Ye(t,e){if(e.e())return t;var n=We(t,e);return new Se(null!=n?new Be(n):t.W.subtree(e))}function Ze(t,e,n){if(null!=e.value)return n.K(t,e.value);var r=null;return e.children.ia(function(e,i){".priority"===e?(K(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ze(t.u(e),i,n)}),n.Y(t).e()||null===r||(n=n.K(t.u(".priority"),r)),n}function $e(){this.T=Te,this.na=[],this.Mc=-1}function af(t,e){for(var n=0;n<t.na.length;n++){var r=t.na[n];if(r.kd===e)return r}return null}function bf(t,e){return t.Ga?t.path.contains(e):!!ua(t.children,function(n,r){return t.path.u(r).contains(e)})}function df(t){return t.visible}function cf(t,e,n){for(var r=Te,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path;if(o.Ga)n.contains(a)?(a=O(n,a),r=Ue(r,a,o.Ga)):a.contains(n)&&(a=O(a,n),r=Ue(r,G,o.Ga.Y(a)));else{if(!o.children)throw Gc("WriteRecord should have .snap or .children");n.contains(a)?(a=O(n,a),r=Ve(r,a,o.children)):a.contains(n)&&(a=O(a,n),a.e()?r=Ve(r,G,o.children):(o=w(o.children,E(a)))&&(o=o.Y(H(a)),r=Ue(r,G,o)))}}}return r}function ef(t,e){this.Mb=t,this.W=e}function ff(){this.ya={}}function hf(t){return Pa(ra(t.ya),function(t){return!de(t.V.o)})}function jf(t,e){if(de(e.o))return gf(t);var n=e.va();return w(t.ya,n)}function gf(t){return va(t.ya,function(t){return de(t.V.o)})||null}function kf(t){this.ta=Nd,this.jb=new $e,this.af={},this.lc={},this.Nc=t}function lf(t,e,r,i,o){var a=t.jb,s=o;return K(i>a.Mc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.na.push({path:e,Ga:r,kd:i,visible:s}),s&&(a.T=Ue(a.T,e,r)),a.Mc=i,o?mf(t,new Wb(Pe,e,r)):[]}function nf(t,e,n,r){var i=t.jb;return K(r>i.Mc,"Stacking an older merge on top of newer ones"),i.na.push({path:e,children:n,kd:r,visible:!0}),i.T=Ve(i.T,e,n),i.Mc=r,n=De(n),mf(t,new xe(Pe,e,n))}function of(t,e,n){n=n||!1;var r=af(t.jb,e);if(t.jb.Rd(e)){var i=Nd;return null!=r.Ga?i=i.set(G,!0):ib(r.children,function(t,e){i=i.set(new L(t),e)}),mf(t,new Oe(r.path,i,n))}return[]}function pf(t,e,n){return n=De(n),mf(t,new xe(Re,e,n))}function qf(t,e,n,r){if(r=rf(t,r),null!=r){var i=sf(r);return r=i.path,i=i.Ib,e=O(r,e),n=new Wb(new Qe(!1,!0,i,!0),e,n),tf(t,r,n)}return[]}function uf(t,e,n,r){if(r=rf(t,r)){var i=sf(r);return r=i.path,i=i.Ib,e=O(r,e),n=De(n),n=new xe(new Qe(!1,!0,i,!0),e,n),tf(t,r,n)}return[]}function yf(t){return Ge(t,function(t,e,n){if(e&&null!=gf(e))return[gf(e)];var i=[];return e&&(i=hf(e)),r(n,function(t){i=i.concat(t)}),i})}function Bf(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!de(r.o)){var r=vf(r),i=t.lc[r];delete t.lc[r],delete t.af["_"+i]}}}function xf(t,e,n){var i=e.path,o=Af(t,e);if(n=zf(t,n),e=t.Nc.Ye(e,o,n.xd,n.G),i=t.ta.subtree(i),o)K(null==gf(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Ge(i,function(t,e,n){if(!t.e()&&e&&null!=gf(e))return[ue(gf(e))];var i=[];return e&&(i=i.concat(Qa(hf(e),function(t){return t.V}))),r(n,function(t){i=i.concat(t)}),i}),i=0;i<o.length;++i)n=o[i],t.Nc.be(n,Af(t,n));return e}function zf(t,e){var n=e.V,r=Af(t,n);return{xd:function(){return(e.C()||C).hash()},G:function(e){if("ok"===e){if(r){var i=n.path;if(e=rf(t,r)){var o=sf(e);e=o.path,o=o.Ib,i=O(e,i),i=new Yb(new Qe(!1,!0,o,!0),i),e=tf(t,e,i)}else e=[]}else e=mf(t,new Yb(Re,n.path));return e}return i="Unknown Error","too_big"===e?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?i="Client doesn't have permission to access the desired data.":"unavailable"==e&&(i="The service is unavailable"),i=Error(e+": "+i),i.code=e.toUpperCase(),t.kb(n,null,i)}}}function vf(t){return t.path.toString()+"$"+t.va()}function sf(t){var e=t.indexOf("$");return K(-1!==e&&e<t.length-1,"Bad queryKey."),{Ib:t.substr(e+1),path:new L(t.substr(0,e))}}function rf(t,e){var n=t.af,r="_"+e;return r in n?n[r]:void 0}function Af(t,e){var n=vf(e);return w(t.lc,n)}function tf(t,e,n){var r=t.ta.get(e);return K(r,"Missing sync point for query tag that we're tracking"),r.ab(n,new ef(e,t.jb),null)}function mf(t,e){return Cf(t,e,t.ta,null,new ef(G,t.jb))}function Cf(t,e,n,r,i){if(e.path.e())return Df(t,e,n,r,i);var o=n.get(G);null==r&&null!=o&&(r=o.gb(G));var a=[],s=E(e.path),u=e.Xc(s);if((n=n.children.get(s))&&u)var c=r?r.J(s):null,s=i.u(s),a=a.concat(Cf(t,u,n,c,s));return o&&(a=a.concat(o.ab(e,i,r))),a}function Df(t,e,n,r,i){var o=n.get(G);null==r&&null!=o&&(r=o.gb(G));var a=[];return n.children.ia(function(n,o){var s=r?r.J(n):null,u=i.u(n),c=e.Xc(n);c&&(a=a.concat(Df(t,c,o,s,u)))}),o&&(a=a.concat(o.ab(e,i,r))),a}function Ef(){this.children={},this.nd=0,this.value=null}function Ff(t,e,n){this.Gd=t?t:"",this.Zc=e?e:null,this.w=n?n:new Ef}function Gf(t,e){for(var n,r=e instanceof L?e:new L(e),i=t;null!==(n=E(r));)i=new Ff(n,i,w(i.w.children,n)||new Ef),r=H(r);return i}function Hf(t,e){K("undefined"!=typeof e,"Cannot set value to undefined"),t.w.value=e,If(t)}function Jf(t,e,n,r){n&&!r&&e(t),t.R(function(t){Jf(t,e,!0,r)}),n&&r&&e(t)}function Kf(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function If(t){if(null!==t.Zc){var e=t.Zc,n=t.Gd,r=t.e(),i=v(e.w.children,n);r&&i?(delete e.w.children[n],e.w.nd--,If(e)):r||i||(e.w.children[n]=t.w,e.w.nd++,If(e))}}function Lf(t){K(ea(t)&&0<t.length,"Requires a non-empty array"),this.Vf=t,this.Oc={}}function Mf(t,e){K(Ta(t.Vf,function(t){return t===e}),"Unknown event: "+e)}function Of(){if(Lf.call(this,["online"]),this.jc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.jc||(t.jc=!0,t.ge("online",!0))},!1),window.addEventListener("offline",function(){t.jc&&(t.jc=!1,t.ge("online",!1))},!1)}}function Pf(){Lf.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Ob=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.Ob&&(n.Ob=e,n.ge("visible",e))},!1)}}function Tf(t){return p(t)&&0!==t.length&&!Qf.test(t)}function Uf(t){return null===t||p(t)||ga(t)&&!Rc(t)||ia(t)&&v(t,".sv")}function Vf(t,e,r,i){i&&!n(e)||Wf(z(t,1,i),e,r)}function Wf(t,e,r){if(r instanceof L&&(r=new vc(r,t)),!n(e))throw Error(t+"contains undefined "+yc(r));if(ha(e))throw Error(t+"contains a function "+yc(r)+" with contents: "+e.toString());if(Rc(e))throw Error(t+"contains "+e.toString()+" "+yc(r));if(p(e)&&e.length>10485760/3&&10485760<wc(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+yc(r)+" ('"+e.substring(0,50)+"...')");if(ia(e)){var i=!1,o=!1;if(ib(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Tf(e)))throw Error(t+" contains an invalid key ("+e+") "+yc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),Wf(t,n,r),r.pop()}),i&&o)throw Error(t+' contains ".value" child '+yc(r)+" in addition to actual children.")}}function Xf(t,e,n){if(!ia(e)||ea(e))throw Error(z(t,1,!1)+" must be an Object containing the children to replace.");if(v(e,".value"))throw Error(z(t,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Vf(t,e,n,!1)}function Yf(t,e,n){if(Rc(n))throw Error(z(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Uf(n))throw Error(z(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Zf(t,e,r){if(!r||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(z(t,1,r)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function $f(t,e,r,i){if((!i||n(r))&&!Tf(r))throw Error(z(t,e,i)+'was an invalid key: "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ag(t,e){if(!p(e)||0===e.length||Rf.test(e))throw Error(z(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function bg(t,e){if(".info"===E(e))throw Error(t+" failed: Can't modify data under /.info/")}function cg(t,e){if(!p(e))throw Error(z(t,1,!1)+"must be a valid credential (a string).")}function dg(t,e,n){if(!p(n))throw Error(z(t,e,!1)+"must be a valid string.")}function eg(t,e){if(dg(t,1,e),
!Sf.test(e))throw Error(z(t,1,!1)+"'"+e+"' is not a valid authentication provider.")}function fg(t,e,r,i){if((!i||n(r))&&(!ia(r)||null===r))throw Error(z(t,e,i)+"must be a valid object.")}function gg(t,e,n){if(!ia(e)||!v(e,n))throw Error(z(t,1,!1)+'must contain the key "'+n+'"');if(!p(w(e,n)))throw Error(z(t,1,!1)+'must contain the key "'+n+'" with type "string"')}function hg(){this.set={}}function ig(t,e){r(t.set,function(t,n){e(n,t)})}function pc(){this.m=this.A=null}function jg(t,e){if(e.e())return t.A=null,t.m=null,!0;if(null!==t.A){if(t.A.L())return!1;var n=t.A;return t.A=null,n.R(N,function(e,n){t.nc(new L(e),n)}),jg(t,e)}return null!==t.m?(n=E(e),e=H(e),t.m.contains(n)&&jg(t.m.get(n),e)&&t.m.remove(n),t.m.e()?(t.m=null,!0):!1):!0}function qc(t,e,n){null!==t.A?n(e,t.A):t.R(function(t,r){var i=new L(e.toString()+"/"+t);qc(r,i,n)})}function lg(t,e,n){this.od=t||{},this.fe=e||{},this.$a=n||{},this.od.remember||(this.od.remember="default")}function ng(t){var e={},n={};return ib(t||{},function(t,r){0<=Na(mg,t)?e[t]=r:n[t]=r}),new lg(e,{},n)}function og(t,e){this.Re=["session",t.Od,t.Db].join(":"),this.ce=e}function pg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pg())}function rg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function sg(t){var e=pg();if(""===e)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((e=e.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<e.length)return parseFloat(e[1])>=t}else if(-1<e.indexOf("Trident")&&(e=e.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<e.length)return parseFloat(e[1])>=t;return!1}function tg(){var t,e=window.opener.frames;for(t=e.length-1;t>=0;t--)try{if(e[t].location.protocol===window.location.protocol&&e[t].location.host===window.location.host&&"__winchan_relay_frame"===e[t].name)return e[t]}catch(n){}return null}function ug(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function vg(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function wg(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}function xg(t){var e="";try{t=t.replace("#","");var n=lb(t);n&&v(n,"__firebase_request_key")&&(e=w(n,"__firebase_request_key"))}catch(r){}return e}function yg(){var t=Qc(kg);return t.scheme+"://"+t.host+"/v2"}function zg(t){return yg()+"/"+t+"/auth/channel"}function Ag(t){var e=this;if(this.Ac=t,this.de="*",sg(8)?this.Rc=this.zd=tg():(this.Rc=window.opener,this.zd=window),!e.Rc)throw"Unable to find relay frame";ug(this.zd,"message",q(this.ic,this)),ug(this.zd,"message",q(this.Bf,this));try{Bg(this,{a:"ready"})}catch(n){ug(this.Rc,"load",function(){Bg(e,{a:"ready"})})}ug(window,"unload",q(this.zg,this))}function Bg(t,e){e=B(e),sg(8)?t.Rc.doPost(e,t.de):t.Rc.postMessage(e,t.de)}function Cg(t){this.pc=Ga()+Ga()+Ga(),this.Ef=t}function Eg(t){var e=Error(w(Dg,t),t);return e.code=t,e}function Fg(t){var e;(e=!t.window_features)||(e=pg(),e=-1!==e.indexOf("Fennec/")||-1!==e.indexOf("Firefox/")&&-1!==e.indexOf("Android")),e&&(t.window_features=void 0),t.window_name||(t.window_name="_blank"),this.options=t}function Gg(t){t.method||(t.method="GET"),t.headers||(t.headers={}),t.headers.content_type||(t.headers.content_type="application/json"),t.headers.content_type=t.headers.content_type.toLowerCase(),this.options=t}function Hg(t){this.pc=Ga()+Ga()+Ga(),this.Ef=t}function Ig(t){t.callback_parameter||(t.callback_parameter="callback"),this.options=t,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Jg(t,e,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=t,r.async=!0,r.src=e,r.onerror=function(){var e=document.getElementById(t);null!==e&&e.parentNode.removeChild(e),n&&n(Eg("NETWORK_ERROR"))};var i=document.getElementsByTagName("head");(i&&0!=i.length?i[0]:document.documentElement).appendChild(r)}catch(o){n&&n(Eg("NETWORK_ERROR"))}},0)}function Kg(t,e,n,r){Lf.call(this,["auth_status"]),this.F=t,this.ef=e,this.Tg=n,this.Me=r,this.sc=new og(t,[Cc,P]),this.nb=null,this.Te=!1,Lg(this)}function Lg(t){P.get("redirect_request_id")&&Mg(t);var e=t.sc.get();e&&e.token?(Ng(t,e),t.ef(e.token,function(n,r){Og(t,n,r,!1,e.token,e)},function(e,n){Pg(t,"resumeSession()",e,n)})):Ng(t,null)}function Qg(t,e,n,r,i,o){"firebaseio-demo.com"===t.F.domain&&Q("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),t.ef(e,function(o,a){Og(t,o,a,!0,e,n,r||{},i)},function(e,n){Pg(t,"auth()",e,n,o)})}function Rg(t,e){t.sc.clear(),Ng(t,null),t.Tg(function(t,n){if("ok"===t)R(e,null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,R(e,i)}})}function Og(t,e,n,r,i,o,a,s){"ok"===e?(r&&(e=n.auth,o.auth=e,o.expires=n.expires,o.token=bd(i)?i:"",n=null,e&&v(e,"uid")?n=w(e,"uid"):v(o,"uid")&&(n=w(o,"uid")),o.uid=n,n="custom",e&&v(e,"provider")?n=w(e,"provider"):v(o,"provider")&&(n=w(o,"provider")),o.provider=n,t.sc.clear(),bd(i)&&(a=a||{},n=Cc,"sessionOnly"===a.remember&&(n=P),"none"!==a.remember&&t.sc.set(o,n)),Ng(t,o)),R(s,null,o)):(t.sc.clear(),Ng(t,null),o=t=(e||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=t,R(s,o))}function Pg(t,e,n,r,i){Q(e+" was canceled: "+r),t.sc.clear(),Ng(t,null),t=Error(r),t.code=n.toUpperCase(),R(i,t)}function Sg(t,e,n,r,i){Tg(t),n=new lg(r||{},{},n||{}),Ug(t,[Gg,Ig],"/auth/"+e,n,i)}function Vg(t,e,n,r){Tg(t);var i=[Fg,Hg];n=ng(n),"anonymous"===e||"password"===e?setTimeout(function(){R(r,Eg("TRANSPORT_UNAVAILABLE"))},0):(n.fe.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),n.fe.relay_url=zg(t.F.Db),n.fe.requestWithCredential=q(t.qc,t),Ug(t,i,"/auth/"+e,n,r))}function Mg(t){var e=P.get("redirect_request_id");if(e){var n=P.get("redirect_client_options");P.remove("redirect_request_id"),P.remove("redirect_client_options");var r=[Gg,Ig],e={requestId:e,requestKey:xg(document.location.hash)},n=new lg(n,{},e);t.Te=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(i){}Ug(t,r,"/auth/session",n,function(){this.Te=!1}.bind(t))}}function Ug(t,e,n,r,i){Wg(t,e,n,r,function(e,n){!e&&n&&n.token&&n.uid?Qg(t,n.token,n,r.od,function(t,e){t?R(i,t):R(i,null,e)}):R(i,e||Eg("UNKNOWN_ERROR"))})}function Wg(t,e,n,r,i){e=Pa(e,function(t){return"function"==typeof t.isAvailable&&t.isAvailable()}),0===e.length?setTimeout(function(){R(i,Eg("TRANSPORT_UNAVAILABLE"))},0):(e=new(e.shift())(r.fe),r=jb(r.$a),r.v="js-"+hb,r.transport=e.Cc(),r.suppress_status_codes=!0,t=yg()+"/"+t.F.Db+n,e.open(t,r,function(t,e){if(t)R(i,t);else if(e&&e.error){var n=Error(e.error.message);n.code=e.error.code,n.details=e.error.details,R(i,n)}else R(i,null,e)}))}function Ng(t,e){var n=null!==t.nb||null!==e;t.nb=e,n&&t.ge("auth_status",e),t.Me(null!==e)}function Tg(t){var e=t.F;if("firebaseio.com"!==e.domain&&"firebaseio-demo.com"!==e.domain&&"auth.firebase.com"===kg)throw Error("This custom Firebase server ('"+t.F.domain+"') does not support delegated login.")}function Xg(t){this.ic=t,this.Nd=[],this.Sb=0,this.re=-1,this.Gb=null}function Yg(t,e,n){t.re=e,t.Gb=n,t.re<t.Sb&&(t.Gb(),t.Gb=null)}function Zg(t,e,n){for(t.Nd[e]=n;t.Nd[t.Sb];){var r=t.Nd[t.Sb];delete t.Nd[t.Sb];for(var i=0;i<r.length;++i)if(r[i]){var o=t;Db(function(){o.ic(r[i])})}if(t.Sb===t.re){t.Gb&&(clearTimeout(t.Gb),t.Gb(),t.Gb=null);break}t.Sb++}}function $g(t,e,n){this.se=t,this.f=Nc(t),this.ob=this.pb=0,this.Va=Qb(e),this.Zd=n,this.Hc=!1,this.jd=function(t){e.host!==e.Pa&&(t.ns=e.Db);var n,r=[];for(n in t)t.hasOwnProperty(n)&&r.push(n+"="+t[n]);return(e.lb?"https://":"http://")+e.Pa+"/.lp?"+r.join("&")}}function dh(t,e){var n=B(e).length;t.ob+=n,Nb(t.Va,"bytes_received",n)}function ch(t,e,n,r){if(this.jd=r,this.ib=n,this.Qe=new hg,this.ad=[],this.ue=Math.floor(1e8*Math.random()),this.Xd=!0,this.ie=Fc(),window["pLPCommand"+this.ie]=t,window["pRTLPCB"+this.ie]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Cb("No IE domain setting required")}catch(i){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.fb=t.contentDocument:t.contentWindow?t.fb=t.contentWindow.document:t.document&&(t.fb=t.document),this.Ea=t,t="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.Ea.fb.open(),this.Ea.fb.write(t),this.Ea.fb.close()}catch(o){Cb("frame writing exception"),o.stack&&Cb(o.stack),Cb(o)}}function fh(t){if(t.me&&t.Xd&&t.Qe.count()<(0<t.ad.length?2:1)){t.ue++;var e={};e.id=t.sg,e.pw=t.tg,e.ser=t.ue;for(var e=t.jd(e),n="",r=0;0<t.ad.length&&1870>=t.ad[0].kf.length+30+n.length;){var i=t.ad.shift(),n=n+"&seg"+r+"="+i.Kg+"&ts"+r+"="+i.Sg+"&d"+r+"="+i.kf;r++}return gh(t,e+n,t.ue),!0}return!1}function gh(t,e,n){function r(){t.Qe.remove(n),fh(t)}t.Qe.add(n,1);var i=setTimeout(r,Math.floor(25e3));eh(t,e,function(){clearTimeout(i),r()})}function eh(t,e,n){setTimeout(function(){try{if(t.Xd){var r=t.Ea.fb.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){Cb("Long-poll script failed to load: "+e),t.Xd=!1,t.close()},t.Ea.fb.body.appendChild(r)}}catch(i){}},Math.floor(1))}function ih(t,e,n){this.se=t,this.f=Nc(this.se),this.frames=this.Kc=null,this.ob=this.pb=this.cf=0,this.Va=Qb(e),this.eb=(e.lb?"wss://":"ws://")+e.Pa+"/.ws?v=5","undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.eb+="&r=f"),e.host!==e.Pa&&(this.eb=this.eb+"&ns="+e.Db),n&&(this.eb=this.eb+"&s="+n)}function lh(t,e){if(t.frames.push(e),t.frames.length==t.cf){var n=t.frames.join("");t.frames=null,n=nb(n),t.xg(n)}}function kh(t){clearInterval(t.Kc),t.Kc=setInterval(function(){t.ua&&t.ua.send("0"),kh(t)},Math.floor(45e3))}function mh(t){nh(this,t)}function nh(t,e){var n=ih&&ih.isAvailable(),r=n&&!(Cc.wf||!0===Cc.get("previous_websocket_failure"));if(e.Ug&&(n||Q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)t.gd=[ih];else{var i=t.gd=[];Xc(oh,function(t,e){e&&e.isAvailable()&&i.push(e)})}}function ph(t){if(0<t.gd.length)return t.gd[0];throw Error("No transports available")}function qh(t,e,n,r,i,o){this.id=t,this.f=Nc("c:"+this.id+":"),this.ic=n,this.Wc=r,this.la=i,this.Oe=o,this.F=e,this.Md=[],this.ff=0,this.Of=new mh(e),this.Ua=0,this.f("Connection created"),rh(this)}function rh(t){var e=ph(t.Of);t.I=new e("c:"+t.id+":"+t.ff++,t.F),t.Se=e.responsesRequiredToBeHealthy||0;var n=sh(t,t.I),r=th(t,t.I);t.hd=t.I,t.cd=t.I,t.D=null,t.Bb=!1,setTimeout(function(){t.I&&t.I.open(n,r)},Math.floor(0)),e=e.healthyTimeout||0,e>0&&(t.yd=setTimeout(function(){t.yd=null,t.Bb||(t.I&&102400<t.I.ob?(t.f("Connection exceeded healthy timeout but has received "+t.I.ob+" bytes.  Marking connection healthy."),t.Bb=!0,t.I.Ed()):t.I&&10240<t.I.pb?t.f("Connection exceeded healthy timeout but has sent "+t.I.pb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function th(t,e){return function(n){e===t.I?(t.I=null,n||0!==t.Ua?1===t.Ua&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.F.Pa.substr(0,2)&&(Cc.remove("host:"+t.F.host),t.F.Pa=t.F.host)),t.close()):e===t.D?(t.f("Secondary connection lost."),n=t.D,t.D=null,t.hd!==n&&t.cd!==n||t.close()):t.f("closing an old connection")}}function sh(t,e){return function(n){if(2!=t.Ua)if(e===t.cd){var r=Uc("t",n);if(n=Uc("d",n),"c"==r){if(r=Uc("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;t.Zd=n.s,Ec(t.F,o),0==t.Ua&&(t.I.start(),uh(t,t.I,r),"5"!==i&&Q("Protocol version mismatch detected"),n=t.Of,(n=1<n.gd.length?n.gd[1]:null)&&vh(t,n))}else if("n"===r){for(t.f("recvd end transmission on primary"),t.cd=t.D,n=0;n<t.Md.length;++n)t.Id(t.Md[n]);t.Md=[],wh(t)}else"s"===r?(t.f("Connection shutdown command received. Shutting down..."),t.Oe&&(t.Oe(n),t.Oe=null),t.la=null,t.close()):"r"===r?(t.f("Reset packet received.  New host: "+n),Ec(t.F,n),1===t.Ua?t.close():(xh(t),rh(t))):"e"===r?Oc("Server Error: "+n):"o"===r?(t.f("got pong on primary."),yh(t),zh(t)):Oc("Unknown control packet command: "+r)}else"d"==r&&t.Id(n)}else if(e===t.D)if(r=Uc("t",n),n=Uc("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Ah(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.D.close(),t.hd!==t.D&&t.cd!==t.D||t.close()):"o"===n&&(t.f("got pong on secondary."),t.Mf--,Ah(t)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);t.Md.push(n)}else t.f("message on old connection")}}function wh(t){t.hd===t.D&&t.cd===t.D&&(t.f("cleaning up and promoting a connection: "+t.D.se),t.I=t.D,t.D=null)}function Ah(t){0>=t.Mf?(t.f("Secondary connection is healthy."),t.Bb=!0,t.D.Ed(),t.D.start(),t.f("sending client ack on secondary"),t.D.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.I.send({t:"c",d:{t:"n",d:{}}}),t.hd=t.D,wh(t)):(t.f("sending ping on secondary."),t.D.send({t:"c",d:{t:"p",d:{}}}))}function yh(t){t.Bb||(t.Se--,0>=t.Se&&(t.f("Primary connection is healthy."),t.Bb=!0,t.I.Ed()))}function vh(t,e){t.D=new e("c:"+t.id+":"+t.ff++,t.F,t.Zd),t.Mf=e.responsesRequiredToBeHealthy||0,t.D.open(sh(t,t.D),th(t,t.D)),setTimeout(function(){t.D&&(t.f("Timed out trying to upgrade."),t.D.close())},Math.floor(6e4))}function uh(t,e,n){t.f("Realtime connection established."),t.I=e,t.Ua=1,t.Wc&&(t.Wc(n),t.Wc=null),0===t.Se?(t.f("Primary connection is healthy."),t.Bb=!0):setTimeout(function(){zh(t)},Math.floor(5e3))}function zh(t){t.Bb||1!==t.Ua||(t.f("sending ping on primary."),Bh(t,{t:"c",d:{t:"p",d:{}}}))}function Bh(t,e){if(1!==t.Ua)throw"Connection is not connected";t.hd.send(e)}function xh(t){t.f("Shutting down all connections"),t.I&&(t.I.close(),t.I=null),t.D&&(t.D.close(),t.D=null),t.yd&&(clearTimeout(t.yd),t.yd=null)}function Ch(t,e,n,r){this.id=Dh++,this.f=Nc("p:"+this.id+":"),this.xf=this.Fe=!1,this.$={},this.qa=[],this.Yc=0,this.Vc=[],this.oa=!1,this.Za=1e3,this.Fd=3e5,this.Hb=e,this.Uc=n,this.Pe=r,this.F=t,this.tb=this.Aa=this.Ia=this.Xe=null,this.Ob=!1,this.Td={},this.Jg=0,this.nf=!0,this.Lc=this.He=null,Eh(this,0),Pf.vb().Fb("visible",this.Ag,this),-1===t.host.indexOf("fblocal")&&Of.vb().Fb("online",this.yg,this)}function Gh(t,e){var n=e.Gg,r=n.path.toString(),i=n.va();t.f("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=ce(n.o),o.t=e.tag),o.h=e.xd(),t.Fa("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&v(a,"w")){var u=w(a,"w");ea(u)&&0<=Na(u,"no_index")&&Q("Using an unspecified index. Consider adding "+('".indexOn": "'+n.o.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(t.$[r]&&t.$[r][i])===e&&(t.f("listen response",o),"ok"!==s&&Hh(t,r,i),e.G&&e.G(s,a))})}function Ih(t){var e=t.Aa;t.oa&&e&&t.Fa("auth",{cred:e.gg},function(n){var r=n.s;n=n.d||"error","ok"!==r&&t.Aa===e&&delete t.Aa,e.of?"ok"!==r&&e.md&&e.md(r,n):(e.of=!0,e.zc&&e.zc(r,n))})}function Jh(t,e,n,r,i){n={p:n,d:r},t.f("onDisconnect "+e,n),t.Fa(e,n,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})}function Kh(t,e,r,i,o,a){i={p:r,d:i},n(a)&&(i.h=a),t.qa.push({action:e,Jf:i,G:o}),t.Yc++,e=t.qa.length-1,t.oa?Lh(t,e):t.f("Buffering put: "+r)}function Lh(t,e){var n=t.qa[e].action,r=t.qa[e].Jf,i=t.qa[e].G;t.qa[e].Hg=t.oa,t.Fa(n,r,function(r){t.f(n+" response",r),delete t.qa[e],t.Yc--,0===t.Yc&&(t.qa=[]),i&&i(r.s,r.d)})}function Eh(t,e){K(!t.Ia,"Scheduling a connect when we're already connected/ing?"),t.tb&&clearTimeout(t.tb),t.tb=setTimeout(function(){t.tb=null,Oh(t)},Math.floor(e))}function Oh(t){if(Ph(t)){t.f("Making a connection attempt"),t.He=(new Date).getTime(),t.Lc=null;var e=q(t.Id,t),n=q(t.Wc,t),r=q(t.Df,t),i=t.id+":"+Fh++;t.Ia=new qh(i,t.F,e,n,r,function(e){Q(e+" ("+t.F.toString()+")"),t.xf=!0})}}function Mh(t,e,n){n=n?Qa(n,function(t){return Vc(t)}).join("$"):"default",(t=Hh(t,e,n))&&t.G&&t.G("permission_denied")}function Hh(t,e,r){e=new L(e).toString();var i;return n(t.$[e])?(i=t.$[e][r],delete t.$[e][r],0===pa(t.$[e])&&delete t.$[e]):i=void 0,i}function Nh(t){Ih(t),r(t.$,function(e){r(e,function(e){Gh(t,e)})});for(var e=0;e<t.qa.length;e++)t.qa[e]&&Lh(t,e);for(;t.Vc.length;)e=t.Vc.shift(),Jh(t,e.action,e.$c,e.data,e.G)}function Ph(t){var e;return e=Of.vb().jc,!t.xf&&!t.Fe&&e}function S(t,e,n){this.w=t,this.V=e,this.g=n}function Qh(t,e){this.F=t,this.Va=Qb(t),this.fd=null,this.da=new vb,this.Hd=1,this.Sa=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ba=new ye(this.F,q(this.Hb,this)),setTimeout(q(this.Uc,this,!0),0)):this.ba=this.Sa=new Ch(this.F,q(this.Hb,this),q(this.Uc,this),q(this.Pe,this)),this.Qg=Rb(t,q(function(){return new Lb(this.Va,this.ba)},this)),this.uc=new Ff,this.De=new ob;var n=this;this.Cd=new kf({Ye:function(t,e,r,i){return e=[],r=n.De.j(t.path),r.e()||(e=mf(n.Cd,new Wb(Re,t.path,r)),setTimeout(function(){i("ok")},0)),e},be:ba}),Rh(this,"connected",!1),this.la=new pc,this.N=new Kg(t,q(this.ba.N,this.ba),q(this.ba.he,this.ba),q(this.Me,this)),this.sd=0,this.Ee=null,this.M=new kf({Ye:function(t,e,r,i){return n.ba.yf(t,r,e,function(e,r){var o=i(e,r);Ab(n.da,t.path,o)}),[]},be:function(t,e){n.ba.Pf(t,e)}})}function Sh(t){return t=t.De.j(new L(".info/serverTimeOffset")).H()||0,(new Date).getTime()+t}function Th(t){return t=t={timestamp:Sh(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function Rh(t,e,n){e=new L("/.info/"+e),n=M(n);var r=t.De;r.Wd=r.Wd.K(e,n),n=mf(t.Cd,new Wb(Re,e,n)),Ab(t.da,e,n)}function Vh(t){t.f("onDisconnectEvents");var e=Th(t),n=[];qc(oc(t.la,e),G,function(e,r){n=n.concat(mf(t.M,new Wb(Re,e,r)));var i=Xh(t,e);Uh(t,i)}),t.la=new pc,Ab(t.da,G,n)}function Yh(t,e,n,r){var i=M(n);t.ba.Ne(e.toString(),i.H(!0),function(n,o){"ok"===n&&t.la.nc(e,i),Wh(r,n,o)})}function Zh(t,e,n,r,i){var o=M(n,r);t.ba.Ne(e.toString(),o.H(!0),function(n,r){"ok"===n&&t.la.nc(e,o),Wh(i,n,r)})}function $h(t,e,n,r){var i,o=!0;for(i in n)o=!1;o?(Cb("onDisconnect().update() called with empty data.  Don't do anything."),Wh(r,"ok")):t.ba.Cf(e.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=M(n[a]);t.la.nc(e.u(a),s)}Wh(r,i,o)})}function ai(t,e,n){n=".info"===E(e.path)?t.Cd.Pb(e,n):t.M.Pb(e,n),yb(t.da,e.path,n)}function Wh(t,e,n){t&&Db(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,t(i)}})}function bi(t,e,r,i,o){function a(){}t.f("transaction on "+e);var s=new U(t,e);if(s.Fb("value",a),r={path:e,update:r,G:i,status:null,Ff:Fc(),df:o,Lf:0,je:function(){s.hc("value",a)},le:null,Ba:null,pd:null,qd:null,rd:null},i=t.M.za(e,void 0)||C,r.pd=i,i=r.update(i.H()),n(i)){Wf("transaction failed: Data returned ",i,r.path),r.status=1,o=Gf(t.uc,e);var u=o.Ca()||[];u.push(r),Hf(o,u),"object"==typeof i&&null!==i&&v(i,".priority")?(u=w(i,".priority"),K(Uf(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(t.M.za(e)||C).B().H(),o=Th(t),i=M(i,u),o=rc(i,o),r.qd=i,r.rd=o,r.Ba=t.Hd++,r=lf(t.M,e,o,r.Ba,r.df),Ab(t.da,e,r),ci(t)}else r.je(),r.qd=null,r.rd=null,r.G&&(t=new S(r.pd,new U(t,r.path),N),r.G(null,!1,t))}function ci(t,e){var n=e||t.uc;if(e||di(t,n),null!==n.Ca()){var r=ei(t,n);K(0<r.length,"Sending zero length transaction queue"),Sa(r,function(t){return 1===t.status})&&fi(t,n.path(),r)}else n.wd()&&n.R(function(e){ci(t,e)})}function fi(t,e,n){for(var r=Qa(n,function(t){return t.Ba}),i=t.M.za(e,r)||C,r=i,i=i.hash(),o=0;o<n.length;o++){var a=n[o];K(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Lf++;var s=O(e,a.path),r=r.K(s,a.qd)}r=r.H(!0),t.ba.put(e.toString(),r,function(r){t.f("transaction put response",{path:e.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(of(t.M,n[o].Ba)),n[o].G){var a=n[o].rd,s=new U(t,n[o].path);r.push(q(n[o].G,null,null,!0,new S(a,s,N)))}n[o].je()}for(di(t,Gf(t.uc,e)),ci(t),Ab(t.da,e,i),o=0;o<r.length;o++)Db(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(Q("transaction at "+e.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].le=r;Uh(t,e)}},i)}function Uh(t,e){var n=gi(t,e),r=n.path(),n=ei(t,n);return hi(t,n,r),r}function hi(t,e,r){if(0!==e.length){for(var i=[],o=[],a=Qa(e,function(t){return t.Ba}),s=0;s<e.length;s++){var u,c=e[s],l=O(r,c.path),f=!1;if(K(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)f=!0,u=c.le,o=o.concat(of(t.M,c.Ba,!0));else if(1===c.status)if(25<=c.Lf)f=!0,u="maxretry",o=o.concat(of(t.M,c.Ba,!0));else{var h=t.M.za(c.path,a)||C;c.pd=h;var d=e[s].update(h.H());n(d)?(Wf("transaction failed: Data returned ",d,c.path),l=M(d),"object"==typeof d&&null!=d&&v(d,".priority")||(l=l.ga(h.B())),h=c.Ba,d=Th(t),d=rc(l,d),c.qd=l,c.rd=d,c.Ba=t.Hd++,Va(a,h),o=o.concat(lf(t.M,c.path,d,c.Ba,c.df)),o=o.concat(of(t.M,h,!0))):(f=!0,u="nodata",o=o.concat(of(t.M,c.Ba,!0)))}Ab(t.da,r,o),o=[],f&&(e[s].status=3,setTimeout(e[s].je,Math.floor(0)),e[s].G&&("nodata"===u?(c=new U(t,e[s].path),i.push(q(e[s].G,null,null,!1,new S(e[s].pd,c,N)))):i.push(q(e[s].G,null,Error(u),!1,null))))}for(di(t,t.uc),s=0;s<i.length;s++)Db(i[s]);ci(t)}}function gi(t,e){for(var n,r=t.uc;null!==(n=E(e))&&null===r.Ca();)r=Gf(r,n),e=H(e);return r}function ei(t,e){var n=[];return ii(t,e,n),n.sort(function(t,e){return t.Ff-e.Ff}),n}function ii(t,e,n){var r=e.Ca();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);e.R(function(e){ii(t,e,n)})}function di(t,e){var n=e.Ca();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Hf(e,0<n.length?n:null)}e.R(function(e){di(t,e)})}function Xh(t,e){var n=gi(t,e).path(),r=Gf(t.uc,e);return Kf(r,function(e){ji(t,e)}),ji(t,r),Jf(r,function(e){ji(t,e)}),n}function ji(t,e){var n=e.Ca();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(K(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].le="set"):(K(1===n[a].status,"Unexpected transaction status in abort"),n[a].je(),i=i.concat(of(t.M,n[a].Ba,!0)),n[a].G&&r.push(q(n[a].G,null,Error("set"),!1,null))));for(-1===o?Hf(e,null):n.length=o+1,Ab(t.da,e.path(),i),a=0;a<r.length;a++)Db(r[a])}}function W(){this.oc={},this.Qf=!1}function X(t,e){this.bd=t,this.ra=e}function Y(t,e,n,r){this.k=t,this.path=e,this.o=n,this.kc=r}function ki(t){var e=null,n=null;if(t.ma&&(e=nd(t)),t.pa&&(n=pd(t)),t.g===Od){if(t.ma){if("[MIN_NAME]"!=md(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.pa){if("[MAX_NAME]"!=od(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===N){if(null!=e&&!Uf(e)||null!=n&&!Uf(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(t.g instanceof Sd||t.g===Yd,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function li(t){if(t.ma&&t.pa&&t.ja&&(!t.ja||""===t.Nb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function mi(t,e){if(!0===t.kc)throw Error(e+": You can't combine multiple orderBy calls.")}function ni(t,e,n){var r={cancel:null,Ma:null};if(e&&n)r.cancel=e,A(t,3,r.cancel,!0),r.Ma=n,mb(t,4,r.Ma);else if(e)if("object"==typeof e&&null!==e)r.Ma=e;else{if("function"!=typeof e)throw Error(z(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r}function U(t,e){var n,r,i;if(t instanceof Qh)n=t,r=e;else{x("new Firebase",1,2,arguments.length),r=Qc(arguments[0]),n=r.Rg,"firebase"===r.domain&&Pc(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Pc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.lb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new Dc(r.host,r.lb,n,"ws"===r.scheme||"wss"===r.scheme),r=new L(r.$c),i=r.toString();var o;if(!(o=!p(n.host)||0===n.host.length||!Tf(n.Db))&&(o=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o=!(p(i)&&0!==i.length&&!Rf.test(i))),o)throw Error(z("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(e)if(e instanceof W)i=e;else{if(!p(e))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=W.vb(),n.Od=e}else i=W.vb();o=n.toString();var a=w(i.oc,o);a||(a=new Qh(n,i.Qf),i.oc[o]=a),n=a}Y.call(this,n,r,$d,!1)}function Mc(t,e){K(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?Bb=q(console.log,console):"object"==typeof console.log&&(Bb=function(t){})),e&&P.set("logging_enabled",!0)):t?Bb=t:(Bb=null,P.remove("logging_enabled"))}var g,aa=this,la=Date.now||function(){return+new Date},ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},Fa=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ha;t:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break t}}Ha=""}ma(La,Ka),La.prototype.reset=function(){this.P[0]=1732584193,this.P[1]=4023233417,this.P[2]=2562383102,this.P[3]=271733878,this.P[4]=3285377520,this.ee=this.ac=0},La.prototype.update=function(t,e){if(null!=t){n(e)||(e=t.length);for(var r=e-this.Wa,i=0,o=this.ne,a=this.ac;e>i;){if(0==a)for(;r>=i;)Ma(this,t,i),i+=this.Wa;if(p(t)){for(;e>i;)if(o[a]=t.charCodeAt(i),++a,++i,a==this.Wa){Ma(this,o),a=0;break}}else for(;e>i;)if(o[a]=t[i],++a,++i,a==this.Wa){Ma(this,o),a=0;break}}this.ac=a,this.ee+=e}};var u=Array.prototype,Na=u.indexOf?function(t,e,n){return u.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,p(t))return p(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Oa=u.forEach?function(t,e,n){u.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)o in i&&e.call(n,i[o],o,t)},Pa=u.filter?function(t,e,n){return u.filter.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=[],o=0,a=p(t)?t.split(""):t,s=0;r>s;s++)if(s in a){var u=a[s];e.call(n,u,s,t)&&(i[o++]=u)}return i},Qa=u.map?function(t,e,n){return u.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=Array(r),o=p(t)?t.split(""):t,a=0;r>a;a++)a in o&&(i[a]=e.call(n,o[a],a,t));return i},Ra=u.reduce?function(t,e,n,r){for(var i=[],o=1,a=arguments.length;a>o;o++)i.push(arguments[o]);return r&&(i[0]=q(e,r)),u.reduce.apply(t,i)}:function(t,e,n,r){var i=n;return Oa(t,function(n,o){i=e.call(r,i,n,o,t)}),i},Sa=u.every?function(t,e,n){return u.every.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)if(o in i&&!e.call(n,i[o],o,t))return!1;return!0},Za=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),$a=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),ab=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),bb=-1!=Ha.toLowerCase().indexOf("webkit");!function(){var t,e="";return Za&&aa.opera?(e=aa.opera.version,ha(e)?e():e):(ab?t=/rv\:([^\);]+)(\)|;)/:$a?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(Ha))?e[1]:""),$a&&(t=(t=aa.document)?t.documentMode:void 0,t>parseFloat(e))?String(t):e)}();var cb=null,db=null,eb=null,hb=hb||"2.2.9";ob.prototype.j=function(t){return this.Wd.Y(t)},ob.prototype.toString=function(){return this.Wd.toString()},pb.prototype.qf=function(){return null},pb.prototype.ze=function(){return null};var qb=new pb;rb.prototype.qf=function(t){var e=this.Ka.Q;return sb(e,t)?e.j().J(t):(e=null!=this.Kd?new tb(this.Kd,!0,!1):this.Ka.C(),this.Rf.xc(t,e))},rb.prototype.ze=function(t,e,n){var r=null!=this.Kd?this.Kd:ub(this.Ka);return t=this.Rf.oe(r,e,1,n,t),0===t.length?null:t[0]},xb.prototype.add=function(t){this.vd.push(t)},xb.prototype.Zb=function(){return this.ra};var Fb="value";Gb.prototype.Zb=function(){var t=this.$d.mc();return"value"===this.ud?t.path:t.parent().path},Gb.prototype.Ae=function(){return this.ud},Gb.prototype.Vb=function(){return this.ve.Vb(this)},Gb.prototype.toString=function(){return this.Zb().toString()+":"+this.ud+":"+B(this.$d.mf())},Hb.prototype.Zb=function(){return this.path},Hb.prototype.Ae=function(){return"cancel"},Hb.prototype.Vb=function(){return this.ve.Vb(this)},Hb.prototype.toString=function(){return this.path.toString()+":cancel"},tb.prototype.j=function(){return this.w},Kb.prototype.get=function(){var t=this.eg.get(),e=xa(t);if(this.Dd)for(var n in this.Dd)e[n]-=this.Dd[n];return this.Dd=t,e},Lb.prototype.If=function(){var t,e=this.fd.get(),n={},r=!1;for(t in e)0<e[t]&&v(this.Nf,t)&&(n[t]=e[t],r=!0);r&&this.ba.Ve(n),setTimeout(q(this.If,this),Math.floor(6e5*Math.random()))},Mb.prototype.get=function(){return xa(this.Ec)};var Ob={},Pb={};Wb.prototype.Xc=function(t){return this.path.e()?new Wb(this.source,G,this.Ga.J(t)):new Wb(this.source,H(this.path),this.Ga)},Wb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"},Yb.prototype.Xc=function(){return this.path.e()?new Yb(this.source,G):new Yb(this.source,H(this.path))},Yb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},g=$b.prototype,g.Oa=function(t,e){return new $b(this.La,this.wa.Oa(t,e,this.La).X(null,null,!1,null,null))},g.remove=function(t){return new $b(this.La,this.wa.remove(t,this.La).X(null,null,!1,null,null))},g.get=function(t){for(var e,n=this.wa;!n.e();){if(e=this.La(t,n.key),0===e)return n.value;0>e?n=n.left:e>0&&(n=n.right)}return null},g.e=function(){return this.wa.e()},g.count=function(){return this.wa.count()},g.Sc=function(){return this.wa.Sc()},g.fc=function(){return this.wa.fc()},g.ia=function(t){return this.wa.ia(t)},g.Xb=function(t){return new cc(this.wa,null,this.La,!1,t)},g.Yb=function(t,e){return new cc(this.wa,t,this.La,!1,e)},g.$b=function(t,e){return new cc(this.wa,t,this.La,!0,e)},g.sf=function(t){return new cc(this.wa,null,this.La,!0,t)},g=ec.prototype,g.X=function(t,e,n,r,i){return new ec(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},g.count=function(){return this.left.count()+1+this.right.count();
},g.e=function(){return!1},g.ia=function(t){return this.left.ia(t)||t(this.key,this.value)||this.right.ia(t)},g.Sc=function(){return fc(this).key},g.fc=function(){return this.right.e()?this.key:this.right.fc()},g.Oa=function(t,e,n){var r,i;return i=this,r=n(t,i.key),i=0>r?i.X(null,null,null,i.left.Oa(t,e,n),null):0===r?i.X(null,e,null,null,null):i.X(null,null,null,null,i.right.Oa(t,e,n)),gc(i)},g.remove=function(t,e){var n,r;if(n=this,0>e(t,n.key))n.left.e()||n.left.fa()||n.left.left.fa()||(n=ic(n)),n=n.X(null,null,null,n.left.remove(t,e),null);else{if(n.left.fa()&&(n=jc(n)),n.right.e()||n.right.fa()||n.right.left.fa()||(n=kc(n),n.left.left.fa()&&(n=jc(n),n=kc(n))),0===e(t,n.key)){if(n.right.e())return ac;r=fc(n.right),n=n.X(r.key,r.value,null,null,hc(n.right))}n=n.X(null,null,null,null,n.right.remove(t,e))}return gc(n)},g.fa=function(){return this.color},g=mc.prototype,g.X=function(){return this},g.Oa=function(t,e){return new ec(t,e,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ia=function(){return!1},g.Sc=function(){return null},g.fc=function(){return null},g.fa=function(){return!1};var ac=new mc;g=L.prototype,g.toString=function(){for(var t="",e=this.Z;e<this.n.length;e++)""!==this.n[e]&&(t+="/"+this.n[e]);return t||"/"},g.slice=function(t){return this.n.slice(this.Z+(t||0))},g.parent=function(){if(this.Z>=this.n.length)return null;for(var t=[],e=this.Z;e<this.n.length-1;e++)t.push(this.n[e]);return new L(t,0)},g.u=function(t){for(var e=[],n=this.Z;n<this.n.length;n++)e.push(this.n[n]);if(t instanceof L)for(n=t.Z;n<t.n.length;n++)e.push(t.n[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new L(e,0)},g.e=function(){return this.Z>=this.n.length},g.ca=function(t){if(tc(this)!==tc(t))return!1;for(var e=this.Z,n=t.Z;e<=this.n.length;e++,n++)if(this.n[e]!==t.n[n])return!1;return!0},g.contains=function(t){var e=this.Z,n=t.Z;if(tc(this)>tc(t))return!1;for(;e<this.n.length;){if(this.n[e]!==t.n[n])return!1;++e,++n}return!0};var G=new L("");vc.prototype.push=function(t){0<this.Ra.length&&(this.Ha+=1),this.Ra.push(t),this.Ha+=wc(t),xc(this)},vc.prototype.pop=function(){var t=this.Ra.pop();this.Ha-=wc(t),0<this.Ra.length&&--this.Ha},zc.prototype.set=function(t,e){null==e?delete this.wc[t]:this.wc[t]=e},zc.prototype.get=function(t){return v(this.wc,t)?this.wc[t]:null},zc.prototype.remove=function(t){delete this.wc[t]},zc.prototype.wf=!0,g=Ac.prototype,g.set=function(t,e){null==e?this.Fc.removeItem(this.Pd+t):this.Fc.setItem(this.Pd+t,B(e))},g.get=function(t){return t=this.Fc.getItem(this.Pd+t),null==t?null:nb(t)},g.remove=function(t){this.Fc.removeItem(this.Pd+t)},g.wf=!1,g.toString=function(){return this.Fc.toString()};var Cc=Bc("localStorage"),P=Bc("sessionStorage");Dc.prototype.toString=function(){var t=(this.lb?"https://":"http://")+this.host;return this.Od&&(t+="<"+this.Od+">"),t};var Fc=function(){var t=1;return function(){return t++}}(),Bb=null,Lc=!0,Zc=/^-?\d{1,10}$/;cd.prototype.fg=function(t,e){if(null==t.Xa||null==e.Xa)throw Gc("Should only compare child_ events.");return this.g.compare(new F(t.Xa,t.Ja),new F(e.Xa,e.Ja))},g=id.prototype,g.Kf=function(t){return"value"===t},g.createEvent=function(t,e){var n=e.o.g;return new Gb("value",this,new S(t.Ja,e.mc(),n))},g.Vb=function(t){var e=this.sb;if("cancel"===t.Ae()){K(this.qb,"Raising a cancel event on a listener with no cancel callback");var n=this.qb;return function(){n.call(e,t.error)}}var r=this.Rb;return function(){r.call(e,t.$d)}},g.gf=function(t,e){return this.qb?new Hb(this,t,e):null},g.matches=function(t){return t instanceof id?t.Rb&&this.Rb?t.Rb===this.Rb&&t.sb===this.sb:!0:!1},g.tf=function(){return null!==this.Rb},g=jd.prototype,g.Kf=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.ha},g.gf=function(t,e){return this.qb?new Hb(this,t,e):null},g.createEvent=function(t,e){K(null!=t.Xa,"Child events should have a childName.");var n=e.mc().u(t.Xa);return new Gb(t.type,this,new S(t.Ja,n,e.o.g),t.Qd)},g.Vb=function(t){var e=this.sb;if("cancel"===t.Ae()){K(this.qb,"Raising a cancel event on a listener with no cancel callback");var n=this.qb;return function(){n.call(e,t.error)}}var r=this.ha[t.ud];return function(){r.call(e,t.$d,t.Qd)}},g.matches=function(t){if(t instanceof jd){if(!this.ha||!t.ha)return!0;if(this.sb===t.sb){var e=pa(t.ha);if(e===pa(this.ha)){if(1===e){var e=qa(t.ha),n=qa(this.ha);return!(n!==e||t.ha[e]&&this.ha[n]&&t.ha[e]!==this.ha[n])}return oa(this.ha,function(e,n){return t.ha[n]===e})}}}return!1},g.tf=function(){return null!==this.ha},g=kd.prototype,g.K=function(t,e,n,r,i,o){return K(t.Jc(this.g),"A node must be indexed if only a child is updated"),i=t.J(e),i.Y(r).ca(n.Y(r))&&i.e()==n.e()?t:(null!=o&&(n.e()?t.Da(e)?hd(o,new D("child_removed",i,e)):K(t.L(),"A child remove without an old child only makes sense on a leaf node"):i.e()?hd(o,new D("child_added",n,e)):hd(o,new D("child_changed",n,e,i))),t.L()&&n.e()?t:t.O(e,n).mb(this.g))},g.xa=function(t,e,n){return null!=n&&(t.L()||t.R(N,function(t,r){e.Da(t)||hd(n,new D("child_removed",r,t))}),e.L()||e.R(N,function(e,r){if(t.Da(e)){var i=t.J(e);i.ca(r)||hd(n,new D("child_changed",r,e,i))}else hd(n,new D("child_added",r,e))})),e.mb(this.g)},g.ga=function(t,e){return t.e()?C:t.ga(e)},g.Na=function(){return!1},g.Wb=function(){return this},g=ld.prototype,g.matches=function(t){return 0>=this.g.compare(this.ed,t)&&0>=this.g.compare(t,this.Gc)},g.K=function(t,e,n,r,i,o){return this.matches(new F(e,n))||(n=C),this.Ce.K(t,e,n,r,i,o)},g.xa=function(t,e,n){e.L()&&(e=C);var r=e.mb(this.g),r=r.ga(C),i=this;return e.R(N,function(t,e){i.matches(new F(t,e))||(r=r.O(t,C))}),this.Ce.xa(t,r,n)},g.ga=function(t){return t},g.Na=function(){return!0},g.Wb=function(){return this.Ce},g=qd.prototype,g.K=function(t,e,n,r,i,o){return this.sa.matches(new F(e,n))||(n=C),t.J(e).ca(n)?t:t.Eb()<this.ka?this.sa.Wb().K(t,e,n,r,i,o):sd(this,t,e,n,i,o)},g.xa=function(t,e,n){var r;if(e.L()||e.e())r=C.mb(this.g);else if(2*this.ka<e.Eb()&&e.Jc(this.g)){r=C.mb(this.g),e=this.Jb?e.$b(this.sa.Gc,this.g):e.Yb(this.sa.ed,this.g);for(var i=0;0<e.Qa.length&&i<this.ka;){var o,a=J(e);if(!(o=this.Jb?0>=this.g.compare(this.sa.ed,a):0>=this.g.compare(a,this.sa.Gc)))break;r=r.O(a.name,a.S),i++}}else{r=e.mb(this.g),r=r.ga(C);var s,u,c;if(this.Jb){e=r.sf(this.g),s=this.sa.Gc,u=this.sa.ed;var l=td(this.g);c=function(t,e){return l(e,t)}}else e=r.Xb(this.g),s=this.sa.ed,u=this.sa.Gc,c=td(this.g);for(var i=0,f=!1;0<e.Qa.length;)a=J(e),!f&&0>=c(s,a)&&(f=!0),(o=f&&i<this.ka&&0>=c(a,u))?i++:r=r.O(a.name,C)}return this.sa.Wb().xa(t,r,n)},g.ga=function(t){return t},g.Na=function(){return!0},g.Wb=function(){return this.sa.Wb()},yd.prototype.ab=function(t,e,n,r){var i,o=new gd;if(e.type===Xb)e.source.xe?n=zd(this,t,e.path,e.Ga,n,r,o):(K(e.source.pf,"Unknown source."),i=e.source.bf,n=Ad(this,t,e.path,e.Ga,n,r,i,o));else if(e.type===Bd)e.source.xe?n=Cd(this,t,e.path,e.children,n,r,o):(K(e.source.pf,"Unknown source."),i=e.source.bf,n=Dd(this,t,e.path,e.children,n,r,i,o));else if(e.type===Ed)if(e.Vd)if(e=e.path,null!=n.tc(e))n=t;else{if(i=new rb(n,t,r),r=t.Q.j(),e.e()||".priority"===E(e))Ib(t.C())?e=n.za(ub(t)):(e=t.C().j(),K(e instanceof T,"serverChildren would be complete if leaf node"),e=n.yc(e)),e=this.U.xa(r,e,o);else{var a=E(e),s=n.xc(a,t.C());null==s&&sb(t.C(),a)&&(s=r.J(a)),e=null!=s?this.U.K(r,a,s,H(e),i,o):t.Q.j().Da(a)?this.U.K(r,a,C,H(e),i,o):r,e.e()&&Ib(t.C())&&(r=n.za(ub(t)),r.L()&&(e=this.U.xa(e,r,o)))}r=Ib(t.C())||null!=n.tc(G),n=Fd(t,e,r,this.U.Na())}else n=Gd(this,t,e.path,e.Qb,n,r,o);else{if(e.type!==Zb)throw Gc("Unknown operation type: "+e.type);r=e.path,e=t.C(),i=e.j(),a=e.ea||r.e(),n=Hd(this,new Id(t.Q,new tb(i,a,e.Ub)),r,n,qb,o)}return o=ra(o.bb),r=n,e=r.Q,e.ea&&(i=e.j().L()||e.j().e(),a=Jd(t),(0<o.length||!t.Q.ea||i&&!e.j().ca(a)||!e.j().B().ca(a.B()))&&o.push(Eb(Jd(r)))),new wd(n,o)};var Qd={};Pd.prototype.Ad=function(t,e){return 0!==this.compare(new F("[MIN_NAME]",t),new F("[MIN_NAME]",e))},Pd.prototype.Tc=function(){return Rd},ma(Sd,Pd),g=Sd.prototype,g.Ic=function(t){return!t.J(this.cc).e()},g.compare=function(t,e){var n=t.S.J(this.cc),r=e.S.J(this.cc),n=n.Dc(r);return 0===n?Ub(t.name,e.name):n},g.Pc=function(t,e){var n=M(t),n=C.O(this.cc,n);return new F(e,n)},g.Qc=function(){var t=C.O(this.cc,Td);return new F("[MAX_NAME]",t)},g.toString=function(){return this.cc},ma(Ud,Pd),g=Ud.prototype,g.compare=function(t,e){var n=t.S.B(),r=e.S.B(),n=n.Dc(r);return 0===n?Ub(t.name,e.name):n},g.Ic=function(t){return!t.B().e()},g.Ad=function(t,e){return!t.B().ca(e.B())},g.Tc=function(){return Rd},g.Qc=function(){return new F("[MAX_NAME]",new sc("[PRIORITY-POST]",Td))},g.Pc=function(t,e){var n=M(t);return new F(e,new sc("[PRIORITY-POST]",n))},g.toString=function(){return".priority"};var N=new Ud;ma(Vd,Pd),g=Vd.prototype,g.compare=function(t,e){return Ub(t.name,e.name)},g.Ic=function(){throw Gc("KeyIndex.isDefinedOn not expected to be called.")},g.Ad=function(){return!1},g.Tc=function(){return Rd},g.Qc=function(){return new F("[MAX_NAME]",C)},g.Pc=function(t){return K(p(t),"KeyIndex indexValue must always be a string."),new F(t,C)},g.toString=function(){return".key"};var Od=new Vd;ma(Wd,Pd),g=Wd.prototype,g.compare=function(t,e){var n=t.S.Dc(e.S);return 0===n?Ub(t.name,e.name):n},g.Ic=function(){return!0},g.Ad=function(t,e){return!t.ca(e)},g.Tc=function(){return Rd},g.Qc=function(){return Xd},g.Pc=function(t,e){var n=M(t);return new F(e,n)},g.toString=function(){return".value"};var Yd=new Wd,$d=new Zd;g=Zd.prototype,g.Ie=function(t){var e=ae(this);return e.ja=!0,e.ka=t,e.Nb="",e},g.Je=function(t){var e=ae(this);return e.ja=!0,e.ka=t,e.Nb="l",e},g.Ke=function(t){var e=ae(this);return e.ja=!0,e.ka=t,e.Nb="r",e},g.ae=function(t,e){var r=ae(this);return r.ma=!0,n(t)||(t=null),r.ec=t,null!=e?(r.Lb=!0,r.yb=e):(r.Lb=!1,r.yb=""),r},g.td=function(t,e){var r=ae(this);return r.pa=!0,n(t)||(t=null),r.bc=t,n(e)?(r.Tb=!0,r.wb=e):(r.Zg=!1,r.wb=""),r},g.toString=function(){return B(ce(this))},fe.prototype.get=function(t){var e=w(this.Bd,t);if(!e)throw Error("No index defined for "+t);return e===Qd?null:e};var je=new fe({".priority":Qd},{".priority":N}),le=["object","boolean","number","string"];g=sc.prototype,g.L=function(){return!0},g.B=function(){return this.aa},g.ga=function(t){return new sc(this.A,t)},g.J=function(t){return".priority"===t?this.aa:C},g.Y=function(t){return t.e()?this:".priority"===E(t)?this.aa:C},g.Da=function(){return!1},g.rf=function(){return null},g.O=function(t,e){return".priority"===t?this.ga(e):e.e()&&".priority"!==t?this:C.O(t,e).ga(this.aa)},g.K=function(t,e){var n=E(t);return null===n?e:e.e()&&".priority"!==n?this:(K(".priority"!==n||1===tc(t),".priority must be the last token in a path"),this.O(n,C.K(H(t),e)))},g.e=function(){return!1},g.Eb=function(){return 0},g.R=function(){return!1},g.H=function(t){return t&&!this.B().e()?{".value":this.Ca(),".priority":this.B().H()}:this.Ca()},g.hash=function(){if(null===this.Cb){var t="";this.aa.e()||(t+="priority:"+me(this.aa.H())+":");var e=typeof this.A,t=t+(e+":"),t="number"===e?t+Yc(this.A):t+this.A;this.Cb=Ic(t)}return this.Cb},g.Ca=function(){return this.A},g.Dc=function(t){if(t===C)return 1;if(t instanceof T)return-1;K(t.L(),"Unknown node type");var e=typeof t.A,n=typeof this.A,r=Na(le,e),i=Na(le,n);return K(r>=0,"Unknown leaf type: "+e),K(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.A<t.A?-1:this.A===t.A?0:1:i-r},g.mb=function(){return this},g.Jc=function(){return!0},g.ca=function(t){return t===this?!0:t.L()?this.A===t.A&&this.aa.ca(t.aa):!1},g.toString=function(){return B(this.H(!0))},g=T.prototype,g.L=function(){return!1},g.B=function(){return this.aa||C},g.ga=function(t){return this.m.e()?this:new T(this.m,t,this.xb)},g.J=function(t){return".priority"===t?this.B():(t=this.m.get(t),null===t?C:t)},g.Y=function(t){var e=E(t);return null===e?this:this.J(e).Y(H(t))},g.Da=function(t){return null!==this.m.get(t)},g.O=function(t,e){if(K(e,"We should always be passing snapshot nodes"),".priority"===t)return this.ga(e);var n,r,i=new F(t,e);return e.e()?(n=this.m.remove(t),i=ie(this.xb,i,this.m)):(n=this.m.Oa(t,e),i=ge(this.xb,i,this.m)),r=n.e()?C:this.aa,new T(n,r,i)},g.K=function(t,e){var n=E(t);if(null===n)return e;K(".priority"!==E(t)||1===tc(t),".priority must be the last token in a path");var r=this.J(n).K(H(t),e);return this.O(n,r)},g.e=function(){return this.m.e()},g.Eb=function(){return this.m.count()};var ne=/^(0|[1-9]\d*)$/;g=T.prototype,g.H=function(t){if(this.e())return null;var e={},n=0,r=0,i=!0;if(this.R(N,function(o,a){e[o]=a.H(t),n++,i&&ne.test(o)?r=Math.max(r,Number(o)):i=!1}),!t&&i&&2*n>r){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.B().e()&&(e[".priority"]=this.B().H()),e},g.hash=function(){if(null===this.Cb){var t="";this.B().e()||(t+="priority:"+me(this.B().H())+":"),this.R(N,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.Cb=""===t?"":Ic(t)}return this.Cb},g.rf=function(t,e,n){return(n=oe(this,n))?(t=bc(n,new F(t,e)))?t.name:null:bc(this.m,t)},g.R=function(t,e){var n=oe(this,t);return n?n.ia(function(t){return e(t.name,t.S)}):this.m.ia(e)},g.Xb=function(t){return this.Yb(t.Tc(),t)},g.Yb=function(t,e){var n=oe(this,e);if(n)return n.Yb(t,function(t){return t});for(var n=this.m.Yb(t.name,Sb),r=dc(n);null!=r&&0>e.compare(r,t);)J(n),r=dc(n);return n},g.sf=function(t){return this.$b(t.Qc(),t)},g.$b=function(t,e){var n=oe(this,e);if(n)return n.$b(t,function(t){return t});for(var n=this.m.$b(t.name,Sb),r=dc(n);null!=r&&0<e.compare(r,t);)J(n),r=dc(n);return n},g.Dc=function(t){return this.e()?t.e()?0:-1:t.L()||t.e()?1:t===Td?-1:0},g.mb=function(t){if(t===Od||ta(this.xb.dc,t.toString()))return this;var e=this.xb,n=this.m;K(t!==Od,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.Xb(Sb),o=J(n);o;)i=i||t.Ic(o.S),r.push(o),o=J(n);return r=i?he(r,td(t)):Qd,i=t.toString(),n=xa(e.dc),n[i]=t,t=xa(e.Bd),t[i]=r,new T(this.m,this.aa,new fe(t,n))},g.Jc=function(t){return t===Od||ta(this.xb.dc,t.toString())},g.ca=function(t){if(t===this)return!0;if(t.L())return!1;if(this.B().ca(t.B())&&this.m.count()===t.m.count()){var e=this.Xb(N);t=t.Xb(N);for(var n=J(e),r=J(t);n&&r;){if(n.name!==r.name||!n.S.ca(r.S))return!1;n=J(e),r=J(t)}return null===n&&null===r}return!1},g.toString=function(){return B(this.H(!0))};var pe=Math.log(2),C=new T(new $b(Vb),null,je);ma(se,T),g=se.prototype,g.Dc=function(t){return t===this?0:1},g.ca=function(t){return t===this},g.B=function(){return this},g.J=function(){return C},g.e=function(){return!1};var Td=new se,Rd=new F("[MIN_NAME]",C),Xd=new F("[MAX_NAME]",Td);Id.prototype.C=function(){return this.Yd},g=te.prototype,g.C=function(){return this.Ka.C().j()},g.gb=function(t){var e=ub(this.Ka);return e&&(de(this.V.o)||!t.e()&&!e.J(E(t)).e())?e.Y(t):null},g.e=function(){return 0===this.Ya.length},g.Pb=function(t){this.Ya.push(t)},g.kb=function(t,e){var n=[];if(e){K(null==t,"A cancel should cancel all event registrations.");var r=this.V.path;Oa(this.Ya,function(t){(t=t.gf(e,r))&&n.push(t)})}if(t){for(var i=[],o=0;o<this.Ya.length;++o){var a=this.Ya[o];if(a.matches(t)){if(t.tf()){i=i.concat(this.Ya.slice(o+1));break}}else i.push(a)}this.Ya=i}else this.Ya=[];return n},g.ab=function(t,e,n){t.type===Bd&&null!==t.source.Ib&&(K(ub(this.Ka),"We should always have a full cache before handling merges"),K(Jd(this.Ka),"Missing event cache, even though we have a server cache"));var r=this.Ka;return t=this.Hf.ab(r,t,e,n),e=this.Hf,n=t.ke,K(n.Q.j().Jc(e.U.g),"Event snap not indexed"),K(n.C().j().Jc(e.U.g),"Server snap not indexed"),K(Ib(t.ke.C())||!Ib(r.C()),"Once a server snap is complete, it should never go back"),this.Ka=t.ke,ve(this,t.dg,t.ke.Q.j(),null)},xe.prototype.Xc=function(t){return this.path.e()?(t=this.children.subtree(new L(t)),t.e()?null:t.value?new Wb(this.source,G,t.value):new xe(this.source,G,t)):(K(E(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xe(this.source,H(this.path),this.children))},xe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},g=ye.prototype,g.yf=function(t,e,n,r){var i=t.path.toString();this.f("Listen called for "+i+" "+t.va());var o=ze(t,n),a={};this.$[o]=a,t=ee(t.o);var s=this;Ae(this,i+".json",t,function(t,e){var u=e;404===t&&(t=u=null),null===t&&s.Hb(i,u,!1,n),w(s.$,o)===a&&r(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},g.Pf=function(t,e){var n=ze(t,e);delete this.$[n]},g.N=function(t,e){this.Aa=t;var n=$c(t),r=n.data,n=n.Bc&&n.Bc.exp;e&&e("ok",{auth:r,expires:n})},g.he=function(t){this.Aa=null,t("ok",null)},g.Ne=function(){},g.Cf=function(){},g.Jd=function(){},g.put=function(){},g.zf=function(){},g.Ve=function(){};var Ce=new $b(function(t,e){return t===e?0:e>t?-1:1});g=Be.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(t){if(t.e())return this;var e=this.children.get(E(t));return null!==e?e.subtree(H(t)):Nd},g.set=function(t,e){if(t.e())return new Be(e,this.children);var n=E(t),r=(this.children.get(n)||Nd).set(H(t),e),n=this.children.Oa(n,r);return new Be(this.value,n)},g.remove=function(t){if(t.e())return this.children.e()?Nd:new Be(null,this.children);var e=E(t),n=this.children.get(e);return n?(t=n.remove(H(t)),e=t.e()?this.children.remove(e):this.children.Oa(e,t),null===this.value&&e.e()?Nd:new Be(this.value,e)):this},g.get=function(t){if(t.e())return this.value;var e=this.children.get(E(t));return e?e.get(H(t)):null};var Nd=new Be(null);Be.prototype.toString=function(){var t={};return Kd(this,function(e,n){t[e.toString()]=n.toString()}),B(t)},Oe.prototype.Xc=function(t){return this.path.e()?null!=this.Qb.value?(K(this.Qb.children.e(),"affectedTree should not have overlapping affected paths."),this):(t=this.Qb.subtree(new L(t)),new Oe(G,t,this.Vd)):(K(E(this.path)===t,"operationForChild called for unrelated child."),new Oe(H(this.path),this.Qb,this.Vd))},Oe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Vd+" affectedTree="+this.Qb+")"};var Xb=0,Bd=1,Ed=2,Zb=3,Pe=new Qe(!0,!1,null,!1),Re=new Qe(!1,!0,null,!1);Qe.prototype.toString=function(){return this.xe?"user":this.bf?"server(queryID="+this.Ib+")":"server"};var Te=new Se(new Be(null));Se.prototype.Rd=function(t){return t.e()?Te:(t=Md(this.W,t,Nd),new Se(t))},Se.prototype.e=function(){return this.W.e()},Se.prototype.apply=function(t){return Ze(G,this.W,t)},g=$e.prototype,g.Rd=function(t){var e=Ua(this.na,function(e){return e.kd===t});K(e>=0,"removeWrite called with nonexistent writeId.");var n=this.na[e];this.na.splice(e,1);for(var i=n.visible,o=!1,a=this.na.length-1;i&&a>=0;){var s=this.na[a];s.visible&&(a>=e&&bf(s,n.path)?i=!1:n.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)this.T=cf(this.na,df,G),this.Mc=0<this.na.length?this.na[this.na.length-1].kd:-1;else if(n.Ga)this.T=this.T.Rd(n.path);else{var u=this;r(n.children,function(t,e){u.T=u.T.Rd(n.path.u(e))})}return!0}return!1},g.za=function(t,e,n,r){if(n||r){var i=Ye(this.T,t);return!r&&i.e()?e:r||null!=e||null!=We(i,G)?(i=cf(this.na,function(e){return(e.visible||r)&&(!n||!(0<=Na(n,e.kd)))&&(e.path.contains(t)||t.contains(e.path))},t),e=e||C,i.apply(e)):null}return i=We(this.T,t),null!=i?i:(i=Ye(this.T,t),i.e()?e:null!=e||null!=We(i,G)?(e=e||C,i.apply(e)):null)},g.yc=function(t,e){var n=C,r=We(this.T,t);if(r)r.L()||r.R(N,function(t,e){n=n.O(t,e)});else if(e){var i=Ye(this.T,t);e.R(N,function(t,e){var r=Ye(i,new L(t)).apply(e);n=n.O(t,r)}),Oa(Xe(i),function(t){n=n.O(t.name,t.S)})}else i=Ye(this.T,t),Oa(Xe(i),function(t){n=n.O(t.name,t.S)});return n},g.ld=function(t,e,n,r){return K(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=t.u(e),null!=We(this.T,t)?null:(t=Ye(this.T,t),t.e()?r.Y(e):t.apply(r.Y(e)))},g.xc=function(t,e,n){t=t.u(e);var r=We(this.T,t);return null!=r?r:sb(n,e)?Ye(this.T,t).apply(n.j().J(e)):null},g.tc=function(t){return We(this.T,t)},g.oe=function(t,e,n,r,i,o){var a;if(t=Ye(this.T,t),a=We(t,G),null==a){if(null==e)return[];a=t.apply(e)}if(a=a.mb(o),a.e()||a.L())return[];for(e=[],t=td(o),i=i?a.$b(n,o):a.Yb(n,o),o=J(i);o&&e.length<r;)0!==t(o,n)&&e.push(o),o=J(i);return e},g=ef.prototype,g.za=function(t,e,n){return this.W.za(this.Mb,t,e,n)},g.yc=function(t){return this.W.yc(this.Mb,t)},g.ld=function(t,e,n){return this.W.ld(this.Mb,t,e,n)},g.tc=function(t){return this.W.tc(this.Mb.u(t))},g.oe=function(t,e,n,r,i){return this.W.oe(this.Mb,t,e,n,r,i)},g.xc=function(t,e){return this.W.xc(this.Mb,t,e)},g.u=function(t){return new ef(this.Mb.u(t),this.W)},g=ff.prototype,g.e=function(){return wa(this.ya)},g.ab=function(t,e,n){var i=t.source.Ib;if(null!==i)return i=w(this.ya,i),K(null!=i,"SyncTree gave us an op for an invalid query."),i.ab(t,e,n);var o=[];return r(this.ya,function(r){o=o.concat(r.ab(t,e,n))}),o},g.Pb=function(t,e,n,r,i){var o=t.va(),a=w(this.ya,o);if(!a){var a=n.za(i?r:null),s=!1;a?s=!0:(a=r instanceof T?n.yc(r):C,s=!1),a=new te(t,new Id(new tb(a,s,!1),new tb(r,i,!1))),this.ya[o]=a}return a.Pb(e),we(a,e)},g.kb=function(t,e,n){var i=t.va(),o=[],a=[],s=null!=gf(this);if("default"===i){var u=this;r(this.ya,function(t,r){a=a.concat(t.kb(e,n)),t.e()&&(delete u.ya[r],de(t.V.o)||o.push(t.V))})}else{var c=w(this.ya,i);c&&(a=a.concat(c.kb(e,n)),c.e()&&(delete this.ya[i],de(c.V.o)||o.push(c.V)))}return s&&null==gf(this)&&o.push(new U(t.k,t.path)),{Ig:o,kg:a}},g.gb=function(t){var e=null;return r(this.ya,function(n){e=e||n.gb(t)}),e},kf.prototype.Pb=function(t,e){var n=t.path,r=null,i=!1;Ke(this.ta,n,function(t,e){var o=O(t,n);return r=e.gb(o),i=i||null!=gf(e),!r});var o=this.ta.get(n);o?(i=i||null!=gf(o),r=r||o.gb(G)):(o=new ff,this.ta=this.ta.set(n,o));var a;null!=r?a=!0:(a=!1,r=C,Ne(this.ta.subtree(n),function(t,e){var n=e.gb(G);n&&(r=r.O(t,n))}));var s=null!=jf(o,t);if(!s&&!de(t.o)){var u=vf(t);K(!(u in this.lc),"View does not exist, but we have a tag");var c=wf++;this.lc[u]=c,this.af["_"+c]=u}return a=o.Pb(t,e,new ef(n,this.jb),r,a),s||i||(o=jf(o,t),a=a.concat(xf(this,t,o))),a},kf.prototype.kb=function(t,e,n){var r=t.path,i=this.ta.get(r),o=[];if(i&&("default"===t.va()||null!=jf(i,t))){o=i.kb(t,e,n),i.e()&&(this.ta=this.ta.remove(r)),i=o.Ig,o=o.kg,e=-1!==Ua(i,function(t){return de(t.o)});var a=Ie(this.ta,r,function(t,e){return null!=gf(e)});if(e&&!a&&(r=this.ta.subtree(r),!r.e()))for(var r=yf(r),s=0;s<r.length;++s){var u=r[s],c=u.V,u=zf(this,u);this.Nc.Ye(c,Af(this,c),u.xd,u.G)}if(!a&&0<i.length&&!n)if(e)this.Nc.be(t,null);else{var l=this;Oa(i,function(t){t.va();var e=l.lc[vf(t)];l.Nc.be(t,e)})}Bf(this,i)}return o},kf.prototype.za=function(t,e){var n=this.jb,r=Ie(this.ta,t,function(e,n){var r=O(e,t);return(r=n.gb(r))?r:void 0});return n.za(t,r,e,!0)};var wf=1;g=Ff.prototype,g.Ca=function(){return this.w.value},g.clear=function(){this.w.value=null,this.w.children={},this.w.nd=0,If(this)},g.wd=function(){return 0<this.w.nd},g.e=function(){return null===this.Ca()&&!this.wd()},g.R=function(t){var e=this;r(this.w.children,function(n,r){t(new Ff(r,e,n))})},g.path=function(){return new L(null===this.Zc?this.Gd:this.Zc.path()+"/"+this.Gd)},g.name=function(){return this.Gd},g.parent=function(){return this.Zc},Lf.prototype.ge=function(t,e){for(var n=this.Oc[t]||[],r=0;r<n.length;r++)n[r].zc.apply(n[r].Ma,Array.prototype.slice.call(arguments,1))},Lf.prototype.Fb=function(t,e,n){Mf(this,t),this.Oc[t]=this.Oc[t]||[],this.Oc[t].push({zc:e,Ma:n}),(t=this.Be(t))&&e.apply(n,t)},Lf.prototype.hc=function(t,e,n){Mf(this,t),t=this.Oc[t]||[];for(var r=0;r<t.length;r++)if(t[r].zc===e&&(!n||n===t[r].Ma)){t.splice(r,1);break}};var Nf=function(){var t=0,e=[];return function(n){var r=n===t;t=n;for(var i=Array(8),o=7;o>=0;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(K(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;o>=0&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return K(20===n.length,"nextPushId: Length should be 20."),n}}();ma(Of,Lf),Of.prototype.Be=function(t){return K("online"===t,"Unknown event type: "+t),[this.jc]},ca(Of),ma(Pf,Lf),Pf.prototype.Be=function(t){return K("visible"===t,"Unknown event type: "+t),[this.Ob]},ca(Pf);var Qf=/[\[\].#$\/\u0000-\u001F\u007F]/,Rf=/[\[\].#$\u0000-\u001F\u007F]/,Sf=/^[a-zA-Z][a-zA-Z._\-+]+$/;g=hg.prototype,g.add=function(t,e){this.set[t]=null!==e?e:!0},g.contains=function(t){return v(this.set,t)},g.get=function(t){return this.contains(t)?this.set[t]:void 0},g.remove=function(t){delete this.set[t]},g.clear=function(){this.set={}},g.e=function(){return wa(this.set)},g.count=function(){return pa(this.set)},g.keys=function(){var t=[];return r(this.set,function(e,n){t.push(n)}),t},pc.prototype.find=function(t){if(null!=this.A)return this.A.Y(t);if(t.e()||null==this.m)return null;var e=E(t);return t=H(t),this.m.contains(e)?this.m.get(e).find(t):null},pc.prototype.nc=function(t,e){if(t.e())this.A=e,this.m=null;else if(null!==this.A)this.A=this.A.K(t,e);else{null==this.m&&(this.m=new hg);var n=E(t);this.m.contains(n)||this.m.add(n,new pc),n=this.m.get(n),t=H(t),n.nc(t,e)}},pc.prototype.R=function(t){null!==this.m&&ig(this.m,function(e,n){t(e,n)})};var kg="auth.firebase.com",mg=["remember","redirectTo"];og.prototype.set=function(t,e){if(!e){if(!this.ce.length)throw Error("fb.login.SessionManager : No storage options available!");e=this.ce[0]}e.set(this.Re,t)},og.prototype.get=function(){var t=Qa(this.ce,q(this.og,this)),t=Pa(t,function(t){return null!==t});return Xa(t,function(t,e){return ad(e.token)-ad(t.token)}),0<t.length?t.shift():null},og.prototype.og=function(t){try{var e=t.get(this.Re);if(e&&e.token)return e}catch(n){}return null},og.prototype.clear=function(){var t=this;Oa(this.ce,function(e){e.remove(t.Re)})},Ag.prototype.ic=function(t){var e,n=this;try{e=nb(t.data)}catch(r){}e&&"request"===e.a&&(vg(window,"message",this.ic),this.de=t.origin,this.Ac&&setTimeout(function(){n.Ac(n.de,e.d,function(t,e){n.bg=!e,n.Ac=void 0,Bg(n,{a:"response",d:t,forceKeepWindowOpen:e})})},0))},Ag.prototype.zg=function(){try{vg(this.zd,"message",this.Bf)}catch(t){}this.Ac&&(Bg(this,{a:"error",d:"unknown closed window"}),this.Ac=void 0);try{window.close()}catch(e){}},Ag.prototype.Bf=function(t){if(this.bg&&"die"===t.data)try{window.close()}catch(e){}},Cg.prototype.open=function(t,e){P.set("redirect_request_id",this.pc),P.set("redirect_request_id",this.pc),e.requestId=this.pc,e.redirectTo=e.redirectTo||window.location.href,t+=(/\?/.test(t)?"":"?")+kb(e),window.location=t},Cg.isAvailable=function(){return!rg()&&!qg()},Cg.prototype.Cc=function(){return"redirect"};var Dg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Fg.prototype.open=function(t,e,n){function r(t){if(o&&(document.body.removeChild(o),o=void 0),l&&(l=clearInterval(l)),vg(window,"message",i),vg(window,"unload",r),c&&!t)try{c.close()}catch(e){a.postMessage("die",u)}c=a=void 0}function i(t){if(t.origin===u)try{var e=nb(t.data);"ready"===e.a?a.postMessage(f,u):"error"===e.a?(r(!1),n&&(n(e.d),n=null)):"response"===e.a&&(r(e.forceKeepWindowOpen),n&&(n(null,e.d),n=null))}catch(i){}}var o,a,s=sg(8);if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var u=wg(t);if(u!==wg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),t+=(/\?/.test(t)?"":"?")+kb(e);var c=window.open(t,this.options.window_name,this.options.window_features);a||(a=c);var l=setInterval(function(){c&&c.closed&&(r(!1),n&&(n(Eg("USER_CANCELLED")),n=null))},500),f=B({a:"request",d:e});ug(window,"unload",r),ug(window,"message",i)}},Fg.isAvailable=function(){var t;return(t="postMessage"in window&&!rg())&&((t=qg()||"undefined"!=typeof navigator&&(!!pg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(t=pg(),t="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||t.match(/CriOS/)||t.match(/Twitter for iPhone/)||t.match(/FBAN\/FBIOS/)||window.navigator.standalone)),t=!t),t&&!pg().match(/PhantomJS/)},Fg.prototype.Cc=function(){return"popup"},Gg.prototype.open=function(t,e,n){function r(){n&&(n(Eg("REQUEST_INTERRUPTED")),n=null)}var i,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(ug(window,"beforeunload",r),o.onreadystatechange=function(){if(n&&4===o.readyState){var t;if(200<=o.status&&300>o.status){try{t=nb(o.responseText)}catch(e){}n(null,t)}else n(500<=o.status&&600>o.status?Eg("SERVER_ERROR"):Eg("NETWORK_ERROR"));n=null,vg(window,"beforeunload",r)}},"GET"===a)t+=(/\?/.test(t)?"":"?")+kb(e),i=null;else{var s=this.options.headers.content_type;"application/json"===s&&(i=B(e)),"application/x-www-form-urlencoded"===s&&(i=kb(e))}o.open(a,t,!0),t={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},za(t,this.options.headers);for(var u in t)o.setRequestHeader(u,t[u]);o.send(i)},Gg.isAvailable=function(){var t;return(t=!!window.XMLHttpRequest)&&(t=pg(),t=!(t.match(/MSIE/)||t.match(/Trident/))||sg(10)),t},Gg.prototype.Cc=function(){return"json"},Hg.prototype.open=function(t,e,n){function r(){n&&(n(Eg("USER_CANCELLED")),n=null)}var i,o=this,a=Qc(kg);e.requestId=this.pc,e.redirectTo=a.scheme+"://"+a.host+"/blank/page.html",t+=/\?/.test(t)?"":"?",t+=kb(e),(i=window.open(t,"_blank","location=no"))&&ha(i.addEventListener)?(i.addEventListener("loadstart",function(t){var e;if(e=t&&t.url)t:{try{var s=document.createElement("a");s.href=t.url,e=s.host===a.host&&"/blank/page.html"===s.pathname;break t}catch(u){}e=!1}e&&(t=xg(t.url),i.removeEventListener("exit",r),i.close(),t=new lg(null,null,{requestId:o.pc,requestKey:t}),o.Ef.requestWithCredential("/auth/session",t,n),n=null)}),i.addEventListener("exit",r)):n(Eg("TRANSPORT_UNAVAILABLE"))},Hg.isAvailable=function(){return qg()},Hg.prototype.Cc=function(){return"redirect"},Ig.prototype.open=function(t,e,n){function r(){n&&(n(Eg("REQUEST_INTERRUPTED")),n=null)}function i(){setTimeout(function(){window.__firebase_auth_jsonp[o]=void 0,wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var t=document.getElementById(o);t&&t.parentNode.removeChild(t)}catch(e){}},1),vg(window,"beforeunload",r)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());e[this.options.callback_parameter]="__firebase_auth_jsonp."+o,t+=(/\?/.test(t)?"":"?")+kb(e),ug(window,"beforeunload",r),window.__firebase_auth_jsonp[o]=function(t){n&&(n(null,t),n=null),i()},Jg(o,t,n)},Ig.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Ig.prototype.Cc=function(){return"json"},ma(Kg,Lf),g=Kg.prototype,g.ye=function(){return this.nb||null},g.te=function(t,e){Tg(this);var n=ng(t);n.$a._method="POST",this.qc("/users",n,function(t,n){t?R(e,t):R(e,t,n)})},g.Ue=function(t,e){var n=this;Tg(this);var r="/users/"+encodeURIComponent(t.email),i=ng(t);i.$a._method="DELETE",this.qc(r,i,function(t,r){!t&&r&&r.uid&&n.nb&&n.nb.uid&&n.nb.uid===r.uid&&Rg(n),R(e,t)})},g.qe=function(t,e){Tg(this);var n="/users/"+encodeURIComponent(t.email)+"/password",r=ng(t);r.$a._method="PUT",r.$a.password=t.newPassword,this.qc(n,r,function(t){R(e,t)})},g.pe=function(t,e){Tg(this);var n="/users/"+encodeURIComponent(t.oldEmail)+"/email",r=ng(t);r.$a._method="PUT",
r.$a.email=t.newEmail,r.$a.password=t.password,this.qc(n,r,function(t){R(e,t)})},g.We=function(t,e){Tg(this);var n="/users/"+encodeURIComponent(t.email)+"/password",r=ng(t);r.$a._method="POST",this.qc(n,r,function(t){R(e,t)})},g.qc=function(t,e,n){Wg(this,[Gg,Ig],t,e,n)},g.Be=function(t){return K("auth_status"===t,'initial event must be of type "auth_status"'),this.Te?null:[this.nb]};var ah,bh;$g.prototype.open=function(t,e){this.hf=0,this.la=e,this.Af=new Xg(t),this.Ab=!1;var n=this;this.rb=setTimeout(function(){n.f("Timed out trying to connect."),n.hb(),n.rb=null},Math.floor(3e4)),Sc(function(){if(!n.Ab){n.Ta=new ch(function(t,e,r,i,o){if(dh(n,arguments),n.Ta)if(n.rb&&(clearTimeout(n.rb),n.rb=null),n.Hc=!0,"start"==t)n.id=e,n.Gf=r;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Ta.Xd=!1,Yg(n.Af,e,function(){n.hb()})):n.hb()}},function(t,e){dh(n,arguments),Zg(n.Af,t,e)},function(){n.hb()},n.jd);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Ta.ie&&(t.cb=n.Ta.ie),t.v="5",n.Zd&&(t.s=n.Zd),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.jd(t),n.f("Connecting via long-poll to "+t),eh(n.Ta,t,function(){})}})},$g.prototype.start=function(){var t=this.Ta,e=this.Gf;for(t.sg=this.id,t.tg=e,t.me=!0;fh(t););t=this.id,e=this.Gf,this.gc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.gc.src=this.jd(n),this.gc.style.display="none",document.body.appendChild(this.gc)},$g.isAvailable=function(){return ah||!bh&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.Vg)&&!0},g=$g.prototype,g.Ed=function(){},g.dd=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.gc&&(document.body.removeChild(this.gc),this.gc=null),this.rb&&(clearTimeout(this.rb),this.rb=null)},g.hb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.dd(),this.la&&(this.la(this.Hc),this.la=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.dd())},g.send=function(t){t=B(t),this.pb+=t.length,Nb(this.Va,"bytes_sent",t.length),t=Jc(t),t=fb(t,!0),t=Wc(t,1840);for(var e=0;e<t.length;e++){var n=this.Ta;n.ad.push({Kg:this.hf,Sg:t.length,kf:t[e]}),n.me&&fh(n),this.hf++}},ch.prototype.close=function(){if(this.me=!1,this.Ea){this.Ea.fb.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ea&&(document.body.removeChild(t.Ea),t.Ea=null)},Math.floor(0))}var e=this.ib;e&&(this.ib=null,e())};var hh=null;"undefined"!=typeof MozWebSocket?hh=MozWebSocket:"undefined"!=typeof WebSocket&&(hh=WebSocket);var jh;ih.prototype.open=function(t,e){this.ib=e,this.xg=t,this.f("Websocket connecting to "+this.eb),this.Hc=!1,Cc.set("previous_websocket_failure",!0);try{this.ua=new hh(this.eb)}catch(n){this.f("Error instantiating WebSocket.");var r=n.message||n.data;return r&&this.f(r),void this.hb()}var i=this;this.ua.onopen=function(){i.f("Websocket connected."),i.Hc=!0},this.ua.onclose=function(){i.f("Websocket connection was disconnected."),i.ua=null,i.hb()},this.ua.onmessage=function(t){if(null!==i.ua)if(t=t.data,i.ob+=t.length,Nb(i.Va,"bytes_received",t.length),kh(i),null!==i.frames)lh(i,t);else{t:{if(K(null===i.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){i.cf=e,i.frames=[],t=null;break t}}i.cf=1,i.frames=[]}null!==t&&lh(i,t)}},this.ua.onerror=function(t){i.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&i.f(t),i.hb()}},ih.prototype.start=function(){},ih.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==hh&&!jh},ih.responsesRequiredToBeHealthy=2,ih.healthyTimeout=3e4,g=ih.prototype,g.Ed=function(){Cc.remove("previous_websocket_failure")},g.send=function(t){kh(this),t=B(t),this.pb+=t.length,Nb(this.Va,"bytes_sent",t.length),t=Wc(t,16384),1<t.length&&this.ua.send(String(t.length));for(var e=0;e<t.length;e++)this.ua.send(t[e])},g.dd=function(){this.Ab=!0,this.Kc&&(clearInterval(this.Kc),this.Kc=null),this.ua&&(this.ua.close(),this.ua=null)},g.hb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.dd(),this.ib&&(this.ib(this.Hc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.dd())};var oh=[$g,ih];qh.prototype.Fa=function(t){Bh(this,{t:"d",d:t})},qh.prototype.Id=function(t){yh(this),this.ic(t)},qh.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,xh(this),this.la&&(this.la(),this.la=null))};var Dh=0,Fh=0;g=Ch.prototype,g.Fa=function(t,e,n){var r=++this.Jg;t={r:r,a:t,b:e},this.f(B(t)),K(this.oa,"sendRequest call when we're not connected not allowed."),this.Ia.Fa(t),n&&(this.Td[r]=n)},g.yf=function(t,e,n,r){var i=t.va(),o=t.path.toString();this.f("Listen called for "+o+" "+i),this.$[o]=this.$[o]||{},K(!this.$[o][i],"listen() called twice for same path/queryId."),t={G:r,xd:e,Gg:t,tag:n},this.$[o][i]=t,this.oa&&Gh(this,t)},g.N=function(t,e,n){this.Aa={gg:t,of:!1,zc:e,md:n},this.f("Authenticating using credential: "+t),Ih(this),(e=40==t.length)||(t=$c(t).Bc,e="object"==typeof t&&!0===w(t,"admin")),e&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Fd=3e4)},g.he=function(t){delete this.Aa,this.oa&&this.Fa("unauth",{},function(e){t(e.s,e.d)})},g.Pf=function(t,e){var n=t.path.toString(),r=t.va();if(this.f("Unlisten called for "+n+" "+r),Hh(this,n,r)&&this.oa){var i=ce(t.o);this.f("Unlisten on "+n+" for "+r),n={p:n},e&&(n.q=i,n.t=e),this.Fa("n",n)}},g.Ne=function(t,e,n){this.oa?Jh(this,"o",t,e,n):this.Vc.push({$c:t,action:"o",data:e,G:n})},g.Cf=function(t,e,n){this.oa?Jh(this,"om",t,e,n):this.Vc.push({$c:t,action:"om",data:e,G:n})},g.Jd=function(t,e){this.oa?Jh(this,"oc",t,null,e):this.Vc.push({$c:t,action:"oc",data:null,G:e})},g.put=function(t,e,n,r){Kh(this,"p",t,e,n,r)},g.zf=function(t,e,n,r){Kh(this,"m",t,e,n,r)},g.Ve=function(t){this.oa&&(t={c:t},this.f("reportStats",t),this.Fa("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},g.Id=function(t){if("r"in t){this.f("from server: "+B(t));var e=t.r,n=this.Td[e];n&&(delete this.Td[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,n=t.b,this.f("handleServerMessage",e,n),"d"===e?this.Hb(n.p,n.d,!1,n.t):"m"===e?this.Hb(n.p,n.d,!0,n.t):"c"===e?Mh(this,n.p,n.q):"ac"===e?(t=n.s,e=n.d,n=this.Aa,delete this.Aa,n&&n.md&&n.md(t,e)):"sd"===e?this.Xe?this.Xe(n):"msg"in n&&"undefined"!=typeof console&&void 0:Oc("Unrecognized action received from server: "+B(e)+"\nAre you using the latest client?"))}},g.Wc=function(t){this.f("connection ready"),this.oa=!0,this.Lc=(new Date).getTime(),this.Pe({serverTimeOffset:t-(new Date).getTime()}),this.nf&&(t={},t["sdk.js."+hb.replace(/\./g,"-")]=1,qg()&&(t["framework.cordova"]=1),this.Ve(t)),Nh(this),this.nf=!1,this.Uc(!0)},g.Ag=function(t){t&&!this.Ob&&this.Za===this.Fd&&(this.f("Window became visible.  Reducing delay."),this.Za=1e3,this.Ia||Eh(this,0)),this.Ob=t},g.yg=function(t){t?(this.f("Browser went online."),this.Za=1e3,this.Ia||Eh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ia&&this.Ia.close())},g.Df=function(){this.f("data client disconnected"),this.oa=!1,this.Ia=null;for(var t=0;t<this.qa.length;t++){var e=this.qa[t];e&&"h"in e.Jf&&e.Hg&&(e.G&&e.G("disconnect"),delete this.qa[t],this.Yc--)}0===this.Yc&&(this.qa=[]),this.Td={},Ph(this)&&(this.Ob?this.Lc&&(3e4<(new Date).getTime()-this.Lc&&(this.Za=1e3),this.Lc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Za=this.Fd,this.He=(new Date).getTime()),t=Math.max(0,this.Za-((new Date).getTime()-this.He)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),Eh(this,t),this.Za=Math.min(this.Fd,1.3*this.Za)),this.Uc(!1)},g.zb=function(){this.Fe=!0,this.Ia?this.Ia.close():(this.tb&&(clearTimeout(this.tb),this.tb=null),this.oa&&this.Df())},g.rc=function(){this.Fe=!1,this.Za=1e3,this.Ia||Eh(this,0)};var V={mg:function(){ah=jh=!0}};V.forceLongPolling=V.mg,V.ng=function(){bh=!0},V.forceWebSockets=V.ng,V.Ng=function(t,e){t.k.Sa.Xe=e},V.setSecurityDebugCallback=V.Ng,V.Ze=function(t,e){t.k.Ze(e)},V.stats=V.Ze,V.$e=function(t,e){t.k.$e(e)},V.statsIncrementCounter=V.$e,V.sd=function(t){return t.k.sd},V.dataUpdateCount=V.sd,V.qg=function(t,e){t.k.Ee=e},V.interceptServerData=V.qg,V.wg=function(t){new Ag(t)},V.onPopupOpen=V.wg,V.Lg=function(t){kg=t},V.setAuthenticationServer=V.Lg,S.prototype.H=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.w.H()},S.prototype.val=S.prototype.H,S.prototype.mf=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.w.H(!0)},S.prototype.exportVal=S.prototype.mf,S.prototype.lg=function(){return x("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.w.e()},S.prototype.exists=S.prototype.lg,S.prototype.u=function(t){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),ag("Firebase.DataSnapshot.child",t);var e=new L(t),n=this.V.u(e);return new S(this.w.Y(e),n,N)},S.prototype.child=S.prototype.u,S.prototype.Da=function(t){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ag("Firebase.DataSnapshot.hasChild",t);var e=new L(t);return!this.w.Y(e).e()},S.prototype.hasChild=S.prototype.Da,S.prototype.B=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.w.B().H()},S.prototype.getPriority=S.prototype.B,S.prototype.forEach=function(t){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,t,!1),this.w.L())return!1;var e=this;return!!this.w.R(this.g,function(n,r){return t(new S(r,e.V.u(n),N))})},S.prototype.forEach=S.prototype.forEach,S.prototype.wd=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.w.L()?!1:!this.w.e()},S.prototype.hasChildren=S.prototype.wd,S.prototype.name=function(){return Q("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),x("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},S.prototype.name=S.prototype.name,S.prototype.key=function(){return x("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.key()},S.prototype.key=S.prototype.key,S.prototype.Eb=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.w.Eb()},S.prototype.numChildren=S.prototype.Eb,S.prototype.mc=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},S.prototype.ref=S.prototype.mc,g=Qh.prototype,g.toString=function(){return(this.F.lb?"https://":"http://")+this.F.host},g.name=function(){return this.F.Db},g.Hb=function(t,e,n,r){this.sd++;var i=new L(t);e=this.Ee?this.Ee(t,e):e,t=[],r?n?(e=na(e,function(t){return M(t)}),t=uf(this.M,i,e,r)):(e=M(e),t=qf(this.M,i,e,r)):n?(r=na(e,function(t){return M(t)}),t=pf(this.M,i,r)):(r=M(e),t=mf(this.M,new Wb(Re,i,r))),r=i,0<t.length&&(r=Uh(this,i)),Ab(this.da,r,t)},g.Uc=function(t){Rh(this,"connected",t),!1===t&&Vh(this)},g.Pe=function(t){var e=this;Xc(t,function(t,n){Rh(e,n,t)})},g.Me=function(t){Rh(this,"authenticated",t)},g.Kb=function(t,e,n,r){this.f("set",{path:t.toString(),value:e,Yg:n});var i=Th(this);e=M(e,n);var i=rc(e,i),o=this.Hd++,i=lf(this.M,t,i,o,!0);wb(this.da,i);var a=this;this.ba.put(t.toString(),e.H(!0),function(e,n){var i="ok"===e;i||Q("set at "+t+" failed: "+e),i=of(a.M,o,!i),Ab(a.da,t,i),Wh(r,e,n)}),i=Xh(this,t),Uh(this,i),Ab(this.da,i,[])},g.update=function(t,e,n){this.f("update",{path:t.toString(),value:e});var i=!0,o=Th(this),a={};if(r(e,function(t,e){i=!1;var n=M(t);a[e]=rc(n,o)}),i)Cb("update() called with empty data.  Don't do anything."),Wh(n,"ok");else{var s=this.Hd++,u=nf(this.M,t,a,s);wb(this.da,u);var c=this;this.ba.zf(t.toString(),e,function(e,r){var i="ok"===e;i||Q("update at "+t+" failed: "+e);var i=of(c.M,s,!i),o=t;0<i.length&&(o=Uh(c,t)),Ab(c.da,o,i),Wh(n,e,r)}),e=Xh(this,t),Uh(this,e),Ab(this.da,t,[])}},g.Jd=function(t,e){var n=this;this.ba.Jd(t.toString(),function(r,i){"ok"===r&&jg(n.la,t),Wh(e,r,i)})},g.zb=function(){this.Sa&&this.Sa.zb()},g.rc=function(){this.Sa&&this.Sa.rc()},g.Ze=function(t){if("undefined"!=typeof console){t?(this.fd||(this.fd=new Kb(this.Va)),t=this.fd.get()):t=this.Va.get();var e,n=Ra(sa(t),function(t,e){return Math.max(e.length,t)},0);for(e in t)for(var r=(t[e],e.length);n+2>r;r++)e+=" "}},g.$e=function(t){Nb(this.Va,t),this.Qg.Nf[t]=!0},g.f=function(t){var e="";this.Sa&&(e=this.Sa.id+":"),Cb(e,arguments)},W.prototype.zb=function(){for(var t in this.oc)this.oc[t].zb()},W.prototype.rc=function(){for(var t in this.oc)this.oc[t].rc()},W.prototype.we=function(){this.Qf=!0},ca(W),W.prototype.interrupt=W.prototype.zb,W.prototype.resume=W.prototype.rc,X.prototype.cancel=function(t){x("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,t,!0),this.bd.Jd(this.ra,t||null)},X.prototype.cancel=X.prototype.cancel,X.prototype.remove=function(t){x("Firebase.onDisconnect().remove",0,1,arguments.length),bg("Firebase.onDisconnect().remove",this.ra),A("Firebase.onDisconnect().remove",1,t,!0),Yh(this.bd,this.ra,null,t)},X.prototype.remove=X.prototype.remove,X.prototype.set=function(t,e){x("Firebase.onDisconnect().set",1,2,arguments.length),bg("Firebase.onDisconnect().set",this.ra),Vf("Firebase.onDisconnect().set",t,this.ra,!1),A("Firebase.onDisconnect().set",2,e,!0),Yh(this.bd,this.ra,t,e)},X.prototype.set=X.prototype.set,X.prototype.Kb=function(t,e,n){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),bg("Firebase.onDisconnect().setWithPriority",this.ra),Vf("Firebase.onDisconnect().setWithPriority",t,this.ra,!1),Yf("Firebase.onDisconnect().setWithPriority",2,e),A("Firebase.onDisconnect().setWithPriority",3,n,!0),Zh(this.bd,this.ra,t,e,n)},X.prototype.setWithPriority=X.prototype.Kb,X.prototype.update=function(t,e){if(x("Firebase.onDisconnect().update",1,2,arguments.length),bg("Firebase.onDisconnect().update",this.ra),ea(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Q("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xf("Firebase.onDisconnect().update",t,this.ra),A("Firebase.onDisconnect().update",2,e,!0),$h(this.bd,this.ra,t,e)},X.prototype.update=X.prototype.update,g=Y.prototype,g.mc=function(){return x("Query.ref",0,0,arguments.length),new U(this.k,this.path)},g.Fb=function(t,e,n,r){x("Query.on",2,4,arguments.length),Zf("Query.on",t,!1),A("Query.on",2,e,!1);var i=ni("Query.on",n,r);if("value"===t)ai(this.k,this,new id(e,i.cancel||null,i.Ma||null));else{var o={};o[t]=e,ai(this.k,this,new jd(o,i.cancel,i.Ma))}return e},g.hc=function(t,e,n){x("Query.off",0,3,arguments.length),Zf("Query.off",t,!0),A("Query.off",2,e,!0),mb("Query.off",3,n);var r=null,i=null;"value"===t?r=new id(e||null,null,n||null):t&&(e&&(i={},i[t]=e),r=new jd(i,null,n||null)),i=this.k,r=".info"===E(this.path)?i.Cd.kb(this,r):i.M.kb(this,r),yb(i.da,this.path,r)},g.Bg=function(t,e){function n(a){o&&(o=!1,i.hc(t,n),e.call(r.Ma,a))}x("Query.once",2,4,arguments.length),Zf("Query.once",t,!1),A("Query.once",2,e,!1);var r=ni("Query.once",arguments[2],arguments[3]),i=this,o=!0;this.Fb(t,n,function(e){i.hc(t,n),r.cancel&&r.cancel.call(r.Ma,e)})},g.Ie=function(t){if(Q("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),x("Query.limit",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limit: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var e=this.o.Ie(t);return li(e),new Y(this.k,this.path,e,this.kc)},g.Je=function(t){if(x("Query.limitToFirst",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.o.Je(t),this.kc)},g.Ke=function(t){if(x("Query.limitToLast",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.o.Ke(t),this.kc)},g.Cg=function(t){if(x("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');$f("Query.orderByChild",1,t,!1),mi(this,"Query.orderByChild");var e=be(this.o,new Sd(t));return ki(e),new Y(this.k,this.path,e,!0)},g.Dg=function(){x("Query.orderByKey",0,0,arguments.length),mi(this,"Query.orderByKey");var t=be(this.o,Od);return ki(t),new Y(this.k,this.path,t,!0)},g.Eg=function(){x("Query.orderByPriority",0,0,arguments.length),mi(this,"Query.orderByPriority");var t=be(this.o,N);return ki(t),new Y(this.k,this.path,t,!0)},g.Fg=function(){x("Query.orderByValue",0,0,arguments.length),mi(this,"Query.orderByValue");var t=be(this.o,Yd);return ki(t),new Y(this.k,this.path,t,!0)},g.ae=function(t,e){x("Query.startAt",0,2,arguments.length),Vf("Query.startAt",t,this.path,!0),$f("Query.startAt",2,e,!0);var r=this.o.ae(t,e);if(li(r),ki(r),this.o.ma)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(t)||(e=t=null),new Y(this.k,this.path,r,this.kc)},g.td=function(t,e){x("Query.endAt",0,2,arguments.length),Vf("Query.endAt",t,this.path,!0),$f("Query.endAt",2,e,!0);var n=this.o.td(t,e);if(li(n),ki(n),this.o.pa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.kc)},g.ig=function(t,e){if(x("Query.equalTo",1,2,arguments.length),Vf("Query.equalTo",t,this.path,!1),$f("Query.equalTo",2,e,!0),this.o.ma)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.o.pa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ae(t,e).td(t,e)},g.toString=function(){x("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.Z;n<t.n.length;n++)""!==t.n[n]&&(e+="/"+encodeURIComponent(String(t.n[n])));return this.k.toString()+(e||"/")},g.va=function(){var t=Vc(ce(this.o));return"{}"===t?"default":t},Y.prototype.ref=Y.prototype.mc,Y.prototype.on=Y.prototype.Fb,Y.prototype.off=Y.prototype.hc,Y.prototype.once=Y.prototype.Bg,Y.prototype.limit=Y.prototype.Ie,Y.prototype.limitToFirst=Y.prototype.Je,Y.prototype.limitToLast=Y.prototype.Ke,Y.prototype.orderByChild=Y.prototype.Cg,Y.prototype.orderByKey=Y.prototype.Dg,Y.prototype.orderByPriority=Y.prototype.Eg,Y.prototype.orderByValue=Y.prototype.Fg,Y.prototype.startAt=Y.prototype.ae,Y.prototype.endAt=Y.prototype.td,Y.prototype.equalTo=Y.prototype.ig,Y.prototype.toString=Y.prototype.toString;var Z={};Z.vc=Ch,Z.DataConnection=Z.vc,Ch.prototype.Pg=function(t,e){this.Fa("q",{p:t},e)},Z.vc.prototype.simpleListen=Z.vc.prototype.Pg,Ch.prototype.hg=function(t,e){this.Fa("echo",{d:t},e)},Z.vc.prototype.echo=Z.vc.prototype.hg,Ch.prototype.interrupt=Ch.prototype.zb,Z.Tf=qh,Z.RealTimeConnection=Z.Tf,qh.prototype.sendRequest=qh.prototype.Fa,qh.prototype.close=qh.prototype.close,Z.pg=function(t){var e=Ch.prototype.put;return Ch.prototype.put=function(r,i,o,a){n(a)&&(a=t()),e.call(this,r,i,o,a)},function(){Ch.prototype.put=e}},Z.hijackHash=Z.pg,Z.Sf=Dc,Z.ConnectionTarget=Z.Sf,Z.va=function(t){return t.va()},Z.queryIdentifier=Z.va,Z.rg=function(t){return t.k.Sa.$},Z.listens=Z.rg,Z.we=function(t){t.we()},Z.forceRestClient=Z.we,ma(U,Y);var oi=U,pi=["Firebase"],qi=aa;pi[0]in qi||!qi.execScript||qi.execScript("var "+pi[0]);for(var ri;pi.length&&(ri=pi.shift());)!pi.length&&n(oi)?qi[ri]=oi:qi=qi[ri]?qi[ri]:qi[ri]={};U.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length),W.vb().zb()},U.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length),W.vb().rc()},U.enableLogging=Mc,U.ServerValue={TIMESTAMP:{".sv":"timestamp"}},U.SDK_VERSION=hb,U.INTERNAL=V,U.Context=W,U.TEST_ACCESS=Z,U.prototype.name=function(){return Q("Firebase.name() being deprecated. Please use Firebase.key() instead."),x("Firebase.name",0,0,arguments.length),this.key()},U.prototype.name=U.prototype.name,U.prototype.key=function(){return x("Firebase.key",0,0,arguments.length),this.path.e()?null:uc(this.path)},U.prototype.key=U.prototype.key,U.prototype.u=function(t){if(x("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof L))if(null===E(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ag("Firebase.child",e)}else ag("Firebase.child",t);return new U(this.k,this.path.u(t))},U.prototype.child=U.prototype.u,U.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new U(this.k,t)},U.prototype.parent=U.prototype.parent,U.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.parent();)t=t.parent();return t},U.prototype.root=U.prototype.root,U.prototype.set=function(t,e){x("Firebase.set",1,2,arguments.length),bg("Firebase.set",this.path),Vf("Firebase.set",t,this.path,!1),A("Firebase.set",2,e,!0),this.k.Kb(this.path,t,null,e||null)},U.prototype.set=U.prototype.set,U.prototype.update=function(t,e){if(x("Firebase.update",1,2,arguments.length),bg("Firebase.update",this.path),ea(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Q("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xf("Firebase.update",t,this.path),A("Firebase.update",2,e,!0),this.k.update(this.path,t,e||null)},U.prototype.update=U.prototype.update,U.prototype.Kb=function(t,e,n){if(x("Firebase.setWithPriority",2,3,arguments.length),bg("Firebase.setWithPriority",this.path),Vf("Firebase.setWithPriority",t,this.path,!1),Yf("Firebase.setWithPriority",2,e),A("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Kb(this.path,t,e,n||null)},U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=function(t){x("Firebase.remove",0,1,arguments.length),bg("Firebase.remove",this.path),A("Firebase.remove",1,t,!0),this.set(null,t)},U.prototype.remove=U.prototype.remove,U.prototype.transaction=function(t,e,r){if(x("Firebase.transaction",1,3,arguments.length),bg("Firebase.transaction",this.path),A("Firebase.transaction",1,t,!1),A("Firebase.transaction",2,e,!0),n(r)&&"boolean"!=typeof r)throw Error(z("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof r&&(r=!0),bi(this.k,this.path,t,e||null,r)},U.prototype.transaction=U.prototype.transaction,U.prototype.Mg=function(t,e){x("Firebase.setPriority",1,2,arguments.length),bg("Firebase.setPriority",this.path),Yf("Firebase.setPriority",1,t),A("Firebase.setPriority",2,e,!0),this.k.Kb(this.path.u(".priority"),t,null,e)},U.prototype.setPriority=U.prototype.Mg,U.prototype.push=function(t,e){x("Firebase.push",0,2,arguments.length),bg("Firebase.push",this.path),Vf("Firebase.push",t,this.path,!0),A("Firebase.push",2,e,!0);var n=Sh(this.k),n=Nf(n),n=this.u(n);return"undefined"!=typeof t&&null!==t&&n.set(t,e),n},U.prototype.push=U.prototype.push,U.prototype.ib=function(){return bg("Firebase.onDisconnect",this.path),new X(this.k,this.path)},U.prototype.onDisconnect=U.prototype.ib,U.prototype.N=function(t,e,n){Q("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),x("Firebase.auth",1,3,arguments.length),cg("Firebase.auth",t),A("Firebase.auth",2,e,!0),A("Firebase.auth",3,e,!0),Qg(this.k.N,t,{},{remember:"none"},e,n)},U.prototype.auth=U.prototype.N,U.prototype.he=function(t){x("Firebase.unauth",0,1,arguments.length),A("Firebase.unauth",1,t,!0),Rg(this.k.N,t)},U.prototype.unauth=U.prototype.he,U.prototype.ye=function(){return x("Firebase.getAuth",0,0,arguments.length),this.k.N.ye()},U.prototype.getAuth=U.prototype.ye,U.prototype.vg=function(t,e){x("Firebase.onAuth",1,2,arguments.length),A("Firebase.onAuth",1,t,!1),mb("Firebase.onAuth",2,e),this.k.N.Fb("auth_status",t,e)},U.prototype.onAuth=U.prototype.vg,U.prototype.ug=function(t,e){x("Firebase.offAuth",1,2,arguments.length),A("Firebase.offAuth",1,t,!1),mb("Firebase.offAuth",2,e),this.k.N.hc("auth_status",t,e)},U.prototype.offAuth=U.prototype.ug,U.prototype.Xf=function(t,e,n){x("Firebase.authWithCustomToken",2,3,arguments.length),cg("Firebase.authWithCustomToken",t),A("Firebase.authWithCustomToken",2,e,!1),fg("Firebase.authWithCustomToken",3,n,!0),Qg(this.k.N,t,{},n||{},e)},U.prototype.authWithCustomToken=U.prototype.Xf,U.prototype.Yf=function(t,e,n){x("Firebase.authWithOAuthPopup",2,3,arguments.length),eg("Firebase.authWithOAuthPopup",t),A("Firebase.authWithOAuthPopup",2,e,!1),fg("Firebase.authWithOAuthPopup",3,n,!0),Vg(this.k.N,t,n,e)},U.prototype.authWithOAuthPopup=U.prototype.Yf,U.prototype.Zf=function(t,e,n){x("Firebase.authWithOAuthRedirect",2,3,arguments.length),eg("Firebase.authWithOAuthRedirect",t),A("Firebase.authWithOAuthRedirect",2,e,!1),fg("Firebase.authWithOAuthRedirect",3,n,!0);var r=this.k.N;Tg(r);var i=[Cg],o=ng(n);"anonymous"===t||"firebase"===t?R(e,Eg("TRANSPORT_UNAVAILABLE")):(P.set("redirect_client_options",o.od),Ug(r,i,"/auth/"+t,o,e))},U.prototype.authWithOAuthRedirect=U.prototype.Zf,U.prototype.$f=function(t,e,n,r){x("Firebase.authWithOAuthToken",3,4,arguments.length),eg("Firebase.authWithOAuthToken",t),A("Firebase.authWithOAuthToken",3,n,!1),fg("Firebase.authWithOAuthToken",4,r,!0),p(e)?(dg("Firebase.authWithOAuthToken",2,e),Sg(this.k.N,t+"/token",{access_token:e},r,n)):(fg("Firebase.authWithOAuthToken",2,e,!1),Sg(this.k.N,t+"/token",e,r,n))},U.prototype.authWithOAuthToken=U.prototype.$f,U.prototype.Wf=function(t,e){x("Firebase.authAnonymously",1,2,arguments.length),A("Firebase.authAnonymously",1,t,!1),fg("Firebase.authAnonymously",2,e,!0),Sg(this.k.N,"anonymous",{},e,t)},U.prototype.authAnonymously=U.prototype.Wf,U.prototype.ag=function(t,e,n){x("Firebase.authWithPassword",2,3,arguments.length),fg("Firebase.authWithPassword",1,t,!1),gg("Firebase.authWithPassword",t,"email"),gg("Firebase.authWithPassword",t,"password"),A("Firebase.authWithPassword",2,e,!1),fg("Firebase.authWithPassword",3,n,!0),Sg(this.k.N,"password",t,n,e)},U.prototype.authWithPassword=U.prototype.ag,U.prototype.te=function(t,e){x("Firebase.createUser",2,2,arguments.length),fg("Firebase.createUser",1,t,!1),gg("Firebase.createUser",t,"email"),gg("Firebase.createUser",t,"password"),A("Firebase.createUser",2,e,!1),this.k.N.te(t,e)},U.prototype.createUser=U.prototype.te,U.prototype.Ue=function(t,e){x("Firebase.removeUser",2,2,arguments.length),fg("Firebase.removeUser",1,t,!1),gg("Firebase.removeUser",t,"email"),gg("Firebase.removeUser",t,"password"),A("Firebase.removeUser",2,e,!1),this.k.N.Ue(t,e)},U.prototype.removeUser=U.prototype.Ue,U.prototype.qe=function(t,e){x("Firebase.changePassword",2,2,arguments.length),fg("Firebase.changePassword",1,t,!1),gg("Firebase.changePassword",t,"email"),gg("Firebase.changePassword",t,"oldPassword"),gg("Firebase.changePassword",t,"newPassword"),A("Firebase.changePassword",2,e,!1),this.k.N.qe(t,e)},U.prototype.changePassword=U.prototype.qe,U.prototype.pe=function(t,e){x("Firebase.changeEmail",2,2,arguments.length),fg("Firebase.changeEmail",1,t,!1),gg("Firebase.changeEmail",t,"oldEmail"),gg("Firebase.changeEmail",t,"newEmail"),gg("Firebase.changeEmail",t,"password"),A("Firebase.changeEmail",2,e,!1),this.k.N.pe(t,e)},U.prototype.changeEmail=U.prototype.pe,U.prototype.We=function(t,e){x("Firebase.resetPassword",2,2,arguments.length),fg("Firebase.resetPassword",1,t,!1),gg("Firebase.resetPassword",t,"email"),A("Firebase.resetPassword",2,e,!1),this.k.N.We(t,e)},U.prototype.resetPassword=U.prototype.We}(),function(t){"use strict";angular.module("firebase",[]).value("Firebase",t.Firebase)}(window),function(){"use strict";angular.module("firebase").factory("$firebaseArray",["$log","$firebaseUtils","$q",function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);var n=this;return this._observers=[],this.$list=[],this._ref=t,this._sync=new i(this),e.assertValidRef(t,"Must pass a valid Firebase reference to $firebaseArray (not a string or URL)"),this._indexCache={},e.getPublicMethods(n,function(t,e){n.$list[e]=t.bind(n)}),this._sync.init(this.$list),this.$list}function i(r){function i(t){if(!m.isDestroyed){m.isDestroyed=!0;var e=r.$ref();e.off("child_added",c),e.off("child_moved",f),e.off("child_changed",l),e.off("child_removed",h),r=null,v(t||"destroyed")}}function o(e){var n=r.$ref();n.on("child_added",c,g),n.on("child_moved",f,g),n.on("child_changed",l,g),n.on("child_removed",h,g),n.once("value",function(n){angular.isArray(n.val())&&t.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information."),v(null,e)},v)}function a(t,e){p||(p=!0,t?u.reject(t):u.resolve(e))}function s(t,e){var r=n.when(t);r.then(function(t){t&&e(t)}),p||d.push(r)}var u=e.defer(),c=function(t,e){s(r.$$added(t,e),function(t){r.$$process("child_added",t,e)})},l=function(t){var n=r.$getRecord(e.getKey(t));n&&s(r.$$updated(t),function(){r.$$process("child_changed",n)})},f=function(t,n){var i=r.$getRecord(e.getKey(t));i&&s(r.$$moved(t,n),function(){r.$$process("child_moved",i,n)})},h=function(t){var n=r.$getRecord(e.getKey(t));n&&s(r.$$removed(t),function(){r.$$process("child_removed",n)})},d=[],p=!1,g=e.batch(function(t){a(t),r&&r.$$error(t)}),v=e.batch(a),m={destroy:i,isDestroyed:!1,init:o,ready:function(){return u.promise.then(function(t){return n.all(d).then(function(){return t})})}};return m}return r.prototype={$add:function(t){this._assertNotDestroyed("$add");var n=e.defer(),r=this.$ref().ref().push();return r.set(e.toJSON(t),e.makeNodeResolver(n)),n.promise.then(function(){return r})},$save:function(t){this._assertNotDestroyed("$save");var n=this,r=n._resolveItem(t),i=n.$keyAt(r);if(null!==i){var o=n.$ref().ref().child(i),a=e.toJSON(r);return e.doSet(o,a).then(function(){return n.$$notify("child_changed",i),o})}return e.reject("Invalid record; could determine key for "+t)},$remove:function(t){this._assertNotDestroyed("$remove");var n=this.$keyAt(t);if(null!==n){var r=this.$ref().ref().child(n);return e.doRemove(r).then(function(){return r})}return e.reject("Invalid record; could not determine key for "+t)},$keyAt:function(t){var e=this._resolveItem(t);return this.$$getKey(e)},$indexFor:function(t){var e=this,n=e._indexCache;if(!n.hasOwnProperty(t)||e.$keyAt(n[t])!==t){var r=e.$list.findIndex(function(n){return e.$$getKey(n)===t});-1!==r&&(n[t]=r)}return n.hasOwnProperty(t)?n[t]:-1},$loaded:function(t,e){var n=this._sync.ready();return arguments.length&&(n=n.then.call(n,t,e)),n},$ref:function(){return this._ref},$watch:function(t,e){var n=this._observers;return n.push([t,e]),function(){var r=n.findIndex(function(n){return n[0]===t&&n[1]===e});r>-1&&n.splice(r,1)}},$destroy:function(t){this._isDestroyed||(this._isDestroyed=!0,this._sync.destroy(t),this.$list.length=0)},$getRecord:function(t){var e=this.$indexFor(t);
return e>-1?this.$list[e]:null},$$added:function(t){var n=this.$indexFor(e.getKey(t));if(-1===n){var r=t.val();return angular.isObject(r)||(r={$value:r}),r.$id=e.getKey(t),r.$priority=t.getPriority(),e.applyDefaults(r,this.$$defaults),r}return!1},$$removed:function(t){return this.$indexFor(e.getKey(t))>-1},$$updated:function(t){var n=!1,r=this.$getRecord(e.getKey(t));return angular.isObject(r)&&(n=e.updateRec(r,t),e.applyDefaults(r,this.$$defaults)),n},$$moved:function(t){var n=this.$getRecord(e.getKey(t));return angular.isObject(n)?(n.$priority=t.getPriority(),!0):!1},$$error:function(e){t.error(e),this.$destroy(e)},$$getKey:function(t){return angular.isObject(t)?t.$id:null},$$process:function(t,e,n){var r,i=this.$$getKey(e),o=!1;switch(t){case"child_added":r=this.$indexFor(i);break;case"child_moved":r=this.$indexFor(i),this._spliceOut(i);break;case"child_removed":o=null!==this._spliceOut(i);break;case"child_changed":o=!0;break;default:throw new Error("Invalid event type: "+t)}return angular.isDefined(r)&&(o=this._addAfter(e,n)!==r),o&&this.$$notify(t,i,n),o},$$notify:function(t,e,n){var r={event:t,key:e};angular.isDefined(n)&&(r.prevChild=n),angular.forEach(this._observers,function(t){t[0].call(t[1],r)})},_addAfter:function(t,e){var n;return null===e?n=0:(n=this.$indexFor(e)+1,0===n&&(n=this.$list.length)),this.$list.splice(n,0,t),this._indexCache[this.$$getKey(t)]=n,n},_spliceOut:function(t){var e=this.$indexFor(t);return e>-1?(delete this._indexCache[t],this.$list.splice(e,1)[0]):null},_resolveItem:function(t){var e=this.$list;if(angular.isNumber(t)&&t>=0&&e.length>=t)return e[t];if(angular.isObject(t)){var n=this.$$getKey(t),r=this.$getRecord(n);return r===t?r:null}return null},_assertNotDestroyed:function(t){if(this._isDestroyed)throw new Error("Cannot call "+t+" method on a destroyed $firebaseArray object")}},r.$extend=function(t,n){return 1===arguments.length&&angular.isObject(t)&&(n=t,t=function(e){return this instanceof t?(r.apply(this,arguments),this.$list):new t(e)}),e.inherit(t,r,n)},r}]),angular.module("firebase").factory("$FirebaseArray",["$log","$firebaseArray",function(t,e){return function(){return t.warn("$FirebaseArray has been renamed. Use $firebaseArray instead."),e.apply(null,arguments)}}])}(),function(){"use strict";var t;angular.module("firebase").factory("$firebaseAuth",["$q","$firebaseUtils",function(e,n){return function(r){var i=new t(e,n,r);return i.construct()}}]),t=function(t,e,n){if(this._q=t,this._utils=e,"string"==typeof n)throw new Error("Please provide a Firebase reference instead of a URL when creating a `$firebaseAuth` object.");this._ref=n,this._initialAuthResolver=this._initAuthResolver()},t.prototype={construct:function(){return this._object={$authWithCustomToken:this.authWithCustomToken.bind(this),$authAnonymously:this.authAnonymously.bind(this),$authWithPassword:this.authWithPassword.bind(this),$authWithOAuthPopup:this.authWithOAuthPopup.bind(this),$authWithOAuthRedirect:this.authWithOAuthRedirect.bind(this),$authWithOAuthToken:this.authWithOAuthToken.bind(this),$unauth:this.unauth.bind(this),$onAuth:this.onAuth.bind(this),$getAuth:this.getAuth.bind(this),$requireAuth:this.requireAuth.bind(this),$waitForAuth:this.waitForAuth.bind(this),$createUser:this.createUser.bind(this),$changePassword:this.changePassword.bind(this),$changeEmail:this.changeEmail.bind(this),$removeUser:this.removeUser.bind(this),$resetPassword:this.resetPassword.bind(this)},this._object},authWithCustomToken:function(t,e){var n=this._q.defer();try{this._ref.authWithCustomToken(t,this._utils.makeNodeResolver(n),e)}catch(r){n.reject(r)}return n.promise},authAnonymously:function(t){var e=this._q.defer();try{this._ref.authAnonymously(this._utils.makeNodeResolver(e),t)}catch(n){e.reject(n)}return e.promise},authWithPassword:function(t,e){var n=this._q.defer();try{this._ref.authWithPassword(t,this._utils.makeNodeResolver(n),e)}catch(r){n.reject(r)}return n.promise},authWithOAuthPopup:function(t,e){var n=this._q.defer();try{this._ref.authWithOAuthPopup(t,this._utils.makeNodeResolver(n),e)}catch(r){n.reject(r)}return n.promise},authWithOAuthRedirect:function(t,e){var n=this._q.defer();try{this._ref.authWithOAuthRedirect(t,this._utils.makeNodeResolver(n),e)}catch(r){n.reject(r)}return n.promise},authWithOAuthToken:function(t,e,n){var r=this._q.defer();try{this._ref.authWithOAuthToken(t,e,this._utils.makeNodeResolver(r),n)}catch(i){r.reject(i)}return r.promise},unauth:function(){null!==this.getAuth()&&this._ref.unauth()},onAuth:function(t,e){var n=this,r=this._utils.debounce(t,e,0);return this._ref.onAuth(r),function(){n._ref.offAuth(r)}},getAuth:function(){return this._ref.getAuth()},_routerMethodOnAuthPromise:function(t){var e=this._ref,n=this._utils;return this._initialAuthResolver.then(function(){var r=e.getAuth(),i=null;return i=t&&null===r?n.reject("AUTH_REQUIRED"):n.resolve(r)})},_initAuthResolver:function(){var t=this._ref;return this._utils.promise(function(e){function n(){t.offAuth(n),e()}t.onAuth(n)})},requireAuth:function(){return this._routerMethodOnAuthPromise(!0)},waitForAuth:function(){return this._routerMethodOnAuthPromise(!1)},createUser:function(t){var e=this._q.defer();if("string"==typeof t)throw new Error("$createUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.createUser(t,this._utils.makeNodeResolver(e))}catch(n){e.reject(n)}return e.promise},changePassword:function(t){var e=this._q.defer();if("string"==typeof t)throw new Error("$changePassword() expects an object containing 'email', 'oldPassword', and 'newPassword', but got a string.");try{this._ref.changePassword(t,this._utils.makeNodeResolver(e))}catch(n){e.reject(n)}return e.promise},changeEmail:function(t){var e=this._q.defer();if("function"!=typeof this._ref.changeEmail)throw new Error("$firebaseAuth.$changeEmail() requires Firebase version 2.1.0 or greater.");if("string"==typeof t)throw new Error("$changeEmail() expects an object containing 'oldEmail', 'newEmail', and 'password', but got a string.");try{this._ref.changeEmail(t,this._utils.makeNodeResolver(e))}catch(n){e.reject(n)}return e.promise},removeUser:function(t){var e=this._q.defer();if("string"==typeof t)throw new Error("$removeUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.removeUser(t,this._utils.makeNodeResolver(e))}catch(n){e.reject(n)}return e.promise},resetPassword:function(t){var e=this._q.defer();if("string"==typeof t)throw new Error("$resetPassword() expects an object containing 'email', but got a string.");try{this._ref.resetPassword(t,this._utils.makeNodeResolver(e))}catch(n){e.reject(n)}return e.promise}}}(),function(){"use strict";angular.module("firebase").factory("$firebaseObject",["$parse","$firebaseUtils","$log",function(t,e,n){function r(t){return this instanceof r?(this.$$conf={sync:new o(this,t),ref:t,binding:new i(this),listeners:[]},Object.defineProperty(this,"$$conf",{value:this.$$conf}),this.$id=e.getKey(t.ref()),this.$priority=null,e.applyDefaults(this,this.$$defaults),void this.$$conf.sync.init()):new r(t)}function i(t){this.subs=[],this.scope=null,this.key=null,this.rec=t}function o(t,r){function i(e){h.isDestroyed||(h.isDestroyed=!0,r.off("value",c),t=null,f(e||"destroyed"))}function o(){r.on("value",c,l),r.once("value",function(t){angular.isArray(t.val())&&n.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information. Also note that you probably wanted $firebaseArray and not $firebaseObject."),f(null)},f)}function a(e){s||(s=!0,e?u.reject(e):u.resolve(t))}var s=!1,u=e.defer(),c=e.batch(function(e){var n=t.$$updated(e);n&&t.$$notify()}),l=e.batch(function(e){a(e),t&&t.$$error(e)}),f=e.batch(a),h={isDestroyed:!1,destroy:i,init:o,ready:function(){return u.promise}};return h}return r.prototype={$save:function(){var t=this,n=t.$ref(),r=e.toJSON(t);return e.doSet(n,r).then(function(){return t.$$notify(),t.$ref()})},$remove:function(){var t=this;return e.trimKeys(t,{}),t.$value=null,e.doRemove(t.$ref()).then(function(){return t.$$notify(),t.$ref()})},$loaded:function(t,e){var n=this.$$conf.sync.ready();return arguments.length&&(n=n.then.call(n,t,e)),n},$ref:function(){return this.$$conf.ref},$bindTo:function(t,e){var n=this;return n.$loaded().then(function(){return n.$$conf.binding.bindTo(t,e)})},$watch:function(t,e){var n=this.$$conf.listeners;return n.push([t,e]),function(){var r=n.findIndex(function(n){return n[0]===t&&n[1]===e});r>-1&&n.splice(r,1)}},$destroy:function(t){var n=this;n.$isDestroyed||(n.$isDestroyed=!0,n.$$conf.sync.destroy(t),n.$$conf.binding.destroy(),e.each(n,function(t,e){delete n[e]}))},$$updated:function(t){var n=e.updateRec(this,t);return e.applyDefaults(this,this.$$defaults),n},$$error:function(t){n.error(t),this.$destroy(t)},$$scopeUpdated:function(t){var n=e.defer();return this.$ref().set(e.toJSON(t),e.makeNodeResolver(n)),n.promise},$$notify:function(){var t=this,e=this.$$conf.listeners.slice();angular.forEach(e,function(e){e[0].call(e[1],{event:"value",key:t.$id})})},forEach:function(t,n){return e.each(this,t,n)}},r.$extend=function(t,n){return 1===arguments.length&&angular.isObject(t)&&(n=t,t=function(e){return this instanceof t?void r.apply(this,arguments):new t(e)}),e.inherit(t,r,n)},i.prototype={assertNotBound:function(t){if(this.scope){var r="Cannot bind to "+t+" because this instance is already bound to "+this.key+"; one binding per instance (call unbind method or create another FirebaseObject instance)";return n.error(r),e.reject(r)}},bindTo:function(n,r){function i(i){function o(t){return angular.equals(t,l)&&t.$priority===l.$priority&&t.$value===l.$value}function a(t){c.assign(n,e.scopeData(t))}function s(){var t=c(n);return[t,t.$priority,t.$value]}var u=!1,c=t(r),l=i.rec;i.scope=n,i.varName=r;var f=e.debounce(function(t){var r=e.scopeData(t);l.$$scopeUpdated(r)["finally"](function(){u=!1,r.hasOwnProperty("$value")||(delete l.$value,delete c(n).$value)})},50,500),h=function(t){t=t[0],o(t)||(u=!0,f(t))},d=function(){u||o(c(n))||a(l)};return a(l),i.subs.push(n.$on("$destroy",i.unbind.bind(i))),i.subs.push(n.$watch(s,h,!0)),i.subs.push(l.$watch(d)),i.unbind.bind(i)}return this.assertNotBound(r)||i(this)},unbind:function(){this.scope&&(angular.forEach(this.subs,function(t){t()}),this.subs=[],this.scope=null,this.key=null)},destroy:function(){this.unbind(),this.rec=null}},r}]),angular.module("firebase").factory("$FirebaseObject",["$log","$firebaseObject",function(t,e){return function(){return t.warn("$FirebaseObject has been renamed. Use $firebaseObject instead."),e.apply(null,arguments)}}])}(),function(){"use strict";angular.module("firebase").factory("$firebase",function(){return function(){throw new Error("$firebase has been removed. You may instantiate $firebaseArray and $firebaseObject directly now. For simple write operations, just use the Firebase ref directly. See the AngularFire 1.0.0 changelog for details: https://www.firebase.com/docs/web/libraries/angular/changelog.html")}})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var n=this.length>>>0;for(e=+e||0,Math.abs(e)===1/0&&(e=0),0>e&&(e+=n,0>e&&(e=0));n>e;e++)if(this[e]===t)return e;return-1}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;r>o;o++)if(o in n&&(e=n[o],t.call(i,e,o,n)))return o;return-1}}),"function"!=typeof Object.create&&!function(){var t=function(){};Object.create=function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(null===e)throw new Error("Cannot set a null [[Prototype]]");if("object"!=typeof e)throw new TypeError("Argument must be an object");return t.prototype=e,new t}}(),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in i)t.call(i,o)&&s.push(o);if(e)for(a=0;r>a;a++)t.call(i,n[a])&&s.push(n[a]);return s}}()),"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(t){return t.__proto__}:Object.getPrototypeOf=function(t){return t.constructor.prototype}),function(){"use strict";function t(e){if(!angular.isObject(e))return e;var n=angular.isArray(e)?[]:{};return angular.forEach(e,function(e,r){("string"!=typeof r||"$"!==r.charAt(0))&&(n[r]=t(e))}),n}angular.module("firebase").factory("$firebaseConfig",["$firebaseArray","$firebaseObject","$injector",function(t,e,n){return function(r){var i=angular.extend({},r);return"string"==typeof i.objectFactory&&(i.objectFactory=n.get(i.objectFactory)),"string"==typeof i.arrayFactory&&(i.arrayFactory=n.get(i.arrayFactory)),angular.extend({arrayFactory:t,objectFactory:e},i)}}]).factory("$firebaseUtils",["$q","$timeout","$rootScope",function(e,n,r){function i(t){function n(t){i.resolve(t)}function r(t){i.reject(t)}if(!angular.isFunction(t))throw new Error("missing resolver function");var i=e.defer();return t(n,r),i.promise}var o={batch:function(t,e){return function(){var n=Array.prototype.slice.call(arguments,0);o.compile(function(){t.apply(e,n)})}},debounce:function(t,e,n,r){function i(){c&&(c(),c=null),u&&Date.now()-u>r?f||(f=!0,o.compile(a)):(u||(u=Date.now()),c=o.wait(a,n))}function a(){c=null,u=null,f=!1,t.apply(e,l)}function s(){l=Array.prototype.slice.call(arguments,0),i()}var u,c,l,f;if("number"==typeof e&&(r=n,n=e,e=null),"number"!=typeof n)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof t)throw new Error("Must provide a valid function to debounce");return r||(r=10*n||100),s.running=function(){return u>0},s},assertValidRef:function(t,e){if(!angular.isObject(t)||"function"!=typeof t.ref||"function"!=typeof t.ref().transaction)throw new Error(e||"Invalid Firebase reference")},inherit:function(t,e,n){var r=t.prototype;return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,angular.forEach(Object.keys(r),function(e){t.prototype[e]=r[e]}),angular.isObject(n)&&angular.extend(t.prototype,n),t},getPrototypeMethods:function(t,e,n){for(var r={},i=Object.getPrototypeOf({}),o=angular.isFunction(t)&&angular.isObject(t.prototype)?t.prototype:Object.getPrototypeOf(t);o&&o!==i;){for(var a in o)o.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=!0,e.call(n,o[a],a,o));o=Object.getPrototypeOf(o)}},getPublicMethods:function(t,e,n){o.getPrototypeMethods(t,function(t,r){"function"==typeof t&&"_"!==r.charAt(0)&&e.call(n,t,r)})},defer:e.defer,reject:e.reject,resolve:e.when,promise:angular.isFunction(e)?e:i,makeNodeResolver:function(t){return function(e,n){null===e?(arguments.length>2&&(n=Array.prototype.slice.call(arguments,1)),t.resolve(n)):t.reject(e)}},wait:function(t,e){var r=n(t,e||0);return function(){r&&(n.cancel(r),r=null)}},compile:function(t){return r.$evalAsync(t||function(){})},deepCopy:function(t){if(!angular.isObject(t))return t;var e=angular.isArray(t)?t.slice():angular.extend({},t);for(var n in e)e.hasOwnProperty(n)&&angular.isObject(e[n])&&(e[n]=o.deepCopy(e[n]));return e},trimKeys:function(t,e){o.each(t,function(n,r){e.hasOwnProperty(r)||delete t[r]})},scopeData:function(t){var e={$id:t.$id,$priority:t.$priority},n=!1;return o.each(t,function(t,r){n=!0,e[r]=o.deepCopy(t)}),!n&&t.hasOwnProperty("$value")&&(e.$value=t.$value),e},updateRec:function(t,e){var n=e.val(),r=angular.extend({},t);return angular.isObject(n)?delete t.$value:(t.$value=n,n={}),o.trimKeys(t,n),angular.extend(t,n),t.$priority=e.getPriority(),!angular.equals(r,t)||r.$value!==t.$value||r.$priority!==t.$priority},applyDefaults:function(t,e){return angular.isObject(e)&&angular.forEach(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)}),t},dataKeys:function(t){var e=[];return o.each(t,function(t,n){e.push(n)}),e},each:function(t,e,n){if(angular.isObject(t)){for(var r in t)if(t.hasOwnProperty(r)){var i=r.charAt(0);"_"!==i&&"$"!==i&&"."!==i&&e.call(n,t[r],r,t)}}else if(angular.isArray(t))for(var o=0,a=t.length;a>o;o++)e.call(n,t[o],o,t);return t},getKey:function(t){return"function"==typeof t.key?t.key():t.name()},toJSON:function(e){var n;return angular.isObject(e)||(e={$value:e}),angular.isFunction(e.toJSON)?n=e.toJSON():(n={},o.each(e,function(e,r){n[r]=t(e)})),angular.isDefined(e.$value)&&0===Object.keys(n).length&&null!==e.$value&&(n[".value"]=e.$value),angular.isDefined(e.$priority)&&Object.keys(n).length>0&&null!==e.$priority&&(n[".priority"]=e.$priority),angular.forEach(n,function(t,e){if(e.match(/[.$\[\]#\/]/)&&".value"!==e&&".priority"!==e)throw new Error("Invalid key "+e+" (cannot contain .$[]#)");if(angular.isUndefined(t))throw new Error("Key "+e+" was undefined. Cannot pass undefined in JSON. Use null instead.")}),n},doSet:function(t,e){var n=o.defer();if(angular.isFunction(t.set)||!angular.isObject(e))t.set(e,o.makeNodeResolver(n));else{var r=angular.extend({},e);t.once("value",function(e){e.forEach(function(t){r.hasOwnProperty(o.getKey(t))||(r[o.getKey(t)]=null)}),t.ref().update(r,o.makeNodeResolver(n))},function(t){n.reject(t)})}return n.promise},doRemove:function(t){var e=o.defer();return angular.isFunction(t.remove)?t.remove(o.makeNodeResolver(e)):t.once("value",function(n){var r=[];n.forEach(function(t){var n=o.defer();r.push(n.promise),t.ref().remove(o.makeNodeResolver(e))}),o.allPromises(r).then(function(){e.resolve(t)},function(t){e.reject(t)})},function(t){e.reject(t)}),e.promise},VERSION:"1.1.2",allPromises:e.all.bind(e)};return o}])}(),require=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){(function(e){e.Firebase&&(e.Firebase.util=t("firebase-util"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"firebase-util":void 0}],2:[function(t,e,n){n.NormalizedCollection=t("./libs/NormalizedCollection.js")},{"./libs/NormalizedCollection.js":6}],3:[function(t,e,n){"use strict";function r(t,e,n){var r=this;r._ref=null,r._map=t,r._name=e,r._url=n,r.lastMergedValue=o.undef,r._obs=new o.Observable(["child_added","child_removed","child_changed","child_moved","value"],{onAdd:function(t){var e=r._obs.getObservers(t).length;1===e&&r._start(t,r._obs.getObservers().length)},onRemove:function(t){var e=r._obs.getObservers(t).length;0===e&&r._stop(t,r._obs.getObservers().length)}})}function i(t){return function(){throw new Error("Classes implementing AbstractRecord must declare "+t)}}var o=t("../../common/");r.prototype={_start:i("_start"),_stop:i("_stop"),hasChild:i("hasChild"),forEachKey:i("forEach"),getChildSnaps:i("getChildSnaps"),mergeData:i("mergeData"),getClass:i("getClass"),saveData:i("saveData"),getPriority:i("getPriority"),makeChild:i("makeChild"),watch:function(t,e,n,r){this._obs.observe(t,e,n,r)},unwatch:function(t,e,n){this._obs.stopObserving(t,e,n)},getFieldMap:function(){return this._map},getPathManager:function(){return this._map.getPathManager()},setRef:function(t){this._ref=t},getRef:function(){return this._ref},child:function(t){return this.getRef().ref().child(t).$getRecord()},getName:function(){return this._name},getUrl:function(){return this._url},trigger:function(t){o.log.debug("AbstractRecord._trigger: %s",t.toString()),this._obs.triggerEvent(t.event,t.create(this.getRef()))},_cancel:function(t){o.error(t),this._obs.abortObservers(t)}},e.exports=r},{"../../common/":25}],4:[function(t,e,n){"use strict";function r(t){this.fields={},this.length=0,this.pathMgr=t}function i(t,e){return c.find(t,function(t){return t.pathName===e.path&&t.id===e.field})||null}function o(t){this.path=t.path,this.id=t.id,this.key=t.key,this.alias=t.alias,this.url=t.url,this.pathName=t.pathName,this.isNested=t.alias.indexOf(".")>=0}function a(t,e){if(t instanceof o)return c.pick(t,["path","id","key","alias","pathName","url"]);"string"==typeof t&&(t={key:t});var n=t.key.split("."),r=e.getPath(n[0]);return{pathName:n[0],id:n[1],key:t.key,alias:t.alias||n[1],path:r,url:r?r.url()+"/"+n[1]:null}}function s(t,e,n){if(null!==n){if(e.indexOf(".")>0){for(var r,i=e.split(".").reverse();i.length>1&&(r=i.pop());)t=t[r]=c.has(t,r)?t[r]:{};e=i.pop()}t[e]=n}}function u(t,e){var n=e;if(!c.isObject(t))return c.undef;var r=t[e];if(e.indexOf(".")>0){var i=e.split(".").reverse();for(r=t;i.length;)n=i.pop(),r=c.isObject(r)&&r.hasOwnProperty(n)?r[n]:c.undef}return r}var c=t("../../common"),l=t("./PathManager");r.prototype={add:function(t){var e=new o(a(t,this.pathMgr));if(this.fields.hasOwnProperty(e.alias))throw new Error("Duplicate field alias "+e.alias+"("+e.key+")");if(null===e.path)throw new Error("Invalid path specified for field "+e.key+"; it was not in the paths provided, which are : "+this.pathMgr.getPathNames().join(","));var n=e.path.getDependency();if(null!==n&&null===i(this.fields,n))throw new Error("Dynamic paths must reference a field declared in the map. Please add "+r.key(n.path,n.field)+" to the select() criteria before using it in a dynamic field");this.fields[e.alias]=e,this.length++},forEach:function(t,e){return c.find(this.fields,t,e)!==c.undef},getField:function(t){return this.fields[t]||null},getPath:function(t){return this.getPathManager().getPath(t)},getPathManager:function(){return this.pathMgr},pathFor:function(t){var e=this.getField(t);return e?e.path:this.pathMgr.first()},fieldsFor:function(t){return c.filter(c.toArray(this.fields),function(e){return e.pathName===t})},aliasFor:function(t){var e=c.find(this.fields,function(e){return e.url===t},this);return e?e.alias:null},extractData:function(t,e){var n={},r=this.pathMgr.getPathName(t.ref().toString());if(null===r&&null!==t.ref().parent()){var i=this.pathMgr.getPathFor(t.ref().parent().toString());i&&i.hasDependency()&&(r=i.name())}var o=e?"exportVal":"val";return c.each(this.fieldsFor(r),function(e){switch(e.id){case"$key":s(n,e.alias,t.key());break;case"$value":s(n,e.alias,t[o]());break;default:t.hasChild(e.id)&&s(n,e.alias,t.child(e.id)[o]())}}),n},snapFor:function(t,e){var n,r=this.pathFor(e);if(!r)return null;var o=r.getDependency();if(null!==o){var a=i(this.fields,o),s=this.snapFor(t,a.alias);s&&(n="$key"===o.field?r.child(s.key()).url():"$value"===o.field?r.child(s.val()).url():r.child(s.child(o.field).val()).url())}else n=r.url();return n?c.find(t,function(t){return t.ref().toString()===n})||null:null},denest:function(t){var e={};return c.each(this.getPathManager().getPaths(),function(t){e[t.name()]={path:t,data:{}}}),this.forEach(function(n){var r=u(t,n.alias);if(r!==c.undef)switch(n.id){case"$value":e[n.pathName].data=r;break;case"$key":break;default:e[n.pathName].data[n.id]=r}}),e},idFor:function(t){var e=this.getField(t);return e?e.id:t}},r.key=function(t,e){return"string"!=typeof t&&(t=t.name()),t+"."+e},r.fieldMap=function(t,e){var n,i=t.getField(e);i?(n=i.path,"$value"!==i.id&&(n=n.child(i.id))):n=t.pathFor(e).child(e);var o=new l([n]),a=new r(o);return a.add({key:r.key(n,"$value"),alias:e}),a},r.recordMap=function(t,e){var n=t.getPathManager(),i=c.map(n.getPaths(),function(t){return t.normChild(e)}),o=new r(new l(i));return t.forEach(function(t){o.add({key:t.key,alias:t.alias})}),o},e.exports=r},{"../../common":25,"./PathManager":10}],5:[function(t,e,n){"use strict";function r(){this.criteria=[],o.each(arguments,this.add,this)}function i(t){this.match=t}var o=t("../../common");r.prototype={add:function(t){this.criteria.push(new i(t))},test:function(t,e,n){return o.contains(this.criteria,function(r){return!r.test(t,e,n)})===!1}},i.prototype.test=function(t,e,n){return this.match(t,e,n)===!0},e.exports=r},{"../../common":25}],6:[function(t,e,n){"use strict";function r(t){i(arguments),this.pathMgr=new c(arguments),this.map=new f(this.pathMgr),this.filters=new l,this.finalized=!1}function i(t){function e(t){return u.isArray(t)&&(t=t[0]),!u.isFirebaseRef(t)}if(t.length<1)throw new Error("Must provide at least one path definition");if(u.contains(t,e))throw new Error("Each argument to the NormalizedCollection constructor must be a valid Firebase reference or an Array containing a Firebase ref as the first argument")}function o(t,e){if(t.finalized)throw new Error("Cannot call "+e+"() after ref() has been invoked")}function a(t){var e=[],n=[],r="";return u.each(t.pathMgr.getPaths(),function(t){var n=t.getDependency();e.push(u.printf('	"%s%s"%s',t.url(),t.id()===t.name()?"":" as "+t.name(),n?"-> "+n.path+"."+n.field:""))}),t.map.forEach(function(t){n.push(u.printf('"%s%s"',t.key,t.alias===t.id?"":" as "+t.alias)),n.length%5===0&&n.push("\n")}),t.filters.criteria.length>0&&(r=u.printf("<%s filters applied>",t.filters.criteria.length)),u.printf("NormalizedCollection(\n%s\n).select(%s)%s.ref()",e.join("\n"),n.join(", "),r)}function s(t){var e;if(e="string"==typeof t?t:u.has(t,"key")?t.key:u.undef,"string"!=typeof e||e.indexOf(".")<=0)throw new Error('Each field passed to NormalizedCollection.select() must either be a string in the format "pathAlias.fieldId", or an object in the format {key: "pathAlias.fieldId", alias: "any_name_for_field"}, but I received '+JSON.stringify(t))}var u=t("../../common"),c=t("./PathManager"),l=t("./Filter"),f=t("./FieldMap"),h=t("./NormalizedRef"),d=t("./RecordSet");r.prototype={select:function(t){o(this,"select");var e=u.args("NormalizedCollection.select",arguments,1);return u.each(e.restAsList(0,["string","object"]),function(t){s(t),this.map.add(t)},this),this},filter:function(t){o(this,"filter");var e=u.args("NormalizedCollection.filter",arguments,1,1);return this.filters.add(e.nextReq("function")),this},ref:function(){if(!this.map.length)throw new Error("Must call select() with at least one field before creating a ref");this.finalized=!0,u.log.isInfoEnabled()&&u.log.info("NormalizedRef created using %s",a(this));var t=new d(this.map,this.filters);return new h(t)}},e.exports=r},{"../../common":25,"./FieldMap":4,"./Filter":5,"./NormalizedRef":7,"./PathManager":10,"./RecordSet":14}],7:[function(t,e,n){"use strict";function r(t,e){this._super(this,t),this._parent=e||null,this._key=t.getName(),this._toString=t.getUrl()}function i(t){return function(){var e=s.toArray(arguments);s.each(this.$getPaths(),function(n){var r=n.ref();r[t].apply(r,e)})}}function o(t){return function(){var e=s.toArray(arguments),n=this.$getMaster();return n[t].apply(n,e)}}function a(t){return function(){throw new Error(t+" is not supported for NormalizedCollection references. Try calling it on the original reference used to create the NormalizedCollection instead.")}}var s=t("../../common"),u=t("./Query");s.inherits(r,u,{child:function(t){for(var e=t.split("/").reverse(),n=this,i=this;e.length;){var o=e.pop();i=new r(i.$getRecord().makeChild(o),n),n=i}return i},parent:function(){return this._parent},root:function(){for(var t=this;null!==t.parent();)t=t.parent();return t},name:function(){return this.key()},key:function(){return this._key},toString:function(){return this._toString},set:function(t,e,n){this.$getRecord().saveData(t,{callback:e,context:n,isUpdate:!1})},update:function(t,e,n){this.$getRecord().saveData(t,{callback:e,context:n,isUpdate:!0})},remove:function(t,e){this.$getRecord().saveData(null,{callback:t,context:e,isUpdate:!1})},push:function(t,e,n){var r=this.$getMaster().push().key(),i=this.child(r);return arguments.length&&i.set.apply(i,arguments),i},setWithPriority:function(t,e,n,r){this.$getRecord().saveData(t,{callback:n,context:r,isUpdate:!1,priority:e})},setPriority:function(t,e,n){this.$getMaster().setPriority(t,e,n)},auth:o("auth"),unauth:o("unauth"),authWithCustomToken:o("authWithCustomToken"),authAnonymously:o("authAnonymously"),authWithPassword:o("authWithPassword"),authWithOAuthPopup:o("authWithOAuthPopup"),authWithOAuthRedirect:o("authWithOAuthRedirect"),authWithOAuthToken:o("authWithOAuthToken"),getAuth:o("getAuth"),onAuth:o("onAuth"),offAuth:o("offAuth"),createUser:o("createUser"),changePassword:o("changePassword"),removeUser:o("removeUser"),resetPassword:o("resetPassword"),changeEmail:o("changeEmail"),goOffline:i("goOffline"),goOnline:i("goOnline"),transaction:a("transaction"),onDisconnect:a("onDisconnect")}),e.exports=r},{"../../common":25,"./Query":11}],8:[function(t,e,n){"use strict";function r(t,e){if(this._ref=t,this._rec=t.$getRecord(),!i.isArray(e))throw new Error("Must provide an array of snapshots to merge");this._pri=this._rec.getPriority(e),this._snaps=e}var i=t("../../common");r.prototype={val:function(){return this._snaps.length?this._rec.mergeData(this._snaps,!1):null},child:function(t){var e,n=t.split("/").reverse(),i=n.pop();for(e=new r(this._ref.child(i),this._rec.getChildSnaps(this._snaps,i));n.length;)e=e.child(n.pop());return e},forEach:function(t,e){return this._rec.forEachKey(this._snaps,function(n,r){return"$value"===n||"$key"===n?!1:t.call(e,this.child(r))},this)},hasChild:function(t){for(var e=t.split("/").reverse(),n=e.length>0,r=this._ref,i=this;n&&e.length;){var o=e.pop();n=r.$getRecord().hasChild(i._snaps,o),n&&e.length&&(r=r.child(o),i=i.child(o))}return n},hasChildren:function(){return this._rec.forEachKey(this._snaps,function(t){return"$key"!==t&&"$value"!==t})},name:function(){return this.key()},key:function(){return this._rec.getName()},numChildren:function(){var t=0;return this._rec.forEachKey(this._snaps,function(e){"$key"!==e&&"$value"!==e&&t++}),t},ref:function(){return this._ref.ref()},getPriority:function(){return this._pri},exportVal:function(){return this._rec.mergeData(this._snaps,!0)},exists:function(){return null!==this.val()}},e.exports=r},{"../../common":25}],9:[function(t,e,n){"use strict";function r(t,e){var n=i(t);this._ref=n.ref,this._alias=n.alias,this._dep=n.dep,this._parent=e||null}function i(t){var e,n,r=null;return a.isArray(t)?(e=t[0],n=t[1],r=t[2]):e=a.isFunction(t.ref)?t.ref():t,{ref:e,alias:n||e.key(),dep:o(r)}}function o(t){if(a.isObject(t))return t;if(t){var e=t.split(".");return{path:e[0],field:e[1]}}return null}var a=t("../../common");r.prototype={ref:function(){return this._ref},reff:function(){return this.ref().ref()},child:function(t){return new r(this.reff().child(t),this)},normChild:function(t){var e=this.getDependency();return null!==e?new r([this.reff(),this.name(),e.path+"."+e.field],this):new r([this.reff().child(t),this.name()],this)},hasDependency:function(){return null!==this._dep},getDependency:function(){return this._dep},url:function(){return this.reff().toString()},name:function(){return this._alias},id:function(){return this.reff().key()},parent:function(){return this._parent},clone:function(){return new r([this._ref,this._alias,this._dep],this._parent)}},e.exports=r},{"../../common":25}],10:[function(t,e,n){"use strict";function r(t){
this.paths=[],this.pathsByUrl={},this.deps={},this.pathNames=[],a.each(t,this.add,this)}function i(t,e){return a.map(t,function(t){return e[t].path+"."+e[t].field}).join(" >> ")}var o=t("./Path"),a=t("../../common");r.prototype={add:function(t){var e=t instanceof o?t.clone():new o(t);if(!this.paths.length&&e.hasDependency())throw new Error("The master path (i.e. the first) may not declare a dependency. Perhaps you have put the wrong path first in the list?");if(a.has(this.pathsByUrl,e.url()))throw new Error("Duplicate path: "+e.url());if(a.contains(this.pathNames,e.name()))throw new Error("Duplicate path name. The .key() value for each path must be unique, or you can give each a path an alias by using [firebaseRef, alias] in the constructor. The aliases must also be unique.");this._map(e),this.paths.push(e),this.pathsByUrl[e.url()]=e.name(),this.pathNames.push(e.name())},count:function(){return this.paths.length},first:function(){return this.paths[0]},getPath:function(t){return a.find(this.paths,function(e){return e.name()===t})||null},getPathFor:function(t){var e=this.getPathName(t);return e?this.getPath(e):null},getPaths:function(){return this.paths.slice()},getPathName:function(t){return this.pathsByUrl[t]||null},getPathNames:function(){return this.pathNames.slice()},getUrls:function(){return a.keys(this.pathsByUrl)},getDependencyGraph:function(){return a.extend(!0,this.deps)},_map:function(t){var e=this.first(),n=t.getDependency();!n&&e&&(n={path:e.name(),field:"$key"}),n&&(this.deps[t.name()]=n,this._assertNotCircularDep(t.name()))},_assertNotCircularDep:function(t){for(var e=[t],n=this.deps[t];a.isDefined(n);){var r=n.path;if(a.contains(e,r))throw e.push(r),new Error("Circular dependencies in paths: "+i(e,this.deps));e.push(r),n=a.val(this.deps,r)}}},e.exports=r},{"../../common":25,"./Path":9}],11:[function(t,e,n){"use strict";function r(t,e){var n=this;n._ref=t,n._rec=e,e&&e.setRef(n)}var i=t("../../common"),o=t("./Transmogrifier");r.prototype={on:function(t,e,n,r){function o(t){"function"==typeof n&&null!==t&&n.call(r,t)}return 3===arguments.length&&i.isObject(n)&&(r=n,n=i.undef),this.$getRecord().watch(t,e,o,r),e},once:function(t,e,n,r){function o(n){s.off(t,o),e.call(r,n)}function a(t){"function"==typeof n&&null!==t&&n.call(r,t)}var s=this;return 3===arguments.length&&i.isObject(n)&&(r=n,n=i.undef),this.on(t,o,a)},off:function(t,e,n){this.$getRecord().unwatch(t,e,n)},orderByChild:function(){return this.$replicate("orderByChild",i.toArray(arguments))},orderByKey:function(){return this.$replicate("orderByKey",i.toArray(arguments))},orderByValue:function(){return this.$replicate("orderByValue",i.toArray(arguments))},orderByPriority:function(){return this.$replicate("orderByPriority",i.toArray(arguments))},limitToFirst:function(){return this.$replicate("limitToFirst",i.toArray(arguments))},limitToLast:function(){return this.$replicate("limitToLast",i.toArray(arguments))},limit:function(){return this.$replicate("limit",i.toArray(arguments))},startAt:function(){return this.$replicate("startAt",i.toArray(arguments))},endAt:function(){return this.$replicate("endAt",i.toArray(arguments))},equalTo:function(){return this.$replicate("equalTo",i.toArray(arguments))},ref:function(){return this._ref},$getRecord:function(){return this._rec},$getMaster:function(){return this._rec.getPathManager().first().ref()},$getPaths:function(){return this._rec.getPathManager().getPaths()},$replicate:function(t,e){var n=this.$getRecord(),i=this.$getMaster();return i=i[t].apply(i,e),new r(this._ref,o.replicate(n,i))}},i.registerFirebaseWrapper(r),e.exports=r},{"../../common":25,"./Transmogrifier":17}],12:[function(t,e,n){"use strict";function r(t){var e=t.getPathManager().first().id(),n=h.mergeToString(t.getPathManager().getUrls());this._super(t,e,n),this._eventManagers={},h.log.debug("Record created",this.getName(),this.getUrl())}function i(t){this.rec=t,this.pm=t.getPathManager(),this.running=!1,this._init()}function o(t,e){this.event=t,this.rec=e,this.map=e.getFieldMap(),this.pm=e.getPathManager(),this.subs=[],this.dyno=null}function a(t,e,n,r){var i=t.getDependency(),o=e.getPath(i.path),a=o.ref();if("$key"===i.field)throw new Error("Dynamic paths do not support $key (you should probably just join on this path)");"$value"!==i.field&&(a=a.child(i.field));var s,u=a.on("value",function(e){s&&s.key()!==e.val()&&(h.log.debug("Record.Dyno: stopped monitoring %s",s.toString()),s.off(n,r),r(null)),null!==e.val()&&(s=t.ref().child(e.val()),s.on(n,r),h.log("Record.Dyno: monitoring %s",s.toString()))});this.dispose=function(){a.off("value",u),s&&s.off(n,r)}}function s(t,e,n){h.each(t.fieldsFor(e.name()),function(t){switch(t.id){case"$key":break;case"$value":h.has(n,".value")||(n[".value"]=null);break;default:h.has(n,t.id)||(n[t.id]=null)}})}var u=t("./FieldMap"),c=t("./RecordField"),l=t("./AbstractRecord"),f=t("./SnapshotFactory"),h=t("../../common");h.inherits(r,l,{makeChild:function(t){var e=u.fieldMap(this.getFieldMap(),t);return new c(e)},hasChild:function(t,e){var n=this.getFieldMap().getField(e);if(!n)return!1;var r=this.getFieldMap().snapFor(t,e);return null!==r&&r.hasChild(e)},getChildSnaps:function(t,e){var n,r=this.getFieldMap().snapFor(t,e),i=this.getFieldMap().getField(e);if(i)switch(i.id){case"$key":throw new Error("Cannot get child snapshot from key (not a real child element)");case"$value":n=r;break;default:n=r.child(i.id)}else n=r.child(e);return[n]},forEachKey:function(t,e,n){function r(t,e){switch(e){case"$key":return!0;case"$value":return t&&null!==t.val();default:return t&&t.hasChild(e)}}var i=this.getFieldMap();return i.forEach(function(o){var a=i.snapFor(t,o.alias);return r(a,o.id)?e.call(n,o.id,o.alias)===!0:!1})},mergeData:function(t,e){var n=null,r=this.getFieldMap();return t.length>0&&null!==t[0].val()&&(n=h.extend.apply(null,h.map(t,function(t){return r.extractData(t,e)})),e&&null!==n&&null!==t[0].getPriority()&&(h.isObject(n)||(n={".value":n}),n[".priority"]=t[0].getPriority())),n},getPriority:function(t){return t[0].getPriority()},getClass:function(){return r},saveData:function(t,e){var n=h.queue(),r=this.getFieldMap(),i=this.getPathManager().getPaths();if(e.isUpdate&&!h.isObject(t))throw new Error("First argument to update() command must be an object");if(null===t)h.each(i,function(t){t.hasDependency()||t.reff().remove(n.getHandler())});else if(h.isObject(t)){var o=r.denest(t);h.each(o,function(t){var a=t.path,u=t.data,c=this._writeRef(o,a);null!==c?h.isEmpty(u)&&e.isUpdate||(h.isObject(u)||(u={".value":u}),e.isUpdate||s(r,a,u),h.isDefined(e.priority)&&(u[".priority"]=e.priority),h.has(u,".value")?c.set(u,n.getHandler()):c.update(u,n.getHandler())):h.log.info("No dynamic key found for master",i[0].ref().toString(),"with dynamic path",a.ref().toString())},this)}else{if(1!==i.length)throw new Error("Cannot set multiple paths to a non-object value. Since this is a NormalizedCollection, the data will be split between the paths. But I can't split a primitive value");h.isDefined(e.priority)?i[0].ref().setWithPriority(t,e.priority,n.getHandler()):i[0].ref().set(t,n.getHandler())}n.handler(e.callback||h.noop,e.context)},getName:function(){return this._name},getUrl:function(){return this._url},_start:function(t){h.has(this._eventManagers,t)||(h.log.debug("Record._start: event=%s, url=%s",t,this.getUrl()),this._eventManagers[t]="value"===t?new i(this):new o(t,this)),this._eventManagers[t].start()},_stop:function(t){h.has(this._eventManagers,t)&&(h.log.debug("Record._stop: event=%s, url=%s",t,this.getUrl()),this._eventManagers[t].stop())},_writeRef:function(t,e){var n=e.reff(),r=e.getDependency();if(null!==r){var i=this.getPathManager().getPath(r.path),o=this._depKey(t,i,r.field);n=null===o?null:n.child(o)}return n},_depKey:function(t,e,n){var r,i=t[e.name()].data;switch(n){case"$key":r=e.id();break;case"$value":r=h.has(i,".value")?i[".value"]:h.isEmpty(i)?null:i;break;default:r=h.has(i,n)?i[n]:null}var o=typeof r;if(null!==r&&"string"!==o)throw new Error("Dynamic key values must be a string. Type was "+o+" for "+e.ref().toString()+"->"+n);return r}}),i.prototype={start:function(){this.running||(this.running=!0,h.each(this.pm.getPathNames(),this._startPath,this))},stop:function(){this.running&&(this.running=!1,h.each(this.subs,function(t){t()}),this._init())},update:function(t,e){this.snaps[t]=e,this._checkLoadState(),h.log("Record.ValueEventManager.update: url=%s, loadCompleted=%s",e.ref().toString(),this.loadCompleted),this.loadCompleted&&this.rec.trigger(new f("value",this.rec.getName(),h.toArray(this.snaps)))},_startPath:function(t){var e=this,n=e.pm.getPath(t),r=h.bind(e.update,e,t);if(n.hasDependency()){var i=new a(n,this.rec.getFieldMap(),"value",r);this.subs.push(i.dispose)}else n.ref().on("value",r),e.subs.push(function(){n.ref().off("value",r)})},_checkLoadState:function(){if(!this.loadCompleted){var t=this.snaps,e=this.pm.getPathNames();this.loadCompleted=!h.contains(e,function(e){return!t.hasOwnProperty(e)})}},_init:function(){this.loadCompleted=!1,this.snaps={},this.subs=[]}},o.prototype={start:function(){h.each(this.pm.getPathNames(),function(t){var e=this.event,n=this.pm.getPath(t),r=h.bind(this.update,this);n.hasDependency()?(this.dyno=new a(n,this.map,e,r),this.subs.push(this.dyno.dispose)):(n.ref().on(e,r),this.subs.push(function(){n.ref().off(e,r)}))},this)},stop:function(){h.each(this.subs,function(t){t()}),this.subs=[]},update:function(t,e){null!==t&&null!==this.map.aliasFor(t.ref().toString())&&(h.log("Record.ChildEventManager.update: event=%s, key=%s/%s",this.event,t.ref().parent().key(),t.key()),this.rec.trigger(new f(this.event,t.key(),t,e)))}},e.exports=r},{"../../common":25,"./AbstractRecord":3,"./FieldMap":4,"./RecordField":13,"./SnapshotFactory":16}],13:[function(t,e,n){"use strict";function r(t){if(this.handlers={},this.path=t.getPathManager().first(),this._super(t,this.path.name(),this.path.url()),1!==t.getPathManager().count())throw new Error("RecordField must have exactly one path, but we got "+t.getPathManager().count());if(1!==t.length)throw new Error("RecordField must have exactly one field, but we found "+t.length);c.log.debug("RecordField created",this.getName(),this.getUrl())}function i(t){return t.callback?function(){t.callback.apply(t.context,arguments)}:c.noop}var o=t("./PathManager"),a=t("./FieldMap"),s=t("./AbstractRecord"),u=t("./SnapshotFactory"),c=t("../../common");c.inherits(r,s,{makeChild:function(t){var e=new o([this.path.child(t)]),n=new a(e);return n.add({key:a.key(e.first(),"$value"),alias:t}),new r(n)},hasChild:function(t,e){return t[0].hasChild(e)},getChildSnaps:function(t,e){return[t[0].child(e)]},mergeData:function(t,e){return e?t[0].exportVal():t[0].val()},getPriority:function(t){return t[0].getPriority()},forEachKey:function(t,e,n){var r=t[0];return r.forEach(function(t){e.call(n,t.key(),t.key())})},saveData:function(t,e){var n=this.path.ref();if(e.isUpdate){if(!c.isObject(t))throw new Error("When using update(), the data must be an object.");c.has(e,"priority")&&(t[".priority"]=e.priority),n.update(t,i(e))}else c.has(e,"priority")?n.setWithPriority(t,e.priority,i(e)):n.set(t,i(e))},getClass:function(){return r},_start:function(t){var e=this;this.handlers[t]=function(n,r){e.trigger(new u(t,n.key(),n,r))},this.path.ref().on(t,this.handlers[t],this._cancel,this)},_stop:function(t){this.handlers.hasOwnProperty(t)&&this.path.ref().off(t,this.handlers[t],this)}}),e.exports=r},{"../../common":25,"./AbstractRecord":3,"./FieldMap":4,"./PathManager":10,"./SnapshotFactory":16}],14:[function(t,e,n){"use strict";function r(t,e){var n=a.mergeToString(t.getPathManager().getPathNames()),r=a.mergeToString(t.getPathManager().getUrls());this._super(t,n,r),this.filters=e,this.monitor=new u(this)}var i=t("./Record"),o=t("./AbstractRecord"),a=t("../../common"),s=t("./FieldMap"),u=t("./RecordSetEventManager");a.inherits(r,o,{makeChild:function(t){var e=s.recordMap(this.getFieldMap(),t);return new i(e)},hasChild:function(t,e){return a.contains(t,function(t){return t.key()===e})},getChildSnaps:function(t,e){return a.filter(t,function(t){return t.key()===e})},mergeData:function(t,e){var n=this,r=null;return t.length&&null!==t[0].val()&&(r={},a.each(t,function(t){null!==t.val()&&n.filters.test(t.val(),t.key(),t.getPriority())&&(r[t.key()]=e?t.exportVal():t.val())})),r},getPriority:function(){return null},forEachKey:function(t,e,n){t.forEach(function(t){return e.call(n,t.key(),t.key())})},getClass:function(){return r},saveData:function(t,e){var n=a.queue();if(null===t)a.each(this.getPathManager().getPaths(),function(t){t.ref().remove(n.getHandler())});else{if(!a.isObject(t))throw new Error("Calls to set() or update() on a NormalizedCollection must pass either null or an object value. There is no way to split a primitive value between the paths");a.each(t,function(t,r){if(".value"===r||".priority"===r)throw new Error("Cannot use .priority or .value on the root path of a NormalizedCollection. You probably meant to sort the records anyway (i.e. one level lower).");this.child(r).saveData(t,{isUpdate:e.isUpdate,callback:n.getHandler()})},this),e.priority&&this.getPathManager().first().ref().setPriority(e.priority,n.getHandler())}n.handler(e.callback||a.noop,e.context)},_getChildKey:function(t,e,n){var r=n,i=this.getPathManager().getPathFor(t.ref().toString());if(i.hasDependency()){var o=i.getDependency(),s=this.getFieldMap().getPath(o.path);if(!s)throw new Error("Invalid dependency path. "+t.ref.toString()+" depends on "+o.path+", but that alias does not exist in the paths provided.");var u=a.find(e,function(t){return t.ref().toString()===s.url()});u?(u=u.child(n),"$value"!==o.field&&(u=u.child(o.field)),r=u.val()):r=null}return r},_start:function(){this.monitor.start()},_stop:function(t,e){0===e&&this.monitor.stop()}}),e.exports=r},{"../../common":25,"./AbstractRecord":3,"./FieldMap":4,"./Record":12,"./RecordSetEventManager":15}],15:[function(t,e,n){"use strict";function r(t){var e=t.getPathManager();this.masterRef=e.first().ref(),this.url=this.masterRef.toString(),this.recList=new i(t,this.url),this.running=!1}function i(t,e){this.obs=t,this.url=e,this._reset()}var o=t("./SnapshotFactory"),a=t("../../common");r.prototype={start:function(){return this.running||(a.log("RecordSetEventManager: Loading normalized records from master list %s",this.url),this.running=!0,this.masterRef.on("child_added",this._add,this),this.masterRef.on("child_removed",this._remove,this),this.masterRef.on("child_moved",this._move,this),this.masterRef.once("value",this.recList.masterPathLoaded,this.recList)),this},stop:function(){return this.running&&(a.log("RecordSetEventManager: Stopped monitoring master list %s",this.url),this.running=!1,this.masterRef.off("child_added",this._add,this),this.masterRef.off("child_removed",this._remove,this),this.masterRef.off("child_moved",this._move,this),this.recList.unloaded()),this},_add:function(t,e){this.recList.add(t.key(),e)},_remove:function(t){this.recList.remove(t.key())},_move:function(t,e){this.recList.move(t.key(),e)}},i.prototype={add:function(t,e){a.log.debug("RecordList.add: key=%s, prevChild=%s",t,e);var n=this.obs.child(t),r=a.bind(this._valueUpdated,this,t);this.loading[t]={rec:n,prev:e,fn:r,unwatch:function(){n.unwatch("value",r)}},this.loadComplete||this.initialKeysLeft.push(t),n.watch("value",r)},remove:function(t){a.log.debug("RecordList.remove: key=%s",t);var e=this._dropRecord(t);null!==e&&this._notify("child_removed",t,e)},move:function(t,e){if(a.has(this.recs,t)){var n=a.indexOf(this.recIds,t);this.recIds.splice(n,1),this._putAfter(t,e),this._notify("child_moved",t)}},masterPathLoaded:function(){a.log.debug("RecordList: Initial data has been loaded from master list at %s",this.url),this.masterLoaded=!0,this._checkLoadState()&&this._notifyValue()},unloaded:function(){this._reset()},findKey:function(t){return a.indexOf(this.recIds,t)},_reset:function(){a.each(this.recs,function(t,e){this.remove(e)},this),a.each(this.filtered,function(t,e){this._dropRecord(e)},this),a.each(this.loading,function(t,e){this._dropRecord(e)},this),this.recs={},this.recIds=[],this.snaps={},this.loading={},this.filtered={},this.loadComplete=!1,this.initialKeysLeft=[],this.masterLoaded=!1},_valueUpdated:function(t,e){var n;this.snaps[t]=e,a.has(this.loading,t)?(n=this.loading[t],delete this.loading[t],this._processAdd(e,n)):a.has(this.recs,t)?(n=this.recs[t],this._processChange(e,n)):a.has(this.filtered,t)?null!==e.val()&&this.obs.filters.test(e.val(),t,e.getPriority())&&(n=this.filtered[t],delete this.filtered[t],a.log("RecordList: Unfiltered key %s",t),this._processAdd(e,n)):a.log("RecordList: Orphan key %s ignored. Probably a concurrent edit.",t)},_processAdd:function(t,e){var n=t.key();this.obs.filters.test(t.val(),n,t.getPriority())?(this.recs[n]=e,this._putAfter(n,e.prev),this._notify("child_added",n)):(a.log("RecordList: Filtered key %s",n),this.filtered[n]=e),this._checkLoadState(n)&&this._notifyValue()},_processChange:function(t,e){if(null!==t.val()){var n=t.key();this.obs.filters.test(t.val(),n,t.getPriority())?this._notify("child_changed",n):(delete this.recs[n],this.filtered[n]=e,this._notify("child_removed",n,this.snaps[n]))}},_notify:function(t,e,n){var r;("child_added"===t||"child_moved"===t)&&(r=this._getPrevChild(e)),a.log("RecordList._notify: event=%s, key=%s, prev=%s",t,e,r);var i=new o(t,e,n||this.snaps[e],r);this.obs.trigger(i),this._notifyValue()},_notifyValue:function(){if(this.loadComplete){a.log.debug("RecordList._notifyValue: snap_keys=%s",a.keys(this.snaps));var t=new o("value",null,a.toArray(this.snaps));this.obs.trigger(t)}},_getPrevChild:function(t){if(!this.recIds.length)return null;var e=this.findKey(t);return-1===e?this.recIds[this.recIds.length-1]:0===e?null:this.recIds[e-1]},_posFor:function(t){var e,n;return null===t?e=0:(n=this.findKey(t),e=-1===n?this.recIds.length:n+1),e},_putAfter:function(t,e){var n=this._posFor(e);this.recIds.splice(n,0,t)},_dropRecord:function(t){var e=null;return this.recs[t]&&(e=this.snaps[t],this.recs[t].unwatch()),this.loading[t]&&this.loading[t].unwatch(),a.has(this.filtered,t)&&this.filtered[t].unwatch(),delete this.loading[t],delete this.snaps[t],delete this.filtered[t],delete this.recs[t],a.remove(this.recIds,t),e},_checkLoadState:function(t){return this.loadComplete||(t&&a.remove(this.initialKeysLeft,t),this.initialKeysLeft.length||!this.masterLoaded)?!1:(this.loadComplete=!0,!0)}},e.exports=r},{"../../common":25,"./SnapshotFactory":16}],16:[function(t,e,n){"use strict";function r(t,e,n,r){this.event=t,this.key=e,this.snaps=o(n),this.prevChild=r,i(this)}function i(t){switch(t.event){case"value":break;case"child_added":case"child_moved":if("string"!=typeof t.key||!t.key)throw new Error("Invalid trigger key "+t.key);if(t.prevChild===a.undef)throw new Error("Triggers must provide a valid prevChild value for child_added and child_moved events");break;case"child_removed":case"child_changed":if("string"!=typeof t.key||!t.key)throw new Error("Invalid trigger key "+t.key);break;default:throw new Error("Invalid trigger event type: "+t.event)}}function o(t){return t instanceof s?t._snaps.slice():a.isArray(t)?t.slice():[t]}var a=t("../../common"),s=t("./NormalizedSnapshot.js");r.prototype.create=function(t){var e;return e="value"===this.event?new s(t,this.snaps):new s(t.ref().child(this.key),this.snaps)},r.prototype.toString=function(){return a.printf("SnapshotFactory(event=%s, key=%s, numberOfSnapshots=%s, prevChild=%s",this.event,this.key,this.snaps.length,this.prevChild===a.undef?"undefined":this.prevChild)},e.exports=r},{"../../common":25,"./NormalizedSnapshot.js":8}],17:[function(t,e,n){"use strict";var r=t("../../common"),i=t("./PathManager"),o=t("./Path"),a=t("./FieldMap"),s=t("./RecordSet");e.exports={replicate:function(t,e){var n=t.getPathManager().getPaths().slice(0),u=n[0];n[0]=new o([e,u.name(),u.getDependency()]);var c=new i(r.map(n,function(t){return t.clone()})),l=new a(c);t.getFieldMap().forEach(l.add,l);var f,h=t.getClass();return f=h===s?new h(l,t.filters):new h(l)}}},{"../../common":25,"./FieldMap":4,"./Path":9,"./PathManager":10,"./RecordSet":14}],18:[function(t,e,n){"use strict";function r(t,e,n){var r=o.extend({},c,t);return r.maxCacheSize||(r.maxCacheSize=3*r[e]),i(r,e,n),i(r,"maxCacheSize",n),r}function i(t,e,n){if("number"!=typeof t[e])throw new Error("Argument "+e+" passed into opts for "+n+"must be a number")}var o=t("../common"),a=t("./libs/Scroll.js"),s=t("./libs/Paginate.js"),u=t("./libs/ReadOnlyRef.js"),c={field:null,pageSize:10,windowSize:250};n.Scroll=function(t,e,n){if(!o.isFirebaseRef(t)||o.isQueryRef(t))throw new Error("First argument to Firebase.util.Scroll must be a valid Firebase ref. It cannot be a Query (e.g. you have called orderByChild()).");if("string"!=typeof e)throw new Error("Second argument to Firebase.util.Scroll must be a valid string");if(arguments.length>2&&!o.isObject(n))throw new Error("Optional third argument to Firebase.util.Scroll must be an object of key/value pairs");var i=new u(t);return i.scroll=new a(i,e,r(n,"windowSize","Scroll")),i},n.Paginate=function(t,e,n){if(!o.isFirebaseRef(t)||o.isQueryRef(t))throw new Error("First argument to Firebase.util.Paginate must be a valid Firebase ref. It cannot be a Query (e.g. you have called orderByChild()).");if("string"!=typeof e)throw new Error("Second argument to Firebase.util.Paginate must be a valid string");if(arguments.length>2&&!o.isObject(n))throw new Error("Optional third argument to Firebase.util.Paginate must be an object of key/value pairs");var i=new u(t);return i.page=new s(i,e,r(n,"pageSize","Paginate")),i}},{"../common":25,"./libs/Paginate.js":21,"./libs/ReadOnlyRef.js":22,"./libs/Scroll.js":23}],19:[function(t,e,n){"use strict";function r(t,e,n){i.log.debug("Cache: caching %s using field=%s maxRecordsLoaded=%d",t.toString(),e,n),this.offset=new o({field:e,max:n,ref:t.ref()}),this.outRef=t,this.inRef=null,this.queryRef=null,this.countRef=null,this.keys={},this.start=0,this.count=-1,this.endCount=-1,this.nextListeners=[],this.offset.observe(this._keyChange,this)}var i=t("../../common"),o=t("./Offset");r.prototype.moveTo=function(t,e){i.log.debug("Cache.moveTo: startOffset=%d, numberOfRecords=%d",t,e);var n=this.start,r=this.count;this.start=t,this.count=e,this.endCount=this.start+this.count,n!==this.start?this.offset.goTo(t,e):r!==this.count&&this._refChange()},r.prototype.hasNext=function(){return-1===this.count||this.endCount>this.start+this.count},r.prototype.hasPrev=function(){return this.start>0},r.prototype.observeHasNext=function(t,e){var n=this.nextListeners,r=[t,e];return n.push(r),function(){i.remove(n,r)}},r.prototype.destroy=function(){this._unsubscribe(),this.offset.destroy(),this.offset=null,this.start=0,this.count=-1,this.inRef=null,this.outRef=null,this.queryRef=null,this.countRef=null,this.keys=null,this.nextListeners=null},r.prototype._keyChange=function(t,e,n){this.inRef=n,i.log.debug("Cache._keyChange: %s %s %s",t,e,n.toString()),this._refChange()},r.prototype._unsubscribe=function(){this.queryRef&&(this.queryRef.off("child_added",this._add,this),this.queryRef.off("child_removed",this._remove,this),this.queryRef.off("child_moved",this._move,this),this.queryRef.off("child_changed",this._change,this),this.queryRef.off("value",this._value,this),this.queryRef.off("value",this._removeOrphans,this),this.queryRef=null),this.countRef&&(this.countRef.off("value",this._count,this),this.countRef=null)},r.prototype._refChange=function(){this._unsubscribe(),this.inRef&&this.count>-1&&(this.countRef=this.inRef.limitToFirst(this.count+1),this.countRef.on("value",this._count,this),this.queryRef=this.inRef.limitToFirst(this.count),this.queryRef.on("child_added",this._add,this),this.queryRef.on("child_removed",this._remove,this),this.queryRef.on("child_moved",this._move,this),this.queryRef.on("child_changed",this._change,this),this.queryRef.on("value",this._value,this),this.queryRef.once("value",this._removeOrphans,this))},r.prototype._add=function(t,e){var n=t.key();i.has(this.keys,n)?i.isEqual(this.keys[n],t.val())||this._change(t):(this.keys[n]=t,this.outRef.$trigger("child_added",t,e))},r.prototype._remove=function(t){var e=t.key();i.has(this.keys,e)&&(this.outRef.$trigger("child_removed",t),delete this.keys[e])},r.prototype._move=function(t,e){var n=t.key();i.has(this.keys,n)&&(this.keys[n]=t,this.outRef.$trigger("child_moved",t,e))},r.prototype._change=function(t){this.keys[t.key()]=t,this.outRef.$trigger("child_changed",t)},r.prototype._value=function(t){this.outRef.$trigger("value",t)},r.prototype._count=function(t){this.endCount=this.start+t.numChildren();var e=this.hasNext();i.each(this.nextListeners,function(t){t[0].call(t[1],e)})},r.prototype._removeOrphans=function(t){i.each(this.keys,function(e,n){t.hasChild(n)||(this.outRef.$trigger("child_removed",e),delete this.keys[n])},this)},e.exports=r},{"../../common":25,"./Offset":20}],20:[function(t,e,n){"use strict";function r(t){this.keys=[],this.field=t.field,this.ref=a(t.ref,t.field),this.max=t.max,this.listeners=[],this.curr=0,this.sub=null,this.isSubscribing=!1,this.lastNotifyValue=c.undef,this._debouncedRecache=s(function(){c.log.debug("Offset._debouncedRecache: recaching keys for offset %d",this.curr),this.keys=[],this._grow(this._listen)},this,100,1e3)}function i(t,e){var n;switch(e){case"$key":n=t.key();break;case"$priority":n=t.getPriority();break;case"$value":n=t.val();break;default:var r=t.val();if(!c.isObject(r))throw new Error("A value of type "+typeof r+'Was found. But we are attempting to order by child field "'+e+"\". Pagination requires all records to be objects or it can't determine an appropriate offset value.");n=r[e]}return{val:n,key:t.key()}}function o(t,e){return e===!1?null:null===e?t:t.startAt(e.val,e.key)}function a(t,e){return"$key"===e?t.orderByKey():"$priority"===e?t.orderByPriority():"$value"===e?t.orderByValue():t.orderByChild(e)}function s(t,e,n,r){function i(){if(u&&(u(),u=null),s&&Date.now()-s>r)l||(l=!0,setTimeout(o,0));else{s||(s=Date.now());var t=setTimeout(o,n);u=function(){clearTimeout(t)}}}function o(){u=null,s=null,l=!1,t.apply(e,c)}function a(){c=Array.prototype.slice.call(arguments,0),i()}var s,u,c,l;if("number"==typeof e&&(r=n,n=e,e=null),"number"!=typeof n)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof t)throw new Error("Must provide a valid function to debounce");return r||(r=10*n||100),a.running=function(){return s>0},a}function u(t){var e=t.length;return e?t[e-1]:null}var c=t("../../common");r.prototype.goTo=function(t){t!==this.curr&&(c.log("Offset.goTo: offset changed from %d to %d",this.curr,t),this.curr=t,this.lastNotifyValue=c.undef,this._listen())},r.prototype.observe=function(t,e){this.listeners.push([t,e]);var n=this.getKey(),r=o(this.ref,n);t.call(e,n&&n.val,n&&n.key,r)},r.prototype.getKey=function(t){return arguments.length||(t=this.curr),0===t?null:this.keys.length>t&&this.keys[t]},r.prototype.destroy=function(){this._unsubscribe(),this.curr=0,this.keys=[],this.lastNotifyValue=c.undef,this.isSubscribing=!1},r.prototype._notify=function(){var t=this.getKey();if(!c.isEqual(this.lastNotifyValue,t)){c.log("Offset._notify: key at offset %d is %s",this.curr,t&&t.key),this.lastNotifyValue=t;var e=o(this.ref,t);c.each(this.listeners,function(n){n[0].call(n[1],t&&t.val,t&&t.key,e)})}},r.prototype._recache=function(){this.isSubscribing||this._debouncedRecache()};var l=0;r.prototype._grow=function(t){var e=this,n=e.keys.length;if(e.curr>=n){var r=e.getKey(),o=u(e.keys),a=Math.min(e.curr+(o?2:1)-n,e.max),s=null!==o?e.ref.startAt(o.val,o.key):e.ref;s.limitToFirst(a).once("value",function(n){var s=null!==o;if(n.forEach(function(t){return s?void(s=!1):void e.keys.push(i(t,e.field))}),l++>1e4)throw new Error("Tried to fetch more than 10,000 pages to determine the correct offset. Giving up now. Sorry.");e.curr>=e.keys.length&&n.numChildren()===a?setTimeout(c.bind(e._grow,e,t),0):(l=0,c.log.debug("Offset._grow: Cached %d keys",e.keys.length),t.call(e,!c.isEqual(e.getKey(),r)))})}else t.call(e,!1)},r.prototype._startOffset=function(){return Math.max(0,this.curr-this.max,this.curr-10)},r.prototype._queryRef=function(){var t=this._startOffset(),e=this.ref;if(t>0){var n=this.getKey(t);e=e.startAt(n.val,n.key)}return e.limitToLast(Math.max(this.curr-t,1))},r.prototype._moved=function(t){t.key()===this.getKey()&&this._recache()},r.prototype._unsubscribe=function(){this.sub&&(this.sub.off("child_added",this._recache,this),this.sub.off("child_moved",this._moved,this),this.sub.off("child_removed",this._recache,this),this.sub.off("value",this._doneSubscribing,this),this.sub=null)},r.prototype._subscribe=function(){this._unsubscribe(),this.sub=this._queryRef(),this.isSubscribing=!0,this.sub.on("child_added",this._recache,this),this.sub.on("child_moved",this._moved,this),this.sub.on("child_removed",this._recache,this),this.sub.once("value",this._doneSubscribing,this)},r.prototype._doneSubscribing=function(){this.isSubscribing=!1,this._notify()},r.prototype._monitorEmptyOffset=function(){function t(i){var o=i.numChildren();o>(null===r?0:1)&&(c.log.debug("Offset._monitorEmptyOffset: A value exists now."),n.off("value",t),e._grow())}var e=this,n=e.ref,r=null;this.keys.length&&(r=u(this.keys),n=n.startAt(r.val,r.key)),c.log.debug("Offset._monitorEmptyOffset: No value exists at offset %d, currently %d keys at this path. Watching for a new value.",this.curr,this.keys.length),n.limitToFirst(2).on("value",t)},r.prototype._listen=function(){this._unsubscribe(),this.curr>=this.keys.length?this._grow(function(){this.keys.length>=this.curr?this._subscribe():(this._monitorEmptyOffset(),this._notify())}):this._subscribe()},e.exports=r},{"../../common":25}],21:[function(t,e,n){"use strict";function r(t,e,n){this.currPage=0,this.field=e,this.ref=t,this.pageSize=n.pageSize,this.max=n.maxCacheSize,this.subs=[],this.pageChangeListeners=[],this.pageCountListeners=[],this.cache=new s(t,e,n.maxCacheSize),this.pageCount=-1,this.couldHaveMore=!1,this.cache.observeHasNext(this._countPages,this)}function i(t,e){return 0===t?0:Math.ceil(t/e)}function o(t,e){var n={};if(n.bindFunction=function(t,e){return function(){return t.apply(e,[e])}},n.stateChange=function(t){4==n.request.readyState&&n.callbackFunction(n.request.responseText)},n.getRequest=function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:!1},n.postBody=arguments[2]||"",n.callbackFunction=e,n.url=t,n.request=n.getRequest(),n.request){var r=n.request;r.onreadystatechange=n.bindFunction(n.stateChange,n),""!==n.postBody?(r.open("POST",t,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.setRequestHeader("Connection","close")):r.open("GET",t,!0),r.send(n.postBody)}return n}var a=t("../../common"),s=t("./Cache");r.prototype.next=function(){return this.hasNext()&&(this.currPage++,a.log.debug("Paginate.next: current page is %d",this.currPage),this._pageChange()),this},r.prototype.prev=function(){return this.hasPrev()&&(this.currPage--,a.log.debug("Paginate.prev: current page is %d",this.currPage),this._pageChange()),this},r.prototype.setPage=function(t){t>0&&t<=this.pageCount?(this.currPage=t,a.log.debug("Paginate.setPage: current page is %d",this.currPage),this._pageChange()):a.log.warn("Paginate.setPage: invalid page number %d",t)},r.prototype.hasNext=function(){return this.cache.hasNext()},r.prototype.hasPrev=function(){return this.currPage>1},r.prototype.onPageChange=function(t,e){var n=this.pageChangeListeners,r=[t,e];return n.push(r),t.call(e,this.currPage),function(){a.remove(n,r)}},r.prototype.onPageCount=function(t,e){var n=this.pageCountListeners,r=[t,e];return n.push(r),this.pageCount>-1?t.call(e,this.pageCount,this.couldHaveMore):this._countPages(),function(){a.remove(n,r)}},r.prototype.getCountByDowloadingAllKeys=function(t,e){var n=this;n.downloadingEverything=!0;
var r=n.ref.ref().toString();r.match(/\/$/)||(r+="/"),r+=".json?shallow=true",o(r,function(r){var o=0;try{o=a.keys(JSON.parse(r)).length}catch(s){a.log.warn(s)}a.log.debug("Paginate.getCountByDownloadingAllKeys: found %d keys",o),n.downloadingEverything=!1,n.pageCount=i(o,n.pageSize),n.couldHaveMore=!1,n._notifyPageCount(),t&&t.call(e,o)})},r.prototype.destroy=function(){this.cache.destroy(),this.cache=null,this.ref=null,a.each(this.subs,function(t){t()}),this.subs=[],this.pageCountListeners.length=0,this.pageChangeListeners.length=0},r.prototype._countPages=function(){var t=this,e=t.currPage;if(!this.downloadingEverything)if(-1===t.pageCount){var n=t.max,r=t.pageSize,i=this.ref.ref().limitToFirst(n);i.once("value",function(e){-1===t.pageCount&&(t.couldHaveMore=e.numChildren()===n,t.pageCount=Math.ceil(e.numChildren()/r),t._notifyPageCount(),t._countPages())})}else e>=t.pageCount&&(t.pageCount=e,t.couldHaveMore=t.cache.hasNext(),t._notifyPageCount())},r.prototype._pageChange=function(){var t=this.currPage,e=(t-1)*this.pageSize;this.cache.moveTo(e,this.pageSize),this._countPages(),a.each(this.pageChangeListeners,function(e){e[0].call(e[1],t)})},r.prototype._notifyPageCount=function(){var t=this.pageCount,e=this.couldHaveMore;a.each(this.pageCountListeners,function(n){n[0].call(n[1],t,e)})},e.exports=r},{"../../common":25,"./Cache":19}],22:[function(t,e,n){"use strict";function r(t){this._ref=t,this._obs=new s.Observable(["value","child_added","child_removed","child_moved","child_changed"])}function i(t){return function(){var e=s.toArray(arguments),n=this.ref();return n[t].apply(n,e)}}function o(t){return function(){throw new Error(t+" is not supported. This is a read-only reference. You can modify child records after calling .child(), or work with the original by using .ref().")}}function a(t){return function(){throw new Error(t+" is not supported for Paginate and Scroll references. Try calling it on the original reference used to create the instance instead.")}}var s=t("../../common");r.prototype={on:function(t,e,n,r){this._obs.observe(t,e,n,r)},once:function(t,e,n,r){function i(n){o.off(t,i,o),e.call(r,n)}var o=this;this.on(t,i,n,this)},off:function(t,e,n){this._obs.stopObserving(t,e,n)},ref:function(){return this._ref},child:i("child"),parent:i("parent"),root:i("root"),name:i("name"),key:i("key"),toString:i("toString"),auth:i("auth"),unauth:i("unauth"),authWithCustomToken:i("authWithCustomToken"),authAnonymously:i("authAnonymously"),authWithPassword:i("authWithPassword"),authWithOAuthPopup:i("authWithOAuthPopup"),authWithOAuthRedirect:i("authWithOAuthRedirect"),authWithOAuthToken:i("authWithOAuthToken"),getAuth:i("getAuth"),onAuth:i("onAuth"),offAuth:i("offAuth"),createUser:i("createUser"),changePassword:i("changePassword"),removeUser:i("removeUser"),resetPassword:i("resetPassword"),changeEmail:i("changeEmail"),goOffline:i("goOffline"),goOnline:i("goOnline"),set:o("set"),update:o("update"),remove:o("remove"),push:o("push"),setWithPriority:o("setWithPriority"),setPriority:o("setPriority"),transaction:o("transaction"),limit:a("limit"),onDisconnect:a("onDisconnect"),orderByChild:a("orderByChild"),orderByKey:a("orderByKey"),orderByPriority:a("orderByPriority"),limitToFirst:a("limitToFirst"),limitToLast:a("limitToLast"),startAt:a("startAt"),endAt:a("endAt"),equalTo:a("equalTo"),$trigger:function(){this._obs.triggerEvent.apply(this._obs,s.toArray(arguments))}},e.exports=r},{"../../common":25}],23:[function(t,e,n){"use strict";function r(t,e,n){this.max=n.windowSize,this.start=0,this.end=0,this.cache=new i(t,e,n.maxCacheSize)}var i=t("./Cache");r.prototype.next=function(t){this.hasNext()&&(this.end=this.end+t,this.start=Math.max(0,this.end-this.max,this.start),this.cache.moveTo(this.start,this.end-this.start))},r.prototype.prev=function(t){this.hasPrev()&&(this.start=Math.max(0,this.start-t),this.end=Math.min(this.start+this.max,this.end),this.cache.moveTo(this.start,this.end-this.start))},r.prototype.hasNext=function(){return this.cache.hasNext()},r.prototype.hasPrev=function(){return this.start>0},r.prototype.observeHasNext=function(t,e){return this.cache.observeHasNext(t,e)},r.prototype.destroy=function(){this.cache.destroy(),this.ref=null,this.cache=null},e.exports=r},{"./Cache":19}],24:[function(t,e,n){var r=t("./index.js");n.log=r.log,n.logLevel=r.logLevel,n.escapeEmail=r.escapeEmail},{"./index.js":25}],25:[function(t,e,n){var r=t("./libs/util.js"),i=t("./libs/logger.js");r.extend(n,r,{args:t("./libs/args.js"),log:i,logLevel:i.logLevel,Observable:t("./libs/Observable.js"),Observer:t("./libs/Observer.js"),queue:t("./libs/queue.js")})},{"./libs/Observable.js":26,"./libs/Observer.js":27,"./libs/args.js":28,"./libs/logger.js":29,"./libs/queue.js":30,"./libs/util.js":31}],26:[function(t,e,n){"use strict";function r(t,e){e||(e={}),this._observableProps=s(t,e),this.resetObservers()}function i(t,e){u.each(e,function(e){var n=u.indexOf(t,e);n>=0&&t.splice(n,1)})}function o(t,e){var n=[];return u.each(e,function(e){u.has(t.observers,e)?t.observers[e].length&&(n=n.concat(t.observers[e])):l.warn("Observable.hasObservers: invalid event type %s",e)}),n}function a(t,e,n){u.has(e.oneTimeResults,t)&&n.notify.apply(n,e.oneTimeResults[t])}function s(t,e){return u.extend({onAdd:u.noop,onRemove:u.noop,onEvent:u.noop,oneTimeEvents:[]},e,{eventsMonitored:t,observers:{},oneTimeResults:{}})}var u=t("./util.js"),c=t("./args.js"),l=t("./logger.js"),f=t("./Observer.js");r.prototype={observe:function(t,e,n,r){var i,o=c("observe",arguments,2,4);return t=o.nextFromReq(this._observableProps.eventsMonitored),t&&(e=o.nextReq("function"),n=o.next("function"),r=o.next("object"),i=new f(this,t,e,r,n),this._observableProps.observers[t].push(i),this._observableProps.onAdd(t,i),this.isOneTimeEvent(t)&&a(t,this._observableProps,i)),i},hasObservers:function(t){return this.getObservers(t).length>0},stopObserving:function(t,e,n){var r=c("stopObserving",arguments);t=r.next(["array","string"],this._observableProps.eventsMonitored),e=r.next(["function"]),n=r.next(["object"]),u.each(t,function(t){var r=[],o=this.getObservers(t);u.each(o,function(i){i.matches(t,e,n)&&(i.notifyCancelled(null),r.push(i))},this),i(this._observableProps.observers[t],r),r.length&&this._observableProps.onRemove(t,r)},this)},abortObservers:function(t){var e=[];if(this.hasObservers()){var n=this.getObservers().slice();u.each(n,function(n){n.notifyCancelled(t),e.push(n)},this),this.resetObservers(),e.length&&this._observableProps.onRemove(this.event,e)}},getObservers:function(t){return t=c("getObservers",arguments).listFrom(this._observableProps.eventsMonitored,!0),o(this._observableProps,t)},triggerEvent:function(t){var e=c("triggerEvent",arguments),n=e.listFromWarn(this._observableProps.eventsMonitored,!0),r=e.restAsList();n&&u.each(n,function(e){if(this.isOneTimeEvent(t)){if(u.isArray(this._observableProps.oneTimeResults,t))return void l.warn("One time event was triggered twice, should by definition be triggered once",t);this._observableProps.oneTimeResults[t]=r}var n=this.getObservers(e),i=0;u.each(n,function(t){t.notify.apply(t,r.slice(0)),i++}),this._observableProps.onEvent.apply(null,[e,i].concat(r.slice(0)))},this)},resetObservers:function(){u.each(this._observableProps.eventsMonitored,function(t){this._observableProps.observers[t]=[]},this)},isOneTimeEvent:function(t){return u.contains(this._observableProps.oneTimeEvents,t)},observeOnce:function(t,e,n,r){var i,o=c("observeOnce",arguments,2,4);return t=o.nextFromWarn(this._observableProps.eventsMonitored),t&&(e=o.nextReq("function"),n=o.next("function"),r=o.next("object"),i=new f(this,t,e,r,n,!0),this._observableProps.observers[t].push(i),this._observableProps.onAdd(t,i),this.isOneTimeEvent(t)&&a(t,this._observableProps,i)),i}},e.exports=r},{"./Observer.js":27,"./args.js":28,"./logger.js":29,"./util.js":31}],27:[function(t,e,n){"use strict";function r(t,e,n,r,i,o){if("function"!=typeof n)throw new Error("Must provide a valid notifyFn");this.observable=t,this.fn=n,this.event=e,this.cancelFn=i||function(){},this.context=r,this.oneTimeEvent=!!o}var i=t("./util.js");r.prototype={notify:function(){var t=i.toArray(arguments);this.fn.apply(this.context,t),this.oneTimeEvent&&this.observable.stopObserving(this.event,this.fn,this.context)},matches:function(t,e,n){return i.isArray(t)?i.contains(t,function(t){return this.matches(t,e,n)},this):!(t&&t!==this.event||e&&e!==this&&e!==this.fn||n&&n!==this.context)},notifyCancelled:function(t){this.cancelFn.call(this.context,t||null)}},e.exports=r},{"./util.js":31}],28:[function(t,e,n){"use strict";function r(t,e,n,i){if("string"!=typeof t||!u.isObject(e))throw new Error("Args requires at least 2 args: fnName, arguments[, minArgs, maxArgs]");if(!(this instanceof r))return new r(t,e,n,i);this.fnName=t,this.argList=u.toArray(e),this.origArgs=u.toArray(e);var o=this.length=this.argList.length;if(this.pos=-1,u.isUndefined(n)&&(n=0),u.isUndefined(i)&&(i=this.argList.length),n>o||o>i){var a=i>n?u.printf("%d to %d",n,i):n;throw Error(u.printf("%s must be called with %s arguments, but received %d",t,a,o))}}function i(t,e){return e===!0?!0:(u.isArray(e)||(e=[e]),u.contains(e,function(e){switch(e){case"array":return u.isArray(t);case"string":return"string"==typeof t;case"number":return isFinite(parseInt(t,10));case"int":case"integer":return isFinite(parseFloat(t));case"object":return u.isObject(t);case"function":return"function"==typeof t;case"bool":case"boolean":return"boolean"==typeof t;case"boolean-like":return!u.isObject(t);default:throw new Error("Args received an invalid data type: "+e)}}))}function o(t,e,n,r){if(r=u.printf("%s: invalid argument at pos %d, %s (received %s)",e,n,r),t===!0)throw new Error(r);if(!u.has(c,t))throw new Error("The `required` value passed to Args methods must either be true or a method name from logger");c[t](r)}function a(t,e,n){c.warn("%s: invalid choice %s, must be one of [%s]",t,e,n)}function s(t,e){if(e===!0)return t;var n=u.isArray(e)?e[0]:e;switch(n){case"array":return u.isArray(t)?t:[t];case"string":return t+"";case"number":return parseFloat(t);case"int":case"integer":return parseInt(t,10);case"bool":case"boolean":case"boolean-like":return!!t;case"function":case"object":return t;default:throw new Error("Args received an invalid data type: "+n)}}var u=t("./util.js"),c=t("./logger.js");r.prototype={orig:function(){return this.origArgs.slice(0)},restAsList:function(t,e){var n=this.argList.slice(0);if(t||e)for(var r=0,i=n.length;i>r;r++)this._arg(e||!0,null,t>r);return n},skip:function(){return this.argList.length&&(this.pos++,this.argList.shift()),this},next:function(t,e){return this._arg(t,e,!1)},nextWarn:function(t,e){return this._arg(t,e,"warn")},nextReq:function(t){return this._arg(t,null,!0)},nextFrom:function(t,e){return this._from(t,e,!1)},nextFromWarn:function(t,e){return this._from(t,e,"warn")},nextFromReq:function(t){return this._from(t,null,!0)},listFrom:function(t,e){return this._list(t,e,!1)},listFromWarn:function(t,e){return this._list(t,e,"warn")},listFromReq:function(t){return this._list(t,null,!0)},_arg:function(t,e,n){return this.pos++,(u.isUndefined(t)||null===t)&&(t=!0),this.argList.length&&i(this.argList[0],t)?s(this.argList.shift(),t):(n&&o(n,this.fnName,this.pos,u.printf("must be of type %s",t)),e)},_from:function(t,e,n){return this.pos++,this.argList.length&&u.contains(t,this.argList[0])?this.argList.shift():(n&&o(n,this.fnName,this.pos,u.printf("must be one of %s",t)),e)},_list:function(t,e,n){this.pos++;var r=[],i=this.argList[0];return!this.argList.length||u.isEmpty(i)||!u.isArray(i)&&u.isObject(i)||(this.argList.shift(),u.isArray(i)?r=u.map(i,function(e){return u.contains(t,e)?e:void a(this.fnName,e,t)},this):u.contains(t,i)?r=[i]:a(this.fnName,i,t)),u.isEmpty(r)?(n&&o(n,this.fnName,this.pos,u.printf("choices must be in [%s]",t)),e===!0?t:e):r}},e.exports=r},{"./logger.js":29,"./util.js":31}],29:[function(t,e,n){"use strict";function r(t){return t.charAt(0).toUpperCase()+t.substr(1)}function i(){var t;return"undefined"!=typeof window&&window.location&&window.location.search&&(t=window.location.search.match("\bdebugLevel=([0-9]+)\b")),t?parseInt(t[1],10):u}function o(){return!0}function a(t,e){return e.length?t instanceof RegExp?!t.test(e[0]+""):!(e[0]+"").match(t):!0}function s(t){switch(t){case!1:return 0;case"off":return 0;case"none":return 0;case"error":return 1;case"warn":return 2;case"warning":return 2;case"info":return 3;case"log":return 4;case"debug":return 5;case!0:return u;case"on":return u;case"all":return u;default:return u}}var u=2,c=!1,l={error:o,warn:o,info:o,log:o,debug:o,time:o,timeEnd:o,group:o,groupEnd:o},f=t("./util.js"),h=function(){h.log.apply(null,f.toArray(arguments))};h.warn=o,h.error=o,h.info=o,h.log=o,h.debug=o,h.isErrorEnabled=o,h.isWarnEnabled=o,h.isInfoEnabled=o,h.isLogEnabled=o,h.isDebugEnabled=o,h.logLevel=function(t,e){if("number"!=typeof t&&(t=s(t)),c===t)return function(){};f.each(["error","warn","info","log","debug"],function(n,i){var s="undefined"!=typeof console&&t>=i+1;if(s){var u=f.bind(console["debug"===n?"log":n],console);h[n]=function(){var t=f.toArray(arguments);if(t.length>1&&"string"==typeof t[0]){var n=t[0].match(/(%s|%d|%j)/g);if(n){var r=[f.printf.apply(f,t)];t=t.length>n.length+1?r.concat(t.slice(n.length+1)):r}}e&&a(e,t)||u.apply("undefined"==typeof console?l:console,t)}}else h[n]=o;h["is"+r(n)+"Enabled"]=function(){return s}});var n=function(t){return function(){h.logLevel(t)}}(c);return c=t,n},h.logLevel(i()),e.exports=h},{"./util.js":31}],30:[function(t,e,n){"use strict";function r(t){this.needs=0,this.met=0,this.queued=[],this.errors=[],this.criteria=[],this.processing=!1,i.each(t,this.addCriteria,this)}var i=t("./util.js");r.prototype={addCriteria:function(t,e){if(this.processing)throw new Error("Cannot call addCriteria() after invoking done(), fail(), or handler() methods");return this.criteria.push(e?[t,e]:t),this},getHandler:function(){var t,e;return this.addCriteria(function(n){e!==i.undef?n(e):t=n}),function(n){t?t(n):e=n}},ready:function(){return this.needs===this.met},done:function(t,e){return t&&this._runOrStore(function(){this.hasErrors()||t.call(e)}),this},fail:function(t,e){return this._runOrStore(function(){this.hasErrors()&&t.apply(e,this.getErrors())}),this},handler:function(t,e){return this._runOrStore(function(){t.apply(e,this.getErrors())}),this},chain:function(t){return this.addCriteria(t.handler,t),this},when:function(t){this._runOrStore(function(){this.hasErrors()?t.reject.apply(t,this.getErrors()):t.resolve()})},addError:function(t){this.errors.push(t)},hasErrors:function(){return this.errors.length},getErrors:function(){return this.errors.slice(0)},_process:function(){this.processing=!0,this.needs=this.criteria.length,i.each(this.criteria,this._evaluateCriteria,this)},_evaluateCriteria:function(t){var e=null;i.isArray(t)&&(e=t[1],t=t[0]);try{t.call(e,i.bind(this._criteriaMet,this))}catch(n){this.addError(n)}},_criteriaMet:function(t){t&&this.addError(t),this.met++,this.ready()&&i.each(this.queued,this._run,this)},_runOrStore:function(t){this.processing||this._process(),this.ready()?this._run(t):this.queued.push(t)},_run:function(t){t.call(this)}},e.exports=function(t,e){var n=new r(t);return e&&n.done(e),n}},{"./util.js":31}],31:[function(t,e,n){(function(e){"use strict";function r(t,e){switch(e){case"%d":return parseInt(t,10);case"%j":return t=l.isObject(t)?JSON.stringify(t):t+"",t.length>500&&(t=t.substr(0,500)+".../*truncated*/...}"),t;case"%s":return t+"";default:return t}}function i(t){return l.isObject(t)&&t+""=="[object Arguments]"}function o(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}function a(t,e){var n,r;for(n=0,r=this.length;r>n;++n)n in this&&t.call(e,this[n],n,this)}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function u(t,e){if(null===this)throw new TypeError;var n,r,i=Object(this),o=i.length>>>0;if(0===o)return-1;if(n=0,arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=o)return-1;for(r=n>=0?n:Math.max(o-Math.abs(n),0);o>r;r++)if(r in i&&i[r]===t)return r;return-1}var c,l=n,f=["value","child_added","child_removed","child_updated","child_changed"];l.undef=c,l.Firebase=e.Firebase||t("firebase"),l.isDefined=function(t){return t!==c},l.isUndefined=function(t){return t===c},l.isObject=function(t){return Object.prototype.isPrototypeOf(t)},l.isArray=function(t){return(Array.isArray||s).call(null,t)},l.isFunction=function(t,e){return"string"==typeof e?l.isObject(t)&&l.has(t,e)&&"function"==typeof t[e]:"function"==typeof t},l.toArray=function(t,e){var n=l.map(t,function(t,e){return t});return e>0?n.slice(e):n},l.extend=function(t,e){var n=l.toArray(arguments),r="boolean"==typeof n[0]&&n.shift(),i=n.shift();return l.each(n,function(t){l.isObject(t)&&l.each(t,function(t,e){i[e]=r&&l.isObject(i[e])?l.extend(!0,i[e],t):t})}),i},l.bind=function(t,e){var n=Array.prototype.slice.call(arguments,1);return(t.bind||o).apply(t,n)},l.isEmpty=function(t){return t===c||null===t||l.isArray(t)&&0===t.length||l.isObject(t)&&!l.contains(t,function(t){return!0})},l.keys=function(t){var e=[];return l.each(t,function(t,n){e.push(n)}),e},l.map=function(t,e,n){var r=[];return l.each(t,function(i,o){var a=e.call(n,i,o,t);a!==c&&r.push(a)}),r},l.mapObject=function(t,e,n){var r={};return l.each(t,function(i,o){var a=e.call(n,i,o,t);a!==c&&(r[o]=a)}),r},l.find=function(t,e,n){if(l.isArray(t)){for(var r=0,i=t.length;i>r;r++)if(e.call(n,t[r],r,t)===!0)return t[r]}else if(l.isObject(t)){var o;for(o in t)if(t.hasOwnProperty(o)&&e.call(n,t[o],o,t)===!0)return t[o]}return c},l.filter=function(t,e,n){var r=l.isArray(t),i=r?[]:{};return l.each(t,function(o,a){e.call(n,o,a,t)&&(r?i.push(o):i[a]=o)}),i},l.reduce=function(t,e,n){return l.each(t,function(r,i){e=n(e,r,i,t)}),e},l.has=function(t,e){return l.isObject(t)&&t[e]!==c},l.val=function(t,e){return l.has(t,e)?t[e]:c},l.contains=function(t,e,n){if("function"!=typeof e){if(l.isArray(t))return l.indexOf(t,e)>-1;e=function(t){return function(e){return e===t}}(e)}return l.find(t,e,n)!==c},l.each=function(t,e,n){if(l.isArray(t)||i(t))(t.forEach||a).call(t,e,n);else if(l.isObject(t)){var r;for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}},l.indexOf=function(t,e){return(t.indexOf||u).call(t,e)},l.remove=function(t,e){var n=!1;if(l.isArray(t)){var r=l.indexOf(t,e);r>-1&&(t.splice(r,1),n=!0)}else if(l.isObject(t)){var i;for(i in t)if(t.hasOwnProperty(i)&&e===t[i]){n=!0,delete t[i];break}}return n},l.defer=function(t,e){var n=l.toArray(arguments);setTimeout(l.bind.apply(null,n),0)},l.call=function(t,e){var n=l.toArray(arguments,2),r=[];return l.each(t,function(t){return"function"!=typeof t||e?void(l.isObject(t)&&"function"==typeof t[e]&&r.push(t[e].apply(t,n))):r.push(t.apply(null,n))}),r},l.isEqual=function(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(l.isObject(t)&&l.isObject(e)){var r=l.isArray(t),i=l.isArray(e);if(r||i)return r&&i&&t.length===e.length&&!l.contains(t,function(t,n){return!l.isEqual(t,e[n])});var o=n?l.keys(t):l.keys(t).sort(),a=n?l.keys(e):l.keys(e).sort();return l.isEqual(o,a)&&!l.contains(t,function(t,n){return!l.isEqual(t,e[n])})}return!1},l.bindAll=function(t,e){return l.each(e,function(n,r){"function"==typeof n&&(e[r]=l.bind(n,t))}),e},l.printf=function(){var t=l.toArray(arguments),e=t.shift(),n=e.match(/(%s|%d|%j)/g);return n&&t.length&&l.find(n,function(n){return e=e.replace(n,r(t.shift(),n)),0===t.length}),e},l.mergeToString=function(t){return 0===t.length?null:1===t.length?t[0]:"["+t.join("][")+"]"},l.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},l.noop=function(){};var h=[];l.isFirebaseRef=function(t){if(!l.isObject(t))return!1;var e=Object.getPrototypeOf(t);return e&&e.constructor===l.Firebase.prototype.constructor?!0:"function"==typeof t.ref&&"function"==typeof t.ref().transaction?!0:l.isFirebaseRefWrapper(t)},l.isFirebaseRefWrapper=function(t){return l.contains(h,function(e){return t instanceof e})},l.isQueryRef=function(t){return l.isFirebaseRef(t)&&"function"!=typeof t.transaction},l.registerFirebaseWrapper=function(t){h.push(t)},l._mockFirebaseRef=function(t){l.Firebase=t},l.escapeEmail=function(t){return(t||"").replace(".",",")},l.assertValidEvent=function(t){if(!l.contains(f,t))throw new Error("Event must be one of "+f+", but received "+t)},l.inherits=function(t,e){var n=[t.prototype].concat(l.toArray(arguments).slice(2));return t.prototype=new e,t.prototype.constructor=e,l.each(n,function(e){l.each(e,function(e,n){t.prototype[n]=e})}),t.prototype._super=function(){e.apply(this,arguments)},t},l.deepCopy=function(t){if(!l.isObject(t))return t;var e=l.isArray(t)?[]:{};return l.each(t,function(t,n){e[n]=l.deepCopy(t)}),e},l.pick=function(t,e){if(!l.isObject(t))return{};var n=l.isArray(t)?[]:{};return l.each(e,function(e){n[e]=t[e]}),n},l.eachByPath=function(t,e,n,r){var i={};l.each(e,function(e,n){var r=t.pathFor(n),o=t.getField(n),a=o?o.id:n;l.has(i,r.name())||(i[r.name()]={path:r,data:{}}),i[r.name()].data[a]=e}),l.each(i,function(t){n.call(r,t.path,t.data)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{firebase:"firebase"}],"firebase-util":[function(t,e,n){"use strict";var r=t("./common/index.js");r.extend(n,t("./common/exports.js"),t("./NormalizedCollection/exports.js"),t("./Paginate/exports.js")),"undefined"!=typeof window&&window.hasOwnProperty("Firebase")&&(window.Firebase.util=r)},{"./NormalizedCollection/exports.js":2,"./Paginate/exports.js":18,"./common/exports.js":24,"./common/index.js":25}]},{},[1]),function(){function t(t){function e(e,n,r,i,o,a){for(;o>=0&&a>o;o+=t){var s=i?i[o]:o;r=n(r,e[s],s,e)}return r}return function(n,r,i,o){r=b(r,o,4);var a=!S(n)&&y.keys(n),s=(a||n).length,u=t>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=t),e(n,r,i,a,u,s)}}function e(t){return function(e,n,r){n=$(n,r);for(var i=A(e),o=t>0?0:i-1;o>=0&&i>o;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(r,i,o){var a=0,s=A(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(l.call(r,a,s),y.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&s>o;o+=t)if(r[o]===i)return o;return-1}}function r(t,e){var n=j.length,r=t.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)o=j[n],o in t&&t[o]!==i[o]&&!y.contains(e,o)&&e.push(o)}var i=this,o=i._,a=Array.prototype,s=Object.prototype,u=Function.prototype,c=a.push,l=a.slice,f=s.toString,h=s.hasOwnProperty,d=Array.isArray,p=Object.keys,g=u.bind,v=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},$=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return $(t,e,1/0)};var w=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;s>u;u++){var c=a[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}},k=function(t){if(!y.isObject(t))return{};if(v)return v(t);m.prototype=t;var e=new m;return m.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},C=Math.pow(2,53)-1,A=x("length"),S=function(t){var e=A(t);return"number"==typeof e&&e>=0&&C>=e};y.each=y.forEach=function(t,e,n){e=b(e,n);var r,i;if(S(t))for(r=0,i=t.length;i>r;r++)e(t[r],r,t);else{var o=y.keys(t);for(r=0,i=o.length;i>r;r++)e(t[o[r]],o[r],t)}return t},y.map=y.collect=function(t,e,n){e=$(e,n);for(var r=!S(t)&&y.keys(t),i=(r||t).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var r;return r=S(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==r&&-1!==r?t[r]:void 0},y.filter=y.select=function(t,e,n){var r=[];return e=$(e,n),y.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate($(e)),n)},y.every=y.all=function(t,e,n){e=$(e,n);for(var r=!S(t)&&y.keys(t),i=(r||t).length,o=0;i>o;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=$(e,n);for(var r=!S(t)&&y.keys(t),i=(r||t).length,o=0;i>o;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,r){return S(t)||(t=y.values(t)),("number"!=typeof n||r)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=l.call(arguments,2),r=y.isFunction(e);return y.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var r,i,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=S(t)?t:y.values(t);for(var s=0,u=t.length;u>s;s++)r=t[s],r>o&&(o=r)}else e=$(e,n),y.each(t,function(t,n,r){i=e(t,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=t,a=i)});return o},y.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e&&null!=t){t=S(t)?t:y.values(t);for(var s=0,u=t.length;u>s;s++)r=t[s],o>r&&(o=r)}else e=$(e,n),y.each(t,function(t,n,r){i=e(t,n,r),(a>i||i===1/0&&o===1/0)&&(o=t,a=i)});return o},y.shuffle=function(t){for(var e,n=S(t)?t:y.values(t),r=n.length,i=Array(r),o=0;r>o;o++)e=y.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},y.sample=function(t,e,n){return null==e||n?(S(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=$(e,n),y.pluck(y.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var E=function(t){return function(e,n,r){var i={};return n=$(n,r),y.each(e,function(r,o){var a=n(r,o,e);t(i,r,a)}),i}};y.groupBy=E(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=E(function(t,e,n){t[n]=e}),y.countBy=E(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?l.call(t):S(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:S(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=$(e,n);var r=[],i=[];return y.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},y.first=y.head=y.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var _=function(t,e,n,r){for(var i=[],o=0,a=r||0,s=A(t);s>a;a++){var u=t[a];if(S(u)&&(y.isArray(u)||y.isArguments(u))){e||(u=_(u,e,n));var c=0,l=u.length;for(i.length+=l;l>c;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};y.flatten=function(t,e){return _(t,e,!1)},y.without=function(t){return y.difference(t,l.call(arguments,1))},y.uniq=y.unique=function(t,e,n,r){y.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=$(n,r));for(var i=[],o=[],a=0,s=A(t);s>a;a++){var u=t[a],c=n?n(u,a,t):u;e?(a&&o===c||i.push(u),o=c):n?y.contains(o,c)||(o.push(c),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(_(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=A(t);i>r;r++){var o=t[r];if(!y.contains(e,o)){for(var a=1;n>a&&y.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},y.difference=function(t){var e=_(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,A).length||0,n=Array(e),r=0;e>r;r++)n[r]=y.pluck(t,r);return n},y.object=function(t,e){for(var n={},r=0,i=A(t);i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,r){n=$(n,r,1);for(var i=n(e),o=0,a=A(t);a>o;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;r>o;o++,t+=n)i[o]=t;return i};var O=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=k(t.prototype),a=t.apply(o,i);return y.isObject(a)?a:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,l.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),r=function(){return O(t,r,e,this,n.concat(l.call(arguments)))};return r},y.partial=function(t){var e=l.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),a=0;i>a;a++)o[a]=e[a]===y?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return O(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return y.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:y.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var c=y.now();s||n.leading!==!1||(s=c);var l=e-(c-s);return r=this,i=arguments,0>=l||l>e?(a&&(clearTimeout(a),a=null),s=c,o=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,l)),o}},y.debounce=function(t,e,n){var r,i,o,a,s,u=function(){var c=y.now()-a;e>c&&c>=0?r=setTimeout(u,e-c):(r=null,n||(s=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=y.now();var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(s=t.apply(o,i),o=i=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},y.once=y.partial(y.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return P&&r(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return P&&r(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},y.mapObject=function(t,e,n){e=$(e,n);for(var r,i=y.keys(t),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=e(t[r],r,t);return a},y.pairs=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];
return r},y.invert=function(t){for(var e={},n=y.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(t,e,n){e=$(e,n);for(var r,i=y.keys(t),o=0,a=i.length;a>o;o++)if(r=i[o],e(t[r],r,t))return r},y.pick=function(t,e,n){var r,i,o={},a=t;if(null==a)return o;y.isFunction(e)?(i=y.allKeys(a),r=b(e,n)):(i=_(arguments,!1,!1,1),r=function(t,e,n){return e in n},a=Object(a));for(var s=0,u=i.length;u>s;s++){var c=i[s],l=a[c];r(l,c,a)&&(o[c]=l)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var r=y.map(_(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(r,e)}}return y.pick(t,e,n)},y.defaults=w(y.allKeys,!0),y.create=function(t,e){var n=k(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;r>o;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var F=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!F(t[u],e[u],n,r))return!1}else{var c,l=y.keys(t);if(u=l.length,y.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!y.has(e,c)||!F(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(t,e){return F(t,e)},y.isEmpty=function(t){return null==t?!0:S(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=d||function(t){return"[object Array]"===f.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===f.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return i._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=x,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var r=Array(Math.max(0,t));e=b(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=y.invert(T),R=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};y.escape=R(T),y.unescape=R(M),y.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),y.isFunction(r)?r.call(t):r};var N=0;y.uniqueId=function(t){var e=++N+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,I=function(t){return"\\"+q[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var r=RegExp([(e.escape||D).source,(e.interpolate||D).source,(e.evaluate||D).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(U,I),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(t){return a.call(this,t,y)},c=e.variable||"obj";return u.source="function("+c+"){\n"+o+"}",u},y.chain=function(t){var e=y(t);return e._chain=!0,e};var L=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),L(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],L(this,n)}}),y.each(["concat","join","slice"],function(t){var e=a[t];y.prototype[t]=function(){return L(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),angular.module("quote",["ngAnimate","templates","ui.router","firebase"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/home",templateUrl:"components/home/home.html",controller:"HomeCtrl as home",resolve:HomeCtrl.resolve}),e.otherwise("/home")}]).run(function(){}).constant("Const",{db:"https://quoteextension.firebaseio.com/dev",ref:new Firebase("https://quoteextension.firebaseio.com/dev")}),angular.module("templates",[]).run(["$templateCache",function(t){t.put("components/home/home.html",'<!-- HomeCtrl as home -->\n\n\n\n\n<div class="home-wrapper" ng-style="{ \'background-color\': home.currentColor.val }">\n	\n\n	\n\n\n		<br>\n		<br>\n\n		<button ng-click="home.show.settings = !home.show.settings">Settings</button>\n		<button ng-click="home.show.form = !home.show.form">Form</button>\n		<button ng-click="home.generateQuoteList()">Generate Quotes</button>\n		<a ng-href="{{ home.quote.link }}">link</a>\n\n		\n	<!-- quote -->\n	<div class="quote-wrapper u-centerXY" ng-if="::home.quote.body">\n		<div class="quote">\n			<p class="quote-body">{{ home.quote.body }}</p>\n			<p class="quote-author">&#8212; {{ home.quote.author | uppercase}}</p>\n		</div>\n	</div>\n\n	<!-- settings -->\n	<div ng-include="\'components/settings/settings.html\'"></div>\n\n	<!-- form -->\n	<div ng-if="home.show.form" \n		ng-include="\'components/form/form.html\'"></div>\n	\n</div>\n\n\n\n\n\n\n\n\n\n'),t.put("components/form/form.html",'<div ng-controller="FormCtrl as form">\n\n	<div ng-repeat="quote in form.quotesAdded">{{ quote.body }} -{{ quote.author}}</div>\n	\n	<br>\n\n	<input type="text" placeholder="Package Name" ng-model="form.packageName">\n\n	<br>\n\n	<input type="text" placeholder="Quote" ng-model="form.quoteCurrent.body">\n\n	<br>\n\n	<input type="text" placeholder="Author" ng-model="form.quoteCurrent.author">\n\n	<br>\n\n	<input type="text" placeholder="Link" ng-model="form.quoteCurrent.link">\n\n	<br>\n\n	<button ng-click="form.addQuote()">Add Quote</button>\n\n	<br>\n\n	<button ng-click="form.createPackage()">Save Package</button>\n\n</div>'),t.put("components/settings/settings.html",'<div ng-controller="SettingsCtrl as settings" \n	class="settings-wrapper u-centerXY"\n	ng-if="home.show.settings">\n\n	<!-- head -->\n	<div class="settings-head">\n\n		<!-- packages -->\n		<div class="settings-tab" \n			ng-click="settings.toggleTab(\'packages\')"\n			ng-class="{ \'is-active\': settings.show.packages }">\n			<i class="settings-tab-icon icon ion-ios-folder"></i>\n			<span class="settings-tab-text">Packages</span>\n		</div>\n		\n		<!-- colors -->\n		<div class="settings-tab" \n			ng-click="settings.toggleTab(\'colors\')"\n			ng-class="{ \'is-active\': settings.show.colors }">\n			<i class="settings-tab-icon icon ion-paintbucket"></i>\n			<span class="settings-tab-text">Colors</span>\n		</div>\n		\n		<!-- account -->\n		<div class="settings-tab" \n			ng-click="settings.toggleTab(\'account\')"\n			ng-class="{ \'is-active\': settings.show.account }">\n			<i class="settings-tab-icon--bigger icon ion-ios-person"></i>\n			<span class="settings-tab-text">Account</span>\n		</div>\n\n	</div>\n\n	<div class="settings-body">\n\n		<!-- packages -->\n		<div ng-include="\'components/settings/packages/packages.html\'"></div>\n\n		<!-- colors -->\n		<div ng-include="\'components/settings/colors/colors.html\'"></div>\n\n		<!-- account -->\n		<div ng-include="\'components/settings/account/account.html\'"></div>\n\n	</div>\n	\n	\n	\n</div>'),t.put("components/settings/colors/colors.html",'<div ng-controller="ColorsCtrl as colors"\n	ng-show="settings.show.colors">\n	\n\n	<div class="color-wrapper u-centerXY">\n		<div class="color u-centerY" \n			ng-repeat="color in ::colors.colors track by $index" \n			ng-click="colors.selectColor(color)"\n			ng-style="colors.getColorStyle(color)">\n		</div>\n	</div>\n</div>'),t.put("components/settings/packages/packages.html",'<div ng-controller="PackagesCtrl as packages"\n	ng-show="settings.show.packages">\n\n	<!-- head -->\n	<div class="packages-head">\n		\n		<input type="text" class="packages-search">\n\n		<button class="button button--success">Create Package</button>\n\n	</div>\n\n	<!-- titles -->\n	<div class="packages-titles">\n		<div class="packages-title">Subscribed</div>\n		<div class="packages-title">Created</div>\n		<div class="packages-title">Other</div>\n	</div>\n\n	<!-- body -->\n	<div class="packages-body">\n\n		<!-- subscribed -->\n		<div class="packages-col">\n			<package-dctv \n				ng-repeat="package in packages.packagesSubscribed"\n				package="package"\n				type="subscribed">\n		</div>\n\n		<!-- created -->\n		<div class="packages-col">\n			<package-dctv \n				ng-repeat="package in packages.packagesOwn"\n				package="package"\n				type="own">\n		</div>\n\n		<!-- other -->\n		<div class="packages-col">\n			<package-dctv \n				ng-repeat="package in packages.packagesAll | packagesAllFltr: packages.packagesOwn: packages.packagesSubscribed"\n				package="package"\n				type="all">\n		</div>\n\n	</div>\n\n</div>'),t.put("components/settings/packages/package/package.html",'<div class="package--{{ type }}" \n	ng-click="show.options = true" \n	ng-mouseleave="show.options = false">\n	\n	<!-- primary -->\n	<div class="package-pri">\n		<span class="package-name">{{ package.name }}</span>\n	</div>\n\n	<!-- secondary -->\n	<div class="package-sec">\n		<span class="package-author">by Toks Fifo</span>\n		<span class="package-length">5</span>\n	</div>\n\n	<!-- options -->\n	<div class="package-options" ng-show="show.options">\n		\n		<!-- view option -->\n		<div class="package-view">\n			\n			<!-- view -->\n			<i class="icon ion-eye package-button--view" \n				ng-if="::type === \'subscribed\' || type === \'all\'"></i>\n\n			<!-- edit -->\n			<i class="icon ion-edit package-button--view"\n				ng-if="::type === \'own\'"></i>\n\n		</div>\n\n		<!-- action option -->\n		<div class="package-action--{{ type }}">\n\n			<!-- add -->\n			<i class="icon ion-plus package-button" \n				ng-if="::type === \'own\' || type === \'all\'"\n				ng-click="addPackage(package.$id)"></i>\n\n			<!-- remove -->\n			<i class="icon ion-close package-button"\n				ng-if="::type === \'subscribed\'"\n				ng-click="removePackage(package.$id)"></i>\n\n		</div>\n\n	</div>\n\n</div>')}]),angular.module("quote").factory("AuthSvc",AuthSvc),AuthSvc.$inject=["$q","$firebaseAuth","Const","UserSvc"],angular.module("quote").factory("DataSvc",DataSvc),DataSvc.$inject=["$q","$firebaseArray","$firebaseObject","Const"],angular.module("quote").filter("packagesAllFltr",packagesAllFltr),angular.module("quote").controller("FormCtrl",FormCtrl),FormCtrl.$inject=["DataSvc","AuthSvc"],angular.module("quote").controller("HomeCtrl",HomeCtrl),HomeCtrl.resolve={authStatus:["AuthSvc",function(t){return t.checkAuth()}]},HomeCtrl.$inject=["$q","authStatus","DataSvc","AuthSvc"],angular.module("quote").controller("SettingsCtrl",SettingsCtrl),angular.module("quote").factory("UserSvc",UserSvc),UserSvc.$inject=["$q","Const"],angular.module("quote").controller("ColorsCtrl",ColorsCtrl),ColorsCtrl.$inject=["DataSvc","AuthSvc"],angular.module("quote").controller("PackagesCtrl",PackagesCtrl),PackagesCtrl.$inject=["AuthSvc","DataSvc"],angular.module("quote").directive("packageDctv",packageDctv),packageDctv.$inject=["DataSvc","AuthSvc"];