<div ng-controller="PackagesCtrl as packages"
	ng-show="settings.show.packages">

	<!-- head -->
	<div class="packages-head">
		
		<!-- search -->
		<input type="text" class="packages-search">

		<!-- filter packages -->
		<button class="button--info" ng-click="packages.filter.created = !packages.filter.created">Show Created</button>

		<!-- create package -->
		<button class="button--success">Create Package</button>

	</div>

	<!-- titles -->
	<div class="packages-titles">
		<div class="packages-title">Subscribed</div>
		<div class="packages-title">Other</div>
	</div>

	<!-- body -->
	<div class="packages-body">

		<!-- subscribed -->
		<div class="packages-col">
			<!-- show subscribed packages. only show packages owned by user on packages.filter.created -->
			<package-dctv
				ng-repeat="package in packages.packagesSubscribed | 
				packagesFltr: (packages.filter.created ? packages.packagesOwn : 'all'): 'include'"
				package="package"
				type="subscribed">
		</div>

		<!-- other -->
		<div class="packages-col">
			<!-- show other packages that user is not subscribed to (by excluding subscribed from all), then filter by owned packages on packages.filter.created -->
			<package-dctv 
				ng-repeat="package in packages.packagesAll |
				packagesFltr: packages.packagesSubscribed: 'exclude' |
				packagesFltr: (packages.filter.created ? packages.packagesOwn : 'all'): 'include'"
				package="package"
				type="all">
		</div>

	</div>

</div>